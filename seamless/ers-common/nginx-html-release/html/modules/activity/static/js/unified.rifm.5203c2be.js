(self.webpackChunk_unified_activity=self.webpackChunk_unified_activity||[]).push([[3845],{42517:(e,t,n)=>{"use strict";function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{V:()=>r});var r=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._state=null,n._del=!1,n._handleChange=function(e){var t=n.state.value,o=e.target.value,r=e.target,a=o.length>t.length,s=n._del,i=t===n.props.format(o);n.setState({value:o,local:!0},(function(){var e=r.selectionStart,u=n.props.refuse||/[^\d]+/g,l=o.substr(0,e).replace(u,"");if(n._state={input:r,before:l,op:a,di:s&&i,del:s},n.props.replace&&n.props.replace(t)&&a&&!i){for(var p=-1,c=0;c!==l.length;++c)p=Math.max(p,o.toLowerCase().indexOf(l[c].toLowerCase(),p+1));var d=o.substr(p+1).replace(u,"")[0];p=o.indexOf(d,p+1),o=""+o.substr(0,p)+o.substr(p+1)}var h=n.props.format(o);t===h?n.setState({value:o}):n.props.onChange(h)}))},n._hKD=function(e){"Delete"===e.code&&(n._del=!0)},n._hKU=function(e){"Delete"===e.code&&(n._del=!1)},n.state={value:t.value,local:!0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n),r.getDerivedStateFromProps=function(e,t){return{value:t.local?t.value:e.value,local:!1}};var a=r.prototype;return a.render=function(){var e=this._handleChange,t=this.state.value;return(0,this.props.children)({value:t,onChange:e})},a.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD),document.removeEventListener("keyup",this._hKU)},a.componentDidMount=function(){document.addEventListener("keydown",this._hKD),document.addEventListener("keyup",this._hKU)},a.componentDidUpdate=function(){var e=this._state;if(e){for(var t=this.state.value,n=-1,o=0;o!==e.before.length;++o)n=Math.max(n,t.toLowerCase().indexOf(e.before[o].toLowerCase(),n+1));if(this.props.replace&&(e.op||e.del&&!e.di))for(;t[n+1]&&(this.props.refuse||/[^\d]+/).test(t[n+1]);)n+=1;e.input.selectionStart=e.input.selectionEnd=n+1+(e.di?1:0)}this._state=null},r}(n(81934).Component)}}]);