(self.webpackChunk_unified_actor=self.webpackChunk_unified_actor||[]).push([[3566],{6490:(e,t,r)=>{"use strict";r.d(t,{rW:()=>W,XF:()=>u,Um:()=>fe});var n=r(7603),a=r(2411),l=r.n(a),o=r(8049),i=r(8896),c=r(9609);const u=function(e){var t=e.disable,r=void 0!==t&&t,l=e.url,u=void 0===l?"/home/actor/adhoc-users/create":l,s=(0,c.useTranslation)().t;return a.createElement(n.SeamlessButton,{component:o.Link,to:u,variant:"contained",color:"primary",disabled:r,endIcon:a.createElement(i.Z,null)},s("createButton"))};var s=r(3664),d=r(1744),m=r.n(d),f=r(1416);const p=r.n(f)();function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g,v,b;function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z=null===(g=window)||void 0===g?void 0:g.config;null==Z||null===(v=Z.slugs)||void 0===v||v.tpStaff,null==Z||null===(b=Z.slugs)||void 0===b||b.retailer;const A=function(e){var t=e.children,r=e.data,n=O(a.useState([]),2),l=n[0],o=n[1],i=O(a.useState(!1),2),c=i[0],u=i[1],m=O(a.useState(0),2),f=m[0],g=m[1],v=(0,d.useServerTable)({page:0,perPage:20,order:"asc",orderBy:"",filter:{}}),b=(0,s.Z)().showErrorMessage;return a.useEffect((function(){var e;u(!0);var t=r.type,n=r.resellerData,a=void 0===n?{}:n,l=(null==Z||null===(e=Z.actorConfig)||void 0===e?void 0:e["".concat(t)])||t;l=Array.isArray(l)?l.join(","):l;var i=[];a.region&&(i.push({name:"region",value:a.region}),function(e){for(var t in e)delete e[t]}(a));var c={additionalFields:i,resellerData:w({resellerTypeId:l,contractId:"",resellerId:"",countryCode:"",resellerMSISDN:"",resellerName:""},a)},s=v.perPage*v.page;(function(e,t,r){return p("/dms/auth/searchResellersByAttribute?limit=".concat(t,"&offSet=").concat(r),{method:"POST",body:e})})(c,v.perPage,s).then((function(e){0===e.resultCode?(g(e.totalCount),o(function(e){return e.map((function(e){var t=e.resellerData,r=t.resellerId,n=t.resellerName,a=t.resellerTypeName,l=t.parentResellerName,o=t.parentResellerId,i=t.resellerMSISDN,c=t.resellerTypeId,u=t.timezone,s=t.status,d=t.resellerJuridicalName,m=t.contractId,f=t.principalKey,p={},g=e.additionalFields;if(g&&g.length>0)for(var v in g){var b=g[v];["region","trackerStatus","cmsStatus","designation"].includes(b.name)&&(p[b.name]=b.value)}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({resellerId:r,name:"".concat(n," ").concat(d),resellerName:n,resellerTypeName:a,parentResellerName:l,resellerMSISDN:i,parentResellerId:o,resellerTypeId:c,principalKey:f,timezone:u,status:s,contractId:m},p)}))}(e.resellers))):(b(e),o([]))})).catch((function(e){return b(e)})).finally((function(){return u(!1)}))}),[r,v.perPage,v.page]),a.createElement(a.Fragment,null,t(w({listData:l,loading:c,count:f},v)))};var I,C,j=r(8592),P=r(7277),N=r(4808),U=r(4874),T=r(552),D=r(4104),k=r.n(D),x=r(7490),M=((0,N.makeStyles)((function(e){return(0,N.createStyles)({dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},element:{width:300},button:{width:80,marginRight:e.spacing(1)}})})),(null===(I=window)||void 0===I||null===(C=I.config)||void 0===C?void 0:C.actorConfig)||{}),B=null==M?void 0:M.slugs,_="tpStaff",F={adhocUser:x.Z.editAdHocUser,retailer:x.Z.editRetailerUser,tpStaff:x.Z.editTPStaffUser};const L=function(e){var t=e.loading,r=e.listData,n=void 0===r?[]:r,l=e.page,i=e.perPage,u=e.count,s=e.onPageChange,d=e.columns,f=void 0===d?[]:d,p=e.type,h=void 0===p?"Adhoc User":p,y=e.onPageSizeChange,g=(0,c.useTranslation)().t,v=k()().checkPermission;return a.useEffect((function(){var e=Object.keys(B),t=Object.values(B).indexOf(h);_=e[t]||"tpStaff"}),[h]),f.length>0&&f.push({field:"actions",headerName:g("actions"),sortable:!1,renderCell:function(e){return a.createElement("div",null,a.createElement(j.Z,{size:"small",color:"primary","aria-label":"group action buttons"},v(F[_])&&a.createElement(P.Z,{component:o.Link,to:"/home/reseller/resellers/edit/".concat(e.getValue("resellerId"),"?resellerId=").concat(h)},a.createElement(U.Z,{fontSize:"small"})),a.createElement(P.Z,{component:o.Link,to:"/home/reseller/resellers/edit/".concat(e.getValue("resellerId"),"?resellerId=").concat(h,"&viewOnly=1")},a.createElement(T.Z,{fontSize:"small"}))))},flex:1}),a.createElement(m(),{loading:t,onPageSizeChange:function(e){y(e.pageSize)},onPageChange:function(e){s(e.page)},columnBuffer:2,disableColumnFilter:!0,pagination:!0,paginationMode:"server",page:l,rows:n,pageSize:i,getRowId:function(e){return e.principalKey},columns:f,rowCount:u,autoHeight:!0})};function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const W=function(e){var t=e.data;return a.createElement(a.Fragment,null,a.createElement(A,{data:t},(function(e){var r=e.listData,n=e.loading,l=e.count,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["listData","loading","count"]);return a.createElement(L,K({listData:r,loading:n,count:l},o,{type:t.type,columns:t.columns||[]}))})))};var V=r(9692),H=r(2420),z=r(7556),G=r(4603),$=r(1837),q=r(1853),X=r(6705),J=r(3299),Q=r(2412),Y=r(4546),ee=r(698),te=r(5103),re=r(3553),ne=r(30),ae=r(5256),le=r(8348),oe=r(2231),ie=r(9653),ce=r(6277);function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var me=(0,V.Z)((function(e){return(0,H.Z)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},m1:{marginLeft:e.spacing(1)},iconButton:{padding:10},divider:{height:28,margin:4}})}));function fe(e){var t=e.handleSubmit,r=me(),n=(0,c.useTranslation)().t,a=se(l().useState("resellerId"),2),o=a[0],i=a[1],u=se(l().useState(""),2),s=u[0],d=u[1],m={resellerId:n("searchWithResellerId"),resellerMSISDN:n("searchWithMSISDN"),resellerName:n("searchWithName"),email:n("searchWithEmail"),resellerTypeName:n("searchWithDesignation"),region:n("searchWithRegion")},f=se(l().useState(null),2),p=f[0],h=f[1],y=function(e){h(e.currentTarget)},g=function(e){i(e),h(null)},v=l().useCallback((function(e){var r=ue({},o,s);"email"===o&&(r={address:ue({},o,s)}),t(r),e.preventDefault()}),[o,s]);return l().createElement(re.Z,{display:"flex"},l().createElement(z.Z,{component:"form",onSubmit:v,className:r.root},l().createElement(ne.ZP,{title:"".concat(n(m[o]))},l().createElement($.Z,{onClick:y},"resellerId"===o&&l().createElement(X.Z,null),"resellerMSISDN"===o&&l().createElement(J.Z,null),"email"===o&&l().createElement(Q.Z,null),"resellerName"===o&&l().createElement(Y.Z,null),"resellerTypeName"===o&&l().createElement(ee.Z,null),"region"===o&&l().createElement(te.Z,null))),l().createElement(ae.Z,{className:r.divider,orientation:"vertical"}),l().createElement(G.Z,{className:r.input,onChange:function(e){return d(e.target.value)},placeholder:m[o]}),l().createElement($.Z,{type:"submit",className:r.iconButton,"aria-label":"search"},l().createElement(q.Z,null))),l().createElement("div",null,l().createElement($.Z,{type:"button",className:(0,ce.default)(r.iconButton,r.m1),onClick:y,"aria-label":"search"},l().createElement(ie.GridFilterAltIcon,null)),l().createElement(le.Z,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:function(){h(null)}},l().createElement(oe.Z,{disabled:"resellerId"===o,onClick:function(){return g("resellerId")}},n("employeeId")),l().createElement(oe.Z,{disabled:"resellerMSISDN"===o,onClick:function(){return g("resellerMSISDN")}},n("phoneNumber")),l().createElement(oe.Z,{disabled:"resellerName"===o,onClick:function(){return g("resellerName")}},n("name")),l().createElement(oe.Z,{disabled:"email"===o,onClick:function(){return g("email")}},n("email")),l().createElement(oe.Z,{disabled:"resellerTypeName"===o,onClick:function(){return g("resellerTypeName")}},n("Designation")),l().createElement(oe.Z,{disabled:"region"===o,onClick:function(){return g("region")}},n("Region")))))}},4579:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(2411),a=r.n(n),l=r(8670);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const i=function(e){var t,r,n=(t=a().useState(null),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],c=n[1],u=(0,l.useSelector)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.rbac}),l.shallowEqual);return a().useEffect((function(){var t,r=(null===(t=u.features.find((function(t){return t.module===e})))||void 0===t?void 0:t.features)||[];c(r)}),[u]),i}},4896:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n,a,l,o,i=r(2411),c=r(8049),u=r(7490),s=r(4104),d=r.n(s),m=r(7603),f=r(9609),p=r(6490),h=r(905),y=r(3553);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=(null===(n=window)||void 0===n||null===(a=n.config)||void 0===a?void 0:a.actorConfig)||{},b=null!==(l=null==v||null===(o=v.slugs)||void 0===o?void 0:o.tpStaff)&&void 0!==l?l:"TP Staff";const E=function(){var e,t,r=(0,f.useTranslation)().t,n=(d()().checkPermission,e=i.useState({}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],l=n[1],o=[{field:"name",headerName:r("name"),sortable:!0,width:150},{field:"resellerId",headerName:r("employeeId"),sortable:!0,width:150},{field:"resellerMSISDN",headerName:r("mobileNumber"),sortable:!0,width:150},{field:"region",headerName:r("region"),sortable:!0,width:200},{field:"resellerTypeName",headerName:r("designation"),sortable:!0,width:200}];return i.createElement(m.SeamlessContainer,{title:r("actorManagement"),description:r("tpStaff")},i.createElement(h.Z,{container:!0,spacing:3},i.createElement(h.Z,{item:!0,xs:12,sm:12},i.createElement(y.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},i.createElement(y.Z,null),i.createElement(p.Um,{handleSubmit:function(e){l(e)}})))),i.createElement(p.rW,{data:{type:b,columns:o,resellerData:a}}))},w=function(){var e=(0,c.useRouteMatch)().path,t=d()().AccessControlled;return i.createElement(c.Switch,null,i.createElement(c.Route,{path:e+"/create"},i.createElement(t,{feature:u.Z.createAdHocUsers},i.createElement("h2",null,"Create Adhoc User"))),i.createElement(c.Route,{path:e+"/edit/:id"},i.createElement(t,{feature:u.Z.editAdhocUser},i.createElement("h2",null,"Edit Adhoc User"))),i.createElement(c.Route,{path:e+"/view/:id"},i.createElement(t,{feature:u.Z.viewAdHocUsers},i.createElement("h2",null,"View Adhoc User"))),i.createElement(c.Route,{path:e+"/"},i.createElement(E,null)),i.createElement(c.Route,null,i.createElement(t,{feature:u.Z.ViewReseller},i.createElement(E,null))))}},996:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n,a,l,o,i=r(2411),c=r(8049),u=r(7490),s=r(4104),d=r.n(s),m=r(7603),f=r(9609),p=r(6490),h=r(905),y=r(3553);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=(null===(n=window)||void 0===n||null===(a=n.config)||void 0===a?void 0:a.actorConfig)||{},b=null!==(l=null==v||null===(o=v.slugs)||void 0===o?void 0:o.adhocUser)&&void 0!==l?l:"Adhoc User";const E=function(){var e,t,r=(0,f.useTranslation)().t,n=d()().checkPermission,a=(e=i.useState({}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],o=a[1],c=[{field:"name",headerName:r("name"),sortable:!0,width:200},{field:"resellerId",headerName:r("retailerId"),sortable:!0,width:200},{field:"resellerMSISDN",headerName:r("mobileNumber"),sortable:!0,width:300}];return i.createElement(m.SeamlessContainer,{title:r("actorManagement"),description:r("adhocUser")},i.createElement(h.Z,{container:!0,spacing:3},i.createElement(h.Z,{item:!0,xs:12,sm:12},i.createElement(y.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},i.createElement(y.Z,null,n(u.Z.createAdHocUser)&&i.createElement(p.XF,{url:"/home/reseller/resellers/create?resellerId=".concat(b)})),i.createElement(p.Um,{handleSubmit:function(e){o(e)}})))),i.createElement(p.rW,{data:{type:b,columns:c,resellerData:l}}))},w=function(){var e=(0,c.useRouteMatch)().path,t=d()().AccessControlled;return i.createElement(c.Switch,null,i.createElement(c.Route,{path:e+"/create"},i.createElement(t,{feature:u.Z.createAdHocUsers},i.createElement("h2",null,"Create Adhoc User"))),i.createElement(c.Route,{path:e+"/edit/:id"},i.createElement(t,{feature:u.Z.editAdhocUser},i.createElement("h2",null,"Edit Adhoc User"))),i.createElement(c.Route,{path:e+"/view/:id"},i.createElement(t,{feature:u.Z.viewAdHocUsers},i.createElement("h2",null,"View Adhoc User"))),i.createElement(c.Route,{path:e+"/"},i.createElement(E,null)),i.createElement(c.Route,null,i.createElement(t,{feature:u.Z.ViewReseller},i.createElement(E,null))))}},4281:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var n=r(2411),a=r(8049),l=r(7490),o=r(4104),i=r.n(o),c=r(7603),u=r(9609),s=r(6490),d=r(6619),m=r(905),f=r(3553),p=r(7277),h=r(4913),y=r.n(h),g=r(6277),v=r(9692),b=r(2420);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=(0,v.Z)((function(e){return(0,b.Z)({tabBtn:{marginLeft:0,textTransform:"capitalize",backgroundColor:"#FFF",color:"#46A2EB",padding:e.spacing(1.25),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},lftBtn:{borderTopRightRadius:0,borderBottomRightRadius:0},rgtBtn:{borderTopLeftRadius:0,borderBottomLeftRadius:0},active:{backgroundColor:"#46A2EB",color:"white"},filterRoot:{paddingLeft:12,marginTop:8}})}));function Z(e){var t=R(),r=e.item,a=e.applyValue;return n.createElement("div",{className:t.filterRoot},n.createElement(d.Z,{className:t.filterRoot,name:r.field,value:r.value,onChange:function(e){a(S(S({},r),{},{value:e.target.value}))}}))}const A=function(){var e,t,r=(0,u.useTranslation)().t,a=i()().checkPermission,o=R(),d=(e=n.useState("active"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=d[0],v=d[1],b=[{label:"Equal",value:"equal",getApplyFilterFn:function(e){return e.columnField&&e.value&&e.operatorValue?function(t){return t.value==e.value}:null},InputComponent:Z}],w=[{field:"name",headerName:r("name"),sortable:!0,filterOperators:b,flex:1},{field:"description",headerName:r("description"),sortable:!0,filterOperators:b,flex:2},{field:"status",headerName:r("status"),sortable:!0,filterOperators:b,width:150}],S={editGroup:a(l.Z.editGroup),deleteGroup:a(l.Z.deleteGroup)};return n.createElement(c.SeamlessContainer,{title:r("actorManagement"),description:r("userGroups")},n.createElement(m.Z,{container:!0,spacing:3},n.createElement(m.Z,{item:!0,xs:12,sm:12},n.createElement(f.Z,{display:"flex",justifyContent:"space-between",alignItems:"center"},n.createElement("div",null,n.createElement(p.Z,{variant:"contained",className:(0,g.default)(o.tabBtn,o.lftBtn,"active"===h&&o.active),onClick:function(){return v("active")}},r("active")),n.createElement(p.Z,{variant:"contained",className:(0,g.default)(o.tabBtn,o.rgtBtn,"blocked"===h&&o.active),onClick:function(){return v("blocked")}},r("blocked"))),a(l.Z.createGroup)&&n.createElement(s.XF,{url:"/home/group/groups/create?source=actor"})))),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(y(),{status:h,permissions:S,columns:w,referrer:"actor"})))},I=function(){var e=(0,a.useRouteMatch)().path,t=i()().AccessControlled;return n.createElement(a.Switch,null,n.createElement(a.Route,{path:e+"/create"},n.createElement(a.Redirect,{to:"/home/group/groups/create"})),n.createElement(a.Route,{path:e+"/"},n.createElement(A,null)),n.createElement(a.Route,null,n.createElement(t,{feature:l.Z.ViewReseller},n.createElement(A,null))))}},5106:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n,a,l,o=r(2411),i=r(8049),c=r(7490),u=r(4104),s=r.n(u),d=r(7603),m=r(9609),f=r(6490),p=r(905),h=r(3553);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=null===(n=window)||void 0===n?void 0:n.config,v=null!==(a=null==g||null===(l=g.slugs)||void 0===l?void 0:l.retailer)&&void 0!==a?a:"Retailer";const b=function(){var e,t,r=(0,m.useTranslation)().t,n=(s()().checkPermission,e=o.useState({}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],l=n[1],i=[{field:"name",headerName:r("name"),sortable:!0,width:200},{field:"resellerId",headerName:r("employeeId"),sortable:!0,width:150},{field:"resellerMSISDN",headerName:r("Mobile Number"),sortable:!0,width:150},{field:"region",headerName:r("region"),sortable:!0,width:150},{field:"status",headerName:r("trackerStatus"),sortable:!0,width:150},{field:"cmsStatus",headerName:r("cmsStatus"),sortable:!0,width:150}];return o.createElement(d.SeamlessContainer,{title:r("actorManagement"),description:r("retailer")},o.createElement(p.Z,{container:!0,spacing:3},o.createElement(p.Z,{item:!0,xs:12,sm:12},o.createElement(h.Z,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},o.createElement(h.Z,null),o.createElement(f.Um,{handleSubmit:function(e){l(e)}})))),o.createElement(f.rW,{data:{type:v,columns:i,resellerData:a}}))},E=function(){var e=(0,i.useRouteMatch)().path,t=s()().AccessControlled;return o.createElement(i.Switch,null,o.createElement(i.Route,{path:e+"/create"},o.createElement(t,{feature:c.Z.createAdHocUsers},o.createElement("h2",null,"Create Adhoc User"))),o.createElement(i.Route,{path:e+"/edit/:id"},o.createElement(t,{feature:c.Z.editAdhocUser},o.createElement("h2",null,"Edit Adhoc User"))),o.createElement(i.Route,{path:e+"/view/:id"},o.createElement(t,{feature:c.Z.viewAdHocUsers},o.createElement("h2",null,"View Adhoc User"))),o.createElement(i.Route,{path:e+"/"},o.createElement(b,null)),o.createElement(i.Route,null,o.createElement(t,{feature:c.Z.ViewReseller},o.createElement(b,null))))}},9851:(e,t,r)=>{"use strict";r.d(t,{Z:()=>K});var n,a=r(2411),l=r(8049),o=r(7490),i=r(4104),c=r.n(i),u=r(7603),s=r(9609),d=r(6490),m=r(905),f=r(3553),p=r(1744),h=r.n(p),y=r(8592),g=r(7277),v=r(7358),b=r(4874),E=r(552),w=r(9058),S=r(6054),O=r(3664),R=r(9952),Z=r.n(R),A=r(1693),I=r.n(A),C=r(1513),j=r.n(C);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U=!1;const T=function(e){var t=e.roles,r=e.loading,l=(function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}(e,["roles","loading"]),(0,s.useTranslation)().t),i=(0,O.Z)().showWarningMessage,u=c()().checkPermission,d=j()({redirectUrl:"/home/actor/role"}),m=d.deleteRole,f=d.updateRole,p=d.loading,R=P(a.useState(!1),2),A=R[0],C=R[1],N=P(a.useState(!1),2),T=N[0],D=N[1],k=P(a.useState(0),2),x=k[0],M=k[1],B=a.useCallback((function(e){if(!n)return i(l("anErrorOccurred"));f(n.roleKey,e,(function(e){e||D(!1)}))}),[]),_=[{field:"roleName",headerName:l("roleName"),sortable:!0,width:200},{field:"passwordPolicyKey",headerName:l("passwordPolicyKey"),sortable:!0,width:170},{field:"roleDescription",headerName:l("roleDescription"),sortable:!0,width:320},{field:"actions",headerName:l("actions"),sortable:!1,flex:1,renderCell:function(e){return a.createElement("div",null,a.createElement(y.Z,{size:"small",color:"primary",variant:"text","aria-label":"roles action buttons"},u(o.Z.editRole)&&a.createElement(g.Z,{onClick:function(){var r=e.getValue("roleKey");(n=t.find((function(e){return e.roleKey===r})))&&D(!0),U=!1}},a.createElement(b.Z,{fontSize:"small"})),a.createElement(g.Z,{onClick:function(){var r=e.getValue("roleKey");n=t.find((function(e){return e.roleKey===r})),U=!0,n&&D(!0)}},a.createElement(E.Z,{fontSize:"small"})),u(o.Z.deleteRole)&&a.createElement(g.Z,{onClick:function(){C(!0),M(e.getValue("roleKey"))}},a.createElement(w.Z,{fontSize:"small",style:{color:S.Z[400]}}))))}}];return a.createElement(a.Fragment,null,a.createElement(h(),{loading:p||r,columnBuffer:2,rows:t,getRowId:function(e){return e.roleKey},columns:_,checkboxSelection:!1}),a.createElement(Z(),{open:T,maxWidth:"lg",loading:p||r,onClose:function(){return D(!1)},dialogTitle:l(U?"viewUserRolesPageTitle":"editUserRolesPageTitle"),dialogDescription:l(U?"viewRolesPageDescription":"editRolesPageDescription")},n&&a.createElement(I(),{"data-testid":"edit-policy",edit:!0,view:U,hideFields:["importId","addressLock","userIdRegexp","webUser","terminalUser","passwordPolicyKey"],data:n,onFormSubmit:function(e){return B(e)}}),r?a.createElement(v.Z,null):null),a.createElement(Z(),{open:A,loading:p||r,onClose:function(){C(!1)},onOk:function(){m(x,(function(e){e||C(!1)}))},dialogTitle:"".concat(l("deleteRolesConfirmationTitle")," ").concat(x),dialogDescription:"".concat(l("deleteRolesConfirmationText")," ").concat(x),okButtonText:l("yesConfirmationButton"),closeButtonText:l("noConfirmationButton")}))};var D=r(3960),k=r.n(D);const x=function(){return a.createElement(k(),{cacheEnabled:!1},(function(e){var t=e.roles,r=e.loading;return a.createElement(T,{roles:t,loading:r})}))},M=function(){var e=(0,s.useTranslation)().t,t=c()().checkPermission;return a.createElement(u.SeamlessContainer,{title:e("actorManagement"),description:e("userRoles")},a.createElement(m.Z,{container:!0,spacing:3},a.createElement(m.Z,{item:!0,xs:12,sm:12},a.createElement(f.Z,{display:"flex",flexDirection:"row-reverse",alignItems:"center"},t(o.Z.createRole)&&a.createElement(d.XF,{url:"/home/actor/role/create"})))),a.createElement("div",{style:{height:600,width:"100%"}},a.createElement(x,null)))};var B,_,F={roleKey:1,domainKey:5,addressLock:"",importId:"",parentRoleKey:0,passwordPolicyKey:null!==(_=((null===(B=window.config)||void 0===B?void 0:B.actorConfig)||{}).defaultPasswordPolicyKey)&&void 0!==_?_:1,roleDescription:"",roleName:"",terminalUser:!0,userIdRegexp:"",webUser:!0};const L=function(){var e=(0,s.useTranslation)().t,t=j()({redirectUrl:"/home/actor/role"}),r=t.createRole,n=t.loading;return a.createElement(u.SeamlessContainer,{title:e("createUserRolePageTitle"),description:""},a.createElement(I(),{"data-testid":"create-roles",data:F,onFormSubmit:function(e,t){return r(e,t)},hideFields:["importId","addressLock","userIdRegexp","webUser","terminalUser","passwordPolicyKey"]}),n?a.createElement(v.Z,null):null)},K=function(){var e=(0,l.useRouteMatch)().path,t=c()().AccessControlled;return a.createElement(l.Switch,null,a.createElement(l.Route,{path:e+"/create"},a.createElement(L,null)),a.createElement(l.Route,{path:e+"/"},a.createElement(M,null)),a.createElement(l.Route,null,a.createElement(t,{feature:o.Z.ViewReseller},a.createElement(M,null))))}},7490:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={viewAdHocUser:"ADHOC_USER_VIEW",createAdHocUser:"CREATE_ADHOC_USER",editAdHocUser:"EDIT_ADHOC_USER",editTPStaffUser:"EDIT_TP_STAFF_USER",viewTPStaffUser:"VIEW_TP_STAFF_USER",editRetailerUser:"EDIT_RETAILER_USER",viewRetailerUser:"VIEW_RETAILER_USER",createRole:"CREATE_ROLE",editRole:"EDIT_ROLE",deleteRole:"DELETE_ROLE",createGroup:"CREATE_GROUP",editGroup:"EDIT_GROUP",deleteGroup:"DELETE_GROUP"}},3664:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(3248),a=r(9609);const l=function(){var e=(0,n.useSnackbar)().enqueueSnackbar,t=(0,a.useTranslation)().t;function r(e){var r=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(r=e[t])})),r}return{showSuccessMessage:function(t){e("string"!=typeof t?r(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?r(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?r(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?r(t):t,{variant:"warning"})}}}}}]);