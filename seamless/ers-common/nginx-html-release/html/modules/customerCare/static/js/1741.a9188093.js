(self.webpackChunk_unified_customercare=self.webpackChunk_unified_customercare||[]).push([[1741],{4579:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});var r=t(2411),a=t.n(r),i=t(8670);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}const o=function(e){var n,t,r=(n=a().useState(null),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(n,t)||function(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],c=r[1],s=(0,i.useSelector)((function(e){var n;return null==e||null===(n=e.auth)||void 0===n?void 0:n.rbac}),i.shallowEqual);return a().useEffect((function(){var n,t=(null===(n=s.features.find((function(n){return n.module===e})))||void 0===n?void 0:n.features)||[];c(t)}),[s]),o}},7492:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c});var r=t(2411),a=t(7603),i=t(9609),l=t(2822),o=t.n(l);const c=function(){var e=(0,i.useTranslation)().t;return r.createElement(a.SeamlessContainer,{title:e("p2pPinResetTitle"),description:e("p2pPinResetDescription")},r.createElement(o(),null))}},334:(e,n,t)=>{"use strict";t.d(n,{sj:()=>O,ol:()=>c,G7:()=>g});var r=t(2411),a=t(7603),i=t(9609),l=t(2358),o=t.n(l);const c=function(e){var n=e.isHierarchy,t=void 0!==n&&n,l=(e.customerCare,(0,i.useTranslation)().t);return r.createElement(a.SeamlessContainer,{title:l("searchTransaction"),description:l("searchTransactionDescription","")},r.createElement(o(),{isHierarchy:t,customerCare:!0}))};t(7492);var s=t(1784),u=t.n(s),m=t(8049);const g=function(e){var n=e.customFeatureList,t=void 0===n?[]:n,l=(0,i.useTranslation)().t,o=(0,m.useParams)().id;return r.createElement(a.SeamlessContainer,{title:l("transactionReference")+" - ".concat(o),description:l("ViewTransactionDesc")},r.createElement(u(),{customFeatureList:t}))};var f=t(9692),d=t(2420),p=t(905),v=t(7277),h=t(6277),y=t(1416);const b=t.n(y)();var E=t(3248);const S=function(){var e=(0,E.useSnackbar)().enqueueSnackbar,n=(0,i.useTranslation)().t;function t(e){var t=n("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(n){e.hasOwnProperty(n)&&(t=e[n])})),t}return{showSuccessMessage:function(n){e("string"!=typeof n?t(n):n,{variant:"success"})},showErrorMessage:function(n){e("string"!=typeof n?t(n):n,{variant:"error"})},showInfoMessage:function(n){e("string"!=typeof n?t(n):n,{variant:"info"})},showWarningMessage:function(n){e("string"!=typeof n?t(n):n,{variant:"warning"})}}};var w=t(436),C=t(5256),T=t(1837),I=t(4874),k=t(4104),A=t.n(k);function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var R=(0,f.Z)((function(e){return(0,d.Z)({button:{marginRight:e.spacing(1),marginTop:e.spacing(3.5),marginLeft:e.spacing(1)},element:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginRight:e.spacing(1),marginLeft:e.spacing(1)},grid:{marginLeft:e.spacing(1)},check:{marginTop:e.spacing(2.7),marginRight:e.spacing(1)},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",marginRight:e.spacing(2),marginTop:e.spacing(1.5)},fieldValue:{marginTop:e.spacing(1.5)},rowSpacing:{},spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(3)},dialogWrapper:{"& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const Z=function(e){var n,t,l=e.language,o=e.setLanguage,c=e.resellerId,s=e.reseller,u=e.subscriber,m=e.msisdn,g=R(),f=(0,i.useTranslation)().t,d=A()().checkPermission,v=S(),y=v.showErrorMessage,E=v.showSuccessMessage,k=D(r.useState(!1),2),L=k[0],Z=k[1],N=D(r.useState(!1),2),M=(N[0],N[1]),B=D(r.useState(l),2),P=B[0],O=B[1],j=(null===(n=window.config.customerCare)||void 0===n?void 0:n.languageOptions)||[],x=function(){Z(!1)},W=r.useCallback((function(e,n,t,r,a,i){M(!0),r&&function(e,n){return b("/dms/auth/updateReseller",{method:"POST",body:{dealerData:{resellerData:{resellerId:e,language:n}},dealerPrincipal:{id:e,type:"RESELLERID"}}})}(t,n).then((function(n){var t,r;0===(null==n?void 0:n.resultCode)?(E(null==n?void 0:n.resultDescription),o(null==n||null===(t=n.resellerInfo)||void 0===t||null===(r=t.resellerData)||void 0===r?void 0:r.language)):(y(null==n?void 0:n.resultMessage),O(e))})).catch((function(n){y(n.message),O(e)})).finally((function(){M(!1),x()})),a&&function(e,n){return b("/txe/subscribers/v1/updatePreferredLanguageBySubscriberId?subscriberId=".concat(e,"&preferredLanguage=").concat(n),{method:"PUT"})}(i,n).then((function(n){0===n.resultCode?(E(null==n?void 0:n.resultMessage),o(null==n?void 0:n.language)):(y(null==n?void 0:n.resultMessage),O(e))})).catch((function(n){y(n.message),O(e)})).finally((function(){M(!1),x()}))}),[s,u]);return r.useEffect((function(){O(l)}),[l]),r.createElement(r.Fragment,null,r.createElement(p.Z,{className:g.rowSpacing},r.createElement(w.Z,{variant:"subtitle1",color:"primary"},r.createElement(C.Z,{className:(0,h.default)(g.spacingTop,g.spacingBottom)}),f("Details"))),r.createElement(p.Z,{container:!0,className:g.rowSpacing},r.createElement(p.Z,{item:!0},r.createElement(w.Z,{className:g.fieldHeading},f("language")+" :")),r.createElement(p.Z,{item:!0},r.createElement(w.Z,{className:g.fieldValue},(null==j||null===(t=j.filter((function(e){return(null==e?void 0:e.value)===l})))||void 0===t?void 0:t.map((function(e){return null==e?void 0:e.key}))[0])||"-")),d("EDIT_LANGUAGE")&&r.createElement(T.Z,{onClick:function(){return Z(!0)}},r.createElement(I.Z,{color:"primary",style:{fontSize:"20px"}}))),r.createElement(a.SeamlessDialog,{open:L,onClose:x,className:g.dialogWrapper,maxWidth:"sm"},r.createElement(r.Fragment,null,r.createElement("div",{className:g.modalContentSpacing},r.createElement(w.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:g.fontHeavy},f("editLanguagePreference"))),r.createElement("div",{className:g.modalContentSpacing},r.createElement(a.SeamlessDropDown,{className:(0,h.default)(g.element),fullWidth:!0,required:!0,name:"UpdateLanguage",options:j,value:P,onChange:function(e){return O(e.target.value)},label:f("language")}),r.createElement(a.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:g.btnSpace,onClick:function(){x(),O(l)}},f("close")),r.createElement(a.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:function(){return W(l,P,c,s,u,m)}},f("update"))))))};function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return M(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var B=(0,f.Z)((function(e){return(0,d.Z)({button:{marginRight:e.spacing(1),marginTop:e.spacing(3.5),marginLeft:e.spacing(1)},element:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginRight:e.spacing(1),marginLeft:e.spacing(1)},grid:{marginLeft:e.spacing(1)},check:{marginTop:e.spacing(2.7),marginRight:e.spacing(1)}})}));const P=function(){var e=N(r.useState(!0),2),n=e[0],t=e[1],l=N(r.useState(!1),2),o=l[0],c=l[1],s=N(r.useState(""),2),u=s[0],m=s[1],g=N(r.useState(""),2),f=g[0],d=g[1],y=N(r.useState(""),2),E=y[0],w=y[1],C=N(r.useState(!1),2),T=(C[0],C[1]),I=N(r.useState(!1),2),k=I[0],A=I[1],D=B(),L=(0,i.useTranslation)().t,R=S().showErrorMessage,M=r.useCallback((function(e){var t,r;o&&(t=e,b("/dms/auth/getResellerInfo",{method:"POST",body:{dealerID:{id:t,type:"RESELLERMSISDN"},fetchAccountBalanceInformation:!1}})).then((function(e){var n,t,r,a,i;null!=e&&null!==(n=e.resellerInfo)&&void 0!==n&&n.resellerData?(A(!0),d(null==e||null===(t=e.resellerInfo)||void 0===t||null===(r=t.resellerData)||void 0===r?void 0:r.language),w(null==e||null===(a=e.resellerInfo)||void 0===a||null===(i=a.resellerData)||void 0===i?void 0:i.resellerId)):R(null==e?void 0:e.resultDescription)})).catch((function(e){return R(e.message)})).finally((function(){return T(!1)})),n&&(r=e,b("/txe/subscribers/v1/getPreferredLanguageBySubscriberId?subscriberId=".concat(r))).then((function(e){A(!0),d(null==e?void 0:e.language)})).catch((function(e){return R(e.message)})).finally((function(){return T(!1)}))}),[n,o,k]);return r.createElement(r.Fragment,null,r.createElement(p.Z,{className:D.grid},r.createElement(a.Check,{className:(0,h.default)(D.check),name:"subscriber",checked:n,label:L("subscriber"),handleChange:function(e){t(e.target.checked),c(!o),m(""),A(!1)},color:"primary"}),r.createElement(a.Check,{className:(0,h.default)(D.check),name:"reseller",checked:o,label:L("reseller"),handleChange:function(e){c(e.target.checked),t(!n),m(""),A(!1)},color:"primary"})),r.createElement(p.Z,null,r.createElement(a.SeamlessInput,{className:(0,h.default)(D.element),required:!0,name:"msisdn",value:u,onChange:function(e){return m(e.target.value)},label:L("msisdn")}),r.createElement(v.Z,{disabled:!u,onClick:function(e){A(!1),M(u)},className:(0,h.default)(D.button),color:"primary",variant:"contained"},L("search")),r.createElement(v.Z,{onClick:function(e){window.location.reload()},className:(0,h.default)(D.button),color:"primary",variant:"outlined"},L("resetButton"))),r.createElement(p.Z,null,k&&r.createElement(Z,{language:f,setLanguage:d,resellerId:E,setResellerId:w,reseller:o,setReseller:c,subscriber:n,setSubscriber:t,msisdn:u,setMsisdn:m})))},O=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var n=(0,i.useTranslation)().t,t=A()().AccessControlled;return r.createElement(t,{feature:"LANGUAGE_PREFERENCE"},r.createElement(a.SeamlessContainer,{title:n("languagePreference"),description:n("languagePreferenceDesc","")},r.createElement(P,null)))}}}]);