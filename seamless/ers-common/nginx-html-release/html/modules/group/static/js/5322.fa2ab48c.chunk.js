(self.webpackChunk_unified_group=self.webpackChunk_unified_group||[]).push([[5322],{77885:(e,t,n)=>{"use strict";n.d(t,{kA:()=>o,Y2:()=>a,Qt:()=>i});var r=n(84496),o=function(e,t){return(0,r.Z)("/groupmanagementsystem/v1/group/".concat(e,"/admin"),{method:"POST",body:{admins:t}})},a=function(e,t){var n=t.map((function(e){return"adminIds=".concat(e)})).join("&");return(0,r.Z)("/groupmanagementsystem/v1/group/".concat(e,"/admin?").concat(n),{method:"DELETE"})},i=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/".concat(e,"/admin"))}},84496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(61416);const o=n.n(r)()},36414:(e,t,n)=>{"use strict";n.d(t,{kA:()=>f.kA,fZ:()=>p.f,Fj:()=>c,sS:()=>l,zi:()=>d.zi,Ds:()=>v.Ds,Y2:()=>f.Y2,iE:()=>s,oG:()=>p.o,Qb:()=>d.Qb,e$:()=>v.e$,Nk:()=>m,Qt:()=>f.Qt,VL:()=>i,jA:()=>a,KP:()=>d.KP,G6:()=>d.G6,H4:()=>v.H4,lg:()=>g,mD:()=>u,f9:()=>d.f9,HH:()=>v.HH});var r=n(84496),o=n(34126),a=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group?".concat(o.stringify(e)))},i=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/".concat(e))},u=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group",{method:"PUT",body:{group:e}})},l=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group",{method:"POST",body:{group:e}})},s=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/".concat(e),{method:"DELETE"})},c=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group",{method:"POST",body:{group:e}})},m=function(e,t){var n=e?"status=".concat(e):"",o=t?"&name=".concat(t):"";return(0,r.Z)("/groupmanagementsystem/v1/group?".concat(n).concat(o))},g=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e,"/allowedTypes"))},p=n(52353),d=n(11283),f=n(77885),v=n(25087)},52353:(e,t,n)=>{"use strict";n.d(t,{o:()=>o,f:()=>a});var r=n(84496),o=function(e,t){var n=t.map((function(e){return"memberIds=".concat(e)})).join("&");return(0,r.Z)("/groupmanagementsystem/v1/group/".concat(e,"/member?").concat(n),{method:"DELETE"})},a=function(e,t){return(0,r.Z)("/groupmanagementsystem/v1/group/".concat(e,"/member"),{method:"POST",body:t})}},11283:(e,t,n)=>{"use strict";n.d(t,{G6:()=>o,KP:()=>a,zi:()=>i,f9:()=>u,Qb:()=>l});var r=n(84496),o=function(){return(0,r.Z)("/groupmanagementsystem/v1/group/operation")},a=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/operation/".concat(e))},i=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/operation",{method:"POST",body:{operation:e}})},u=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/operation",{method:"PUT",body:{operation:e}})},l=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/operation/".concat(e),{method:"DELETE"})}},25087:(e,t,n)=>{"use strict";n.d(t,{H4:()=>o,Ds:()=>a,HH:()=>i,e$:()=>u});var r=n(84496),o=function(){return(0,r.Z)("/groupmanagementsystem/v1/group/relation")},a=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/relation",{method:"POST",body:{groupRelation:e}})},i=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/relation",{method:"PUT",body:{groupRelation:e}})},u=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/relation/".concat(e),{method:"DELETE"})}},93710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r,o=n(51119),a=n(74315),i=n(55238),u=n(2411),l=n(13248),s=n(36414),c=n(48049),m=n(63135);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d="",f=null;null===(r=document.querySelector(".MuiDataGridPanelContent-root"))||void 0===r||r.querySelector(".MuiIconButton-sizeSmall");const v=function(e){var t=e.children,n=e.status,r=e.name,g=((0,i.Z)(e,["children","status","name"]),u.useState([])),v=(0,a.Z)(g,2),y=v[0],b=v[1],h=u.useState(!1),Z=(0,a.Z)(h,2),S=Z[0],E=Z[1],O=u.useState(0),P=(0,a.Z)(O,2),C=P[0],w=P[1],T=u.useState(20),j=(0,a.Z)(T,2),k=j[0],M=j[1],D=u.useState(1),N=(0,a.Z)(D,2),B=N[0],F=N[1],z=u.useState("desc"),H=(0,a.Z)(z,2),L=H[0],G=H[1],R=u.useState("name"),q=(0,a.Z)(R,2),I=q[0],W=q[1],x=u.useState({}),V=(0,a.Z)(x,2),A=V[0],Q=V[1],U=u.useState(!1),_=(0,a.Z)(U,2),K=_[0],Y=_[1],$=(0,l.useSnackbar)().enqueueSnackbar,J=(0,m.useTranslation)().t,X=(0,c.useHistory)(),ee=u.useCallback((function(e){var t=e.sortModel[0].field,n=e.sortModel[0].sort;W(t),G(n)}),[]),te=u.useCallback((function(e){if(e&&null!=e&&e.filterModel){var t,n,r,a;null===(n=null===(t=document.querySelector(".MuiDataGridPanelContent-root"))||void 0===t?void 0:t.querySelector(".MuiIconButton-sizeSmall"))||void 0===n||n.addEventListener("click",(function(){if(d)return X.push("/home/group/groups")}));var i=(null===(r=e.filterModel.items[0])||void 0===r?void 0:r.value)||"",u=(null===(a=e.filterModel.items[0])||void 0===a?void 0:a.columnField)||"";if(!i)return;f&&clearTimeout(f),f=setTimeout((function(){Q(p(p({},A),{},(0,o.Z)({},u,i))),F(B)}),800)}}),[]),ne=u.useCallback((function(e){F(e)}),[]),re=u.useCallback((function(e){M(e)}),[]);return u.useEffect((function(){E(!0);var e=r||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return e[r]?"".concat(n?"".concat(n.trim(),","):"").concat(r,":").concat(null===(t=e[r])||void 0===t?void 0:t.trim()):n.trim()}),"")}(A);r&&F(1);var t={status:n,sort:"".concat(I,"_").concat(null==L?void 0:L.toLowerCase()),page:e===d?B:1,perPage:k,filter:e,name:null==r?void 0:r.split(":")[1]};(0,s.jA)(t).then((function(t){if(0!==t.resultCode)throw new Error(t.resultMessage);var n,r=t.groups.map((function(e){var t=e.data.find((function(e){return"groupType"===e.dataName}));return p(p({},e),{},{groupType:t?t.dataValue:J("emptyValueMark")})}));b(r),null!=t&&t.metadata&&(Y(!0),w((null==t||null===(n=t.metadata)||void 0===n?void 0:n.totalCount)||0)),d=e})).catch((function(e){$(e.message?e.message:e.resultMessage,{variant:"error"}),b([])})).finally((function(){return E(!1)}))}),[I,L,B,k,A,n,r]),u.createElement(u.Fragment,null,t({groups:y,loading:S,totalCount:C,page:B,perPage:k,orderBy:I,order:L,filter:A,onSort:ee,setParentPage:ne,onFilterChange:te,setParentPerPage:re,filterSupport:K}))}},21016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(74315),o=n(51119),a=n(2411),i=n(48049),u=n(63135),l=n(77277),s=n(38592),c=n(86619),m=n(90436),g=n(64874),p=n(60552),d=n(89058),f=n(79692),v=n(12420),y=n(66054),b=n(13248),h=n(41744),Z=n.n(h),S=n(70773),E=n(36414);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=(0,f.Z)((function(e){return(0,v.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},formWrapper:{padding:"".concat(e.spacing(1.5)," 0")},formWidget:{marginTop:e.spacing(5),"& .MuiFormControl-root":{marginBottom:e.spacing(1.5),marginRight:e.spacing(1.5)},"& .MuiTypography-root":{marginBottom:e.spacing(1)}},saveBtn:{marginTop:e.spacing(3)},modalImageSize:{maxWidth:70},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},filterRoot:{paddingLeft:12,marginTop:8}})}));function w(e){var t=C(),n=e.item,r=e.applyValue;return a.createElement("div",{className:t.filterRoot},a.createElement(c.Z,{className:t.filterRoot,name:n.field,value:n.value,onChange:function(e){r(P(P({},n),{},{value:e.target.value}))}}))}const T=function(e){var t,n=e.loading,o=e.groups,c=e.columns,f=e.referrer,v=e.permissions,h=void 0===v?{}:v,O=e.totalCount,P=e.setParentPage,T=e.setParentPerPage,j=e.page,k=e.perPage,M=e.onFilterChange,D=e.onSort,N=e.filterSupport,B=(0,u.useTranslation)().t,F=(0,b.useSnackbar)().enqueueSnackbar,z=C(),H=a.useState(!1),L=(0,r.Z)(H,2),G=L[0],R=L[1],q=a.useState(0),I=(0,r.Z)(q,2),W=I[0],x=I[1],V=f?"/"+f:"/list",A=j>=1?j-1:1,Q=function(){R(!1)},U=function(){(0,E.iE)(W).then((function(e){var t;if(0!==e.resultCode)throw new Error(e.resultMessage);null===(t=document.querySelector("[data-id='"+W+"']"))||void 0===t||t.remove(),R(!1),F(e.resultMessage,{variant:"success"})})).catch((function(e){return F(e.message?e.message:e.resultMessage,{variant:"error"})}))},_=[{label:"Equal",value:"equal",getApplyFilterFn:function(e){return e.columnField&&e.value&&e.operatorValue?function(t){return t.value==e.value}:null},InputComponent:w}];return!c&&(c=[{field:"id",headerName:B("groupId"),sortable:!0,filterOperators:_,width:100},{field:"name",headerName:B("name"),sortable:!0,filterOperators:_,width:200},{field:"status",headerName:B("status"),sortable:!0,filterOperators:_,width:120},{field:"groupType",headerName:B("groupType"),sortable:!0,filterable:!1,width:120,hide:!0},{field:"minimumMembers",headerName:B("minimumMembers"),sortable:!0,filterOperators:_,width:150},{field:"maximumMembers",headerName:B("maximumMembers"),sortable:!0,filterOperators:_,width:150},{field:"availableFrom",headerName:B("availableFrom"),sortable:!0,filterOperators:_,width:150},{field:"availableUntil",headerName:B("availableUntil"),sortable:!0,filterOperators:_,width:150}]),(null===(t=c)||void 0===t?void 0:t.length)>0&&!c.find((function(e){return"actions"===e.field}))&&c.push({field:"actions",headerName:B("actions"),sortable:!1,filterable:!1,renderCell:function(e){return a.createElement("div",null,a.createElement(s.Z,{size:"small",color:"primary","aria-label":"group action buttons"},a.createElement(l.Z,{component:i.Link,to:"/home/group/groups/view/"+e.getValue("id")},a.createElement(p.Z,{fontSize:"small"})),(null==h?void 0:h.editGroup)&&a.createElement(l.Z,{component:i.Link,to:"/home/group/groups/edit/"+e.getValue("id")+V},a.createElement(g.Z,{fontSize:"small"})),(null==h?void 0:h.deleteGroup)&&a.createElement(l.Z,{onClick:function(){R(!0),x(e.getValue("id"))}},a.createElement(d.Z,{fontSize:"small",style:{color:y.Z[400]}}))),a.createElement(S.SeamlessDialog,{open:G,onClose:Q,className:z.dialogWrapper,maxWidth:"md",fullWidth:!0},a.createElement(a.Fragment,null,a.createElement("div",{className:z.modalContentSpacing},a.createElement(m.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:z.fontHeavy},B("deleteGroupConfirmationTitle"),": ",W),a.createElement(m.Z,{id:"transition-modal-description",variant:"body1"},B("deleteGroupConfirmationText")," ",W)),a.createElement(S.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:z.btnSpace,onClick:Q},B("noConfirmationButton")),a.createElement(S.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:U},B("yesConfirmationButton")))))},width:200}),a.createElement(a.Fragment,null,N?a.createElement(Z(),{loading:n,columnBuffer:2,rows:o,rowCount:O,getRowId:function(e){return e.id},columns:c,checkboxSelection:!1,onPageChange:function(e){P(e.page+1)},onPageSizeChange:function(e){P(1),T(e.pageSize)},pagination:!0,paginationMode:"server",filterMode:"server",sortingMode:"server",page:A,pageSize:k,onFilterModelChange:M,onSortModelChange:D}):a.createElement(Z(),{loading:n,columnBuffer:2,rows:o,getRowId:function(e){return e.id},columns:c,checkboxSelection:!1}))}},16356:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(7560),o=n(55238),a=n(2411),i=n(93710),u=n(21016);const l=function(e){var t=e.status,n=void 0===t?"":t,l=e.columns,s=e.permissions,c=e.referrer,m=e.name;return(0,o.Z)(e,["status","columns","permissions","referrer","name"]),a.createElement(i.Z,{status:n,name:m},(function(e){var t=e.groups,n=e.loading,i=e.totalCount,m=(0,o.Z)(e,["groups","loading","totalCount"]);return a.createElement(u.Z,(0,r.Z)({groups:t,loading:n,columns:l,permissions:s,referrer:c,totalCount:i},m))}))}}}]);