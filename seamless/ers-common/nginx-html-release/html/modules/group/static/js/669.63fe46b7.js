(self.webpackChunk_unified_group=self.webpackChunk_unified_group||[]).push([[669],{36414:(e,t,n)=>{"use strict";n.d(t,{kA:()=>g.kA,fZ:()=>p.f,Fj:()=>c,sS:()=>u,zi:()=>f.zi,Ds:()=>v.Ds,Y2:()=>g.Y2,iE:()=>m,oG:()=>p.o,Qb:()=>f.Qb,e$:()=>v.e$,Nk:()=>s,Qt:()=>g.Qt,VL:()=>o,jA:()=>i,KP:()=>f.KP,G6:()=>f.G6,H4:()=>v.H4,lg:()=>d,mD:()=>l,f9:()=>f.f9,HH:()=>v.HH});var a=n(84496),r=n(34126),i=function(e){return(0,a.Z)("/groupmanagementsystem/v1/group?".concat(r.stringify(e)))},o=function(e){return(0,a.Z)("/groupmanagementsystem/v1/group/".concat(e))},l=function(e){return(0,a.Z)("/groupmanagementsystem/v1/group",{method:"PUT",body:{group:e}})},u=function(e){return(0,a.Z)("/groupmanagementsystem/v1/group",{method:"POST",body:{group:e}})},m=function(e){return(0,a.Z)("/groupmanagementsystem/v1/group/".concat(e),{method:"DELETE"})},c=function(e){return(0,a.Z)("/groupmanagementsystem/v1/group",{method:"POST",body:{group:e}})},s=function(e,t){var n=e?"status=".concat(e):"",r=t?"&name=".concat(t):"";return(0,a.Z)("/groupmanagementsystem/v1/group?".concat(n).concat(r))},d=function(e){return(0,a.Z)("/dms/v1/resellers/types/".concat(e,"/allowedTypes"))},p=n(52353),f=n(11283),g=n(77885),v=n(25087)},93710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a,r=n(51119),i=n(74315),o=n(55238),l=n(2411),u=n(13248),m=n(36414),c=n(48049),s=n(63135);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f="",g=null;null===(a=document.querySelector(".MuiDataGridPanelContent-root"))||void 0===a||a.querySelector(".MuiIconButton-sizeSmall");const v=function(e){var t=e.children,n=e.status,a=e.name,d=((0,o.Z)(e,["children","status","name"]),l.useState([])),v=(0,i.Z)(d,2),h=v[0],E=v[1],b=l.useState(!1),Z=(0,i.Z)(b,2),y=Z[0],S=Z[1],w=l.useState(0),C=(0,i.Z)(w,2),x=C[0],M=C[1],T=l.useState(20),N=(0,i.Z)(T,2),I=N[0],D=N[1],O=l.useState(1),P=(0,i.Z)(O,2),B=P[0],k=P[1],R=l.useState("desc"),F=(0,i.Z)(R,2),A=F[0],W=F[1],G=l.useState("name"),j=(0,i.Z)(G,2),q=j[0],U=j[1],L=l.useState({}),z=(0,i.Z)(L,2),H=z[0],V=z[1],_=l.useState(!1),K=(0,i.Z)(_,2),Q=K[0],X=K[1],Y=(0,u.useSnackbar)().enqueueSnackbar,$=(0,s.useTranslation)().t,J=(0,c.useHistory)(),ee=l.useCallback((function(e){var t=e.sortModel[0].field,n=e.sortModel[0].sort;U(t),W(n)}),[]),te=l.useCallback((function(e){if(e&&null!=e&&e.filterModel){var t,n,a,i;null===(n=null===(t=document.querySelector(".MuiDataGridPanelContent-root"))||void 0===t?void 0:t.querySelector(".MuiIconButton-sizeSmall"))||void 0===n||n.addEventListener("click",(function(){if(f)return J.push("/home/group/groups")}));var o=(null===(a=e.filterModel.items[0])||void 0===a?void 0:a.value)||"",l=(null===(i=e.filterModel.items[0])||void 0===i?void 0:i.columnField)||"";if(!o)return;g&&clearTimeout(g),g=setTimeout((function(){V(p(p({},H),{},(0,r.Z)({},l,o))),k(B)}),800)}}),[]),ne=l.useCallback((function(e){k(e)}),[]),ae=l.useCallback((function(e){D(e)}),[]);return l.useEffect((function(){S(!0);var e=a||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return e[a]?"".concat(n?"".concat(n.trim(),","):"").concat(a,":").concat(null===(t=e[a])||void 0===t?void 0:t.trim()):n.trim()}),"")}(H);a&&k(1);var t={status:n,sort:"".concat(q,"_").concat(null==A?void 0:A.toLowerCase()),page:e===f?B:1,perPage:I,filter:e,name:null==a?void 0:a.split(":")[1]};(0,m.jA)(t).then((function(t){if(0!==t.resultCode)throw new Error(t.resultMessage);var n,a=t.groups.map((function(e){var t=e.data.find((function(e){return"groupType"===e.dataName}));return p(p({},e),{},{groupType:t?t.dataValue:$("emptyValueMark")})}));E(a),null!=t&&t.metadata&&(X(!0),M((null==t||null===(n=t.metadata)||void 0===n?void 0:n.totalCount)||0)),f=e})).catch((function(e){Y(e.message?e.message:e.resultMessage,{variant:"error"}),E([])})).finally((function(){return S(!1)}))}),[q,A,B,I,H,n,a]),l.createElement(l.Fragment,null,t({groups:h,loading:y,totalCount:x,page:B,perPage:I,orderBy:q,order:A,filter:H,onSort:ee,setParentPage:ne,onFilterChange:te,setParentPerPage:ae,filterSupport:Q}))}},21016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var a=n(74315),r=n(51119),i=n(2411),o=n(48049),l=n(63135),u=n(77277),m=n(38592),c=n(86619),s=n(90436),d=n(64874),p=n(60552),f=n(89058),g=n(79692),v=n(12420),h=n(66054),E=n(13248),b=n(41744),Z=n.n(b),y=n(70773),S=n(36414);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=(0,g.Z)((function(e){return(0,v.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},formWrapper:{padding:"".concat(e.spacing(1.5)," 0")},formWidget:{marginTop:e.spacing(5),"& .MuiFormControl-root":{marginBottom:e.spacing(1.5),marginRight:e.spacing(1.5)},"& .MuiTypography-root":{marginBottom:e.spacing(1)}},saveBtn:{marginTop:e.spacing(3)},modalImageSize:{maxWidth:70},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},filterRoot:{paddingLeft:12,marginTop:8}})}));function M(e){var t=x(),n=e.item,a=e.applyValue;return i.createElement("div",{className:t.filterRoot},i.createElement(c.Z,{className:t.filterRoot,name:n.field,value:n.value,onChange:function(e){a(C(C({},n),{},{value:e.target.value}))}}))}const T=function(e){var t,n=e.loading,r=e.groups,c=e.columns,g=e.referrer,v=e.permissions,b=void 0===v?{}:v,w=e.totalCount,C=e.setParentPage,T=e.setParentPerPage,N=e.page,I=e.perPage,D=e.onFilterChange,O=e.onSort,P=e.filterSupport,B=(0,l.useTranslation)().t,k=(0,E.useSnackbar)().enqueueSnackbar,R=x(),F=i.useState(!1),A=(0,a.Z)(F,2),W=A[0],G=A[1],j=i.useState(0),q=(0,a.Z)(j,2),U=q[0],L=q[1],z=g?"/"+g:"/list",H=N>=1?N-1:1,V=function(){G(!1)},_=function(){(0,S.iE)(U).then((function(e){var t;if(0!==e.resultCode)throw new Error(e.resultMessage);null===(t=document.querySelector("[data-id='"+U+"']"))||void 0===t||t.remove(),G(!1),k(e.resultMessage,{variant:"success"})})).catch((function(e){return k(e.message?e.message:e.resultMessage,{variant:"error"})}))},K=[{label:"Equal",value:"equal",getApplyFilterFn:function(e){return e.columnField&&e.value&&e.operatorValue?function(t){return t.value==e.value}:null},InputComponent:M}];return!c&&(c=[{field:"id",headerName:B("groupId"),sortable:!0,filterOperators:K,width:100},{field:"name",headerName:B("name"),sortable:!0,filterOperators:K,width:200},{field:"status",headerName:B("status"),sortable:!0,filterOperators:K,width:120},{field:"groupType",headerName:B("groupType"),sortable:!0,filterable:!1,width:120,hide:!0},{field:"minimumMembers",headerName:B("minimumMembers"),sortable:!0,filterOperators:K,width:150},{field:"maximumMembers",headerName:B("maximumMembers"),sortable:!0,filterOperators:K,width:150},{field:"availableFrom",headerName:B("availableFrom"),sortable:!0,filterOperators:K,width:150},{field:"availableUntil",headerName:B("availableUntil"),sortable:!0,filterOperators:K,width:150}]),(null===(t=c)||void 0===t?void 0:t.length)>0&&!c.find((function(e){return"actions"===e.field}))&&c.push({field:"actions",headerName:B("actions"),sortable:!1,filterable:!1,renderCell:function(e){return i.createElement("div",null,i.createElement(m.Z,{size:"small",color:"primary","aria-label":"group action buttons"},i.createElement(u.Z,{component:o.Link,to:"/home/group/groups/view/"+e.getValue("id")},i.createElement(p.Z,{fontSize:"small"})),(null==b?void 0:b.editGroup)&&i.createElement(u.Z,{component:o.Link,to:"/home/group/groups/edit/"+e.getValue("id")+z},i.createElement(d.Z,{fontSize:"small"})),(null==b?void 0:b.deleteGroup)&&i.createElement(u.Z,{onClick:function(){G(!0),L(e.getValue("id"))}},i.createElement(f.Z,{fontSize:"small",style:{color:h.Z[400]}}))),i.createElement(y.SeamlessDialog,{open:W,onClose:V,className:R.dialogWrapper,maxWidth:"md",fullWidth:!0},i.createElement(i.Fragment,null,i.createElement("div",{className:R.modalContentSpacing},i.createElement(s.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:R.fontHeavy},B("deleteGroupConfirmationTitle"),": ",U),i.createElement(s.Z,{id:"transition-modal-description",variant:"body1"},B("deleteGroupConfirmationText")," ",U)),i.createElement(y.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:R.btnSpace,onClick:V},B("noConfirmationButton")),i.createElement(y.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:_},B("yesConfirmationButton")))))},width:200}),i.createElement(i.Fragment,null,P?i.createElement(Z(),{loading:n,columnBuffer:2,rows:r,rowCount:w,getRowId:function(e){return e.id},columns:c,checkboxSelection:!1,onPageChange:function(e){C(e.page+1)},onPageSizeChange:function(e){C(1),T(e.pageSize)},pagination:!0,paginationMode:"server",filterMode:"server",sortingMode:"server",page:H,pageSize:I,onFilterModelChange:D,onSortModelChange:O}):i.createElement(Z(),{loading:n,columnBuffer:2,rows:r,getRowId:function(e){return e.id},columns:c,checkboxSelection:!1}))}},87516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(74315),r=n(2411),i=n.n(r),o=n(6632);const l=function(e){var t=i().useState(null),n=(0,a.Z)(t,2),r=n[0],l=n[1],u=(0,o.useSelector)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.rbac}),o.shallowEqual);return i().useEffect((function(){var t,n=(null===(t=u.features.find((function(t){return t.module===e})))||void 0===t?void 0:t.features)||[];l(n)}),[u]),r}},11741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$t});var a=n(33553),r=n(70773),i=n(2411),o=n(48049),l=(n(64659),n(4730),n(73989),n(96474),n(48214),n(75630),n(51119));i.Component;var u=n(63135),m=n(18896),c=n(44104),s=n.n(c);const d=function(e){var t=e.disable,n=void 0!==t&&t,a=s()().checkPermission,l=(0,u.useTranslation)().t;return i.createElement(i.Fragment,null,a("CREATE_GROUP_BUTTON")&&i.createElement(r.SeamlessButton,{component:o.Link,to:"/home/group/groups/create",variant:"contained",color:"primary",disabled:n,endIcon:i.createElement(m.Z,null)},l("createGroup")))};var p=n(7560),f=n(11746),g=n(74315),v=n(19258),h=n(6277),E=n(79692),b=n(12420),Z=n(61564),y=n(86324),S=n(60905),w=n(2682),C=n(5806),x=n(44962),M=n(42494),T=n(84899),N=n(86619),I=n(4614),D=n(7089),O=n(90436),P=n(82938),B=n(77114),k=n(8526),R=n(36414),F=n(35191),A=n(77954),W=n(6632),G=n(90175),j=n.n(G),q=n(13248);const U=function(){var e=(0,q.useSnackbar)().enqueueSnackbar,t=(0,u.useTranslation)().t;function n(e){var n=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(n=e[t])})),n}return{showSuccessMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"warning"})}}};var L,z,H;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=(0,E.Z)((function(e){return(0,b.Z)({button:{margin:e.spacing(1)},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},radioButton:{marginLeft:e.spacing(2)},pickerPopover:{"& h3.MuiPickersToolbarText-toolbarTxt.MuiTypography-h3":{fontSize:"2.8rem"}},chip:{margin:e.spacing(.5,.25)},input:{marginRight:e.spacing(1),marginBottom:e.spacing(1),overflow:"scroll"}})})),Q=[{key:"Active",value:"active"},{key:"Blocked",value:"blocked"}],X=(null===(L=window)||void 0===L?void 0:L.config)||{},Y=null!==(z=null==X||null===(H=X.group)||void 0===H?void 0:H.showMsisdn)&&void 0!==z&&z,$=(null==X?void 0:X.resellerAdditionalConfig.dropdownLimit)||50,J=(null==X?void 0:X.group.hideKeyOnGroupUpdate)||[],ee=!1;const te=function(e){var t,n=e.data,a=e.onFormSubmit,l=K(),m=(0,u.useTranslation)().t,c=i.useRef(null),s=(0,o.useHistory)(),d=i.useState(!1),E=(0,g.Z)(d,2),b=E[0],G=E[1],q=i.useState([]),L=(0,g.Z)(q,2),z=L[0],H=L[1],V=i.useState(),te=(0,g.Z)(V,2),ne=te[0],ae=te[1],re=i.useState(),ie=(0,g.Z)(re,2),oe=ie[0],le=ie[1],ue=i.useState(),me=(0,g.Z)(ue,2),ce=me[0],se=me[1],de=i.useState(0),pe=(0,g.Z)(de,2),fe=pe[0],ge=pe[1],ve=U(),he=ve.showErrorMessage,Ee=ve.showSuccessMessage,Ze=(0,o.useParams)().referrer,Se=i.useState(!1),we=(0,g.Z)(Se,2),Ce=we[0],xe=we[1],Me=null!==(t=X.actorConfig.defaultGroupUntilDateInNumberOfYears)&&void 0!==t?t:50,Te=(0,W.useSelector)((function(e){return e.auth.user.requestedPrincipalId})),Ne=X.openCalendarWith||"year";i.useEffect((function(){if(ee=!1,"actor"===Ze){var e=new Date;e.setDate((new Date).getDate()+365*Me),n.availableUntil=e,ee=Me>0}}),[]);var Ie=i.useState([]),De=(0,g.Z)(Ie,2),Oe=De[0],Pe=De[1];i.useEffect((function(){Pe(n.members)}),[n.members]);var Be=i.useState([]),ke=(0,g.Z)(Be,2),Re=ke[0],Fe=ke[1];i.useEffect((function(){G(!0),0!==n.id&&(0,R.Qt)(n.id.toString()).then((function(e){0===e.resultCode&&Fe(e.admins)})).catch((function(e){return he(e)})).finally((function(){return G(!1)}))}),[n.id]);var We=function(){var e,t=[];if(null==ne||!ne.length)return null;ne.map((function(e){t.push({userId:e.resellerId,memberType:"manager",status:"active",data:[],effectiveUntil:null})}));var n={members:t};je(null===(e=ne[0])||void 0===e?void 0:e.resellerId,n)},Ge=function(){var e,t,n=[];if(null==z||!z.length)return null;z.map((function(e){var t;n.push({userIdType:Ce?"SUBSCRIBERMSISDN":"RESELLERID",userId:null!==(t=e.resellerId)&&void 0!==t?t:e,memberType:"member",status:"active",data:[]})}));var a={addGroupAsMember:!1,members:n};je(null!==(e=null===(t=z[0])||void 0===t?void 0:t.resellerId)&&void 0!==e?e:z[0],a)},je=function(e,t){e&&(0,R.fZ)(He.id.toString(),t).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);Ee(e),(0,R.VL)(He.id.toString()).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);Pe(function(e){return e.map((function(e){return{id:e.id,name:e.name,userId:e.userId,userIdType:e.userIdType,memberType:e.memberType,status:e.status,createdAt:e.createdAt,effectiveFrom:e.effectiveFrom,data:e.data}}))}(e.group.members))})).catch((function(e){return he(e)}))})).catch((function(e){return he(e)})).finally((function(){return G(!1)}))},qe=oe&&(null==oe?void 0:oe.map((function(e){return{userId:e.resellerId,status:"active",data:[]}}))),Ue=function(){if(!qe)return null;(0,R.kA)(He.id.toString(),qe).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);Ee(e),(0,R.Qt)(He.id.toString()).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);Fe(e.admins)})).catch((function(e){return he(e)}))})).catch((function(e){return he(e)})).finally((function(){return G(!1)}))},Le=k.Ry().shape({name:k.Z_().required(m("groupNameRequired")),status:k.Z_().required(m("statusError")),minimumMembers:k.Rx().required(m("minMembersRequired")).min(1,m("messageMinimumMembers")),maximumMembers:k.Rx().required(m("maxMembersRequired")),availableFrom:k.hT().nullable().required(m("availableFromRequired")),availableUntil:k.hT().nullable().required(m("availableUntilRequired"))}),ze=(0,B.TA)({initialValues:n,onSubmit:function(e){return a&&a(e)},validationSchema:Le,enableReinitialize:!0}),He=ze.values,Ve=ze.errors,_e=ze.handleChange,Ke=ze.handleBlur,Qe=ze.handleSubmit,Xe=ze.validateForm,Ye=(new Date).getTime(),$e=new Date(new Date(He.availableFrom).getTime()+864e5),Je=i.useState(""),et=(0,g.Z)(Je,2),tt=et[0],nt=et[1],at=i.useState([]),rt=(0,g.Z)(at,2),it=rt[0],ot=rt[1],lt=function(e){return function(){var t=(0,f.Z)(z);t.splice(t.indexOf(e),1),H(t)}};return i.createElement(S.Z,{container:!0,spacing:3},i.createElement(S.Z,{container:!0,item:!0,xs:6},i.createElement(S.Z,{container:!0,item:!0,xs:6,direction:"column"},i.createElement(S.Z,{item:!0},i.createElement(r.SeamlessInput,{className:(0,h.default)(l.element),fullWidth:!0,required:!0,error:!!Ve.name,helperText:Ve.name||m("pleaseEnter_",{fieldName:m("groupName")}),name:"name",value:He.name,onChange:_e,onBlur:Ke,label:m("groupName")})),"actor"!==Ze&&i.createElement(S.Z,{item:!0},i.createElement(r.SeamlessDropDown,{className:(0,h.default)(l.element),fullWidth:!0,id:"group-status-drop-down",required:!0,label:m("status"),helperText:m("selectGroupStatus"),options:Q.map((function(e){return{value:e.value,key:e.key}})),name:"status",value:He.status,onChange:_e}))),"list"!==Ze||J.includes("groupType")?null:i.createElement(S.Z,{item:!0,xs:4},i.createElement(M.Z,{component:"fieldset",className:(0,h.default)(l.radioButton)},i.createElement(T.Z,{component:"legend"},m("groupType")),i.createElement(w.Z,{name:"groupType",value:He.groupType,onChange:_e},i.createElement(C.Z,{value:"EXCLUSIVE",control:i.createElement(x.Z,null),label:"Exclusive"}),i.createElement(C.Z,{value:"REGULAR",control:i.createElement(x.Z,null),label:"Regular"})))),i.createElement(S.Z,{item:!0,xs:12},i.createElement(r.SeamlessInput,{fullWidth:!0,className:(0,h.default)(l.element),name:"description",multiline:!0,rows:4,rowsMax:4,value:He.description,onChange:_e,label:m("description")})),i.createElement(S.Z,{container:!0,spacing:3},i.createElement(S.Z,{item:!0,xs:6},i.createElement(r.SeamlessInput,{fullWidth:!0,required:!0,type:"number",onInput:function(e){e.target.value=e.target.value.replace(/[a-zA-Z]|\.|^0[0-9]*/g,"")},error:!!Ve.minimumMembers,helperText:Ve.minimumMembers||m("pleaseEnter_",{fieldName:m("minimumMembers")}),name:"minimumMembers",value:He.minimumMembers,onChange:_e,onBlur:Ke,label:m("minimumMembers")})),i.createElement(S.Z,{item:!0,xs:6},i.createElement(r.SeamlessInput,{fullWidth:!0,required:!0,type:"number",onInput:function(e){e.target.value=e.target.value.replace(/[a-zA-Z]|\.|^0[0-9]*/g,"")},error:!!Ve.maximumMembers,helperText:Ve.maximumMembers||m("pleaseEnter_",{fieldName:m("maximumMembers")}),name:"maximumMembers",value:He.maximumMembers,onChange:_e,onBlur:Ke,label:m("maximumMembers")}))),i.createElement(S.Z,{container:!0,spacing:3},i.createElement(Z.M,{utils:v.Z},i.createElement(S.Z,{item:!0,xs:ee?12:6},i.createElement(y.B,{error:!!Ve.availableFrom,helperText:Ve.availableFrom||m("pleaseEnter_",{fieldName:m("availableFrom")}),className:(0,h.default)(l.dateField),views:["year","month","date"],inputProps:{readOnly:!0},openTo:Ne,autoOk:!0,variant:"inline",format:"dd/MM/yyyy HH:mm",margin:"normal",id:"creationDate",label:m("availableFrom"),name:"availableFrom",value:He.availableFrom,onChange:function(e){var t=new Date;(null==e?void 0:e.getTime())<t.getTime()&&(null==e||e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),he(m("availableFromPastThanCurrentError"))),_e({target:{value:e,name:"availableFrom"}})},KeyboardButtonProps:{"aria-label":"change date"},PopoverProps:{className:l.pickerPopover},minDate:Ye})),!ee&&i.createElement(S.Z,{item:!0,xs:6},i.createElement(y.B,{error:!!Ve.availableUntil,helperText:Ve.availableUntil||m("pleaseEnter_",{fieldName:m("availableUntil")}),inputProps:{readOnly:!0},className:(0,h.default)(l.dateField),views:["year","month","date"],openTo:Ne,autoOk:!0,variant:"inline",format:"dd/MM/yyyy HH:mm",margin:"normal",id:"creationDate",label:m("availableUntil"),name:"availableUntil",value:He.availableUntil,onChange:function(e){var t;(null===(t=e)||void 0===t?void 0:t.getTime())<He.availableFrom.getTime()&&(e=new Date(He.availableFrom.getTime()+864e5),he(m("availableUntilPastThanFromError"))),_e({target:{value:e,name:"availableUntil"}})},KeyboardButtonProps:{"aria-label":"change date"},PopoverProps:{className:l.pickerPopover},minDate:$e}))))),"list"===Ze?i.createElement(S.Z,{item:!0,container:!0,xs:6},i.createElement(j(),{id:Te,offset:fe,perPage:$},(function(e){return i.createElement(i.Fragment,null,Y&&i.createElement(S.Z,{item:!0,xs:12},i.createElement("div",null,i.createElement(O.Z,{variant:"caption",style:{marginBottom:"0"}},m("resellerId")),i.createElement(P.Z,{color:"primary",checked:Ce,name:"re",onChange:function(e){xe((function(e){return!e})),H([])}}),i.createElement(O.Z,{variant:"caption"},m("msisdn")))),i.createElement(S.Z,{item:!0,xs:6},Ce?i.createElement(N.Z,{label:m("addMember"),className:(0,h.default)(l.input),fullWidth:!0,value:tt,onChange:function(e){var t=e.target.value.split(",");ot(t),nt(t[t.length-1]||"")},onKeyDown:function(e){var t,n;"Enter"!==e.key&&" "!==e.key&&","!==e.key||(t=it[it.length-1],-1===(n=(0,f.Z)(z)).indexOf(t)&&(n=[].concat((0,f.Z)(n),[t])),nt(""),H(n))},InputProps:{startAdornment:z.map((function(e){return i.createElement(D.Z,{key:e,tabIndex:-1,label:e,className:l.chip,onDelete:lt(e)})}))}}):i.createElement(A.ZP,{multiple:!0,ref:c,options:e.lazzyResellersData,getOptionLabel:function(e){return"".concat(e.resellerName," (").concat(e.resellerId,")")},onChange:function(e,t){H(t.filter((function(e){return e.resellerId})))},ListboxProps:{onScroll:function(t){if(Math.abs(t.target.scrollHeight-t.target.clientHeight-t.target.scrollTop)<1&&c.current&&!b&&$<=e.totalCount&&fe<=e.totalCount){var n=new IntersectionObserver((function(e){e[0].isIntersecting&&(n.unobserve(e[0].target),ge((function(e){return e+$})))}),{threshold:1});c.current&&n.observe(c.current)}}},renderInput:function(e){return i.createElement(N.Z,(0,p.Z)({},e,{variant:"standard",label:m("addMember"),InputProps:_(_({},e.InputProps),{},{endAdornment:i.createElement(i.Fragment,null,b?i.createElement(I.Z,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))}})),i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessButton,{onClick:Ge,color:"primary",variant:"text"},i.createElement(F.Z,{fontSize:"large"}))),i.createElement(S.Z,{item:!0,xs:6},i.createElement(A.ZP,{ref:c,multiple:!0,options:e.lazzyResellersData,getOptionLabel:function(e){return"".concat(e.resellerName," (").concat(e.resellerId,")")},onChange:function(e,t){le(t.filter((function(e){return e.resellerId})))},ListboxProps:{onScroll:function(t){if(Math.abs(t.target.scrollHeight-t.target.clientHeight-t.target.scrollTop)<1&&c.current&&!b&&$<=e.totalCount&&fe<=e.totalCount){var n=new IntersectionObserver((function(e){e[0].isIntersecting&&(n.unobserve(e[0].target),ge((function(e){return e+$})))}),{threshold:1});c.current&&n.observe(c.current)}}},renderInput:function(e){return i.createElement(N.Z,(0,p.Z)({},e,{variant:"standard",label:m("addAdmin"),InputProps:_(_({},e.InputProps),{},{endAdornment:i.createElement(i.Fragment,null,b?i.createElement(I.Z,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))}})),i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessButton,{onClick:Ue,color:"primary",variant:"text"},i.createElement(F.Z,{fontSize:"large"}))),!J.includes("addManager")&&i.createElement(i.Fragment,null,i.createElement(S.Z,{item:!0,xs:6},i.createElement(A.ZP,{multiple:!0,ref:c,options:e.lazzyResellersData,getOptionLabel:function(e){return"".concat(e.resellerName," (").concat(e.resellerId,")")},ListboxProps:{onScroll:function(t){if(Math.abs(t.target.scrollHeight-t.target.clientHeight-t.target.scrollTop)<1&&c.current&&!b&&$<=e.totalCount&&fe<=e.totalCount){var n=new IntersectionObserver((function(e){e[0].isIntersecting&&(n.unobserve(e[0].target),ge((function(e){return e+$})))}),{threshold:1});c.current&&n.observe(c.current)}}},onChange:function(e,t){ae(t.filter((function(e){return e.resellerId})))},renderInput:function(e){return i.createElement(N.Z,(0,p.Z)({},e,{variant:"standard",label:m("addManager"),InputProps:_(_({},e.InputProps),{},{endAdornment:i.createElement(i.Fragment,null,b?i.createElement(I.Z,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))}})),i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessButton,{onClick:We,color:"primary",variant:"text"},i.createElement(F.Z,{fontSize:"large"})))))})),!J.includes("addGroupAsManager")&&i.createElement(i.Fragment,null,i.createElement(S.Z,{item:!0,xs:6},i.createElement(Ae.Z,{status:"active"},(function(e){var t=e.groups;return e.loading,i.createElement(A.ZP,{multiple:!0,options:t,getOptionLabel:function(e){return e.name},onChange:function(e,t){se(t.filter((function(e){return e.name})))},renderInput:function(e){return i.createElement(N.Z,(0,p.Z)({},e,{variant:"standard",label:m("addGroupAsManager")}))}})}))),i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessButton,{onClick:function(){(null==ce?void 0:ce.length)&&ce.map((function(e){var t={addGroupAsMember:!0,groupIdToAddAsManager:e.id,members:[]};je(e.id,t)}))},color:"primary",variant:"text"},i.createElement(F.Z,{fontSize:"large"}))))):null,i.createElement(S.Z,{item:!0,xs:12},i.createElement("div",{style:{width:"100%",height:"300px"}},i.createElement(be,{details:He,edit:!0,members:Oe,loading:b,groupId:He.id.toString(),type:"group"}))),"list"===Ze?i.createElement(S.Z,{item:!0,xs:12,style:{marginTop:20}},i.createElement("div",{style:{width:"100%",height:"300px"}},i.createElement(ye,{edit:!0,admins:Re,loading:b,groupId:He.id.toString()}))):null,i.createElement(S.Z,{item:!0,xs:12},i.createElement(r.SeamlessButton,{onClick:function(e){Xe().then((function(e){var t=Object.values(e);t.length>0?he(t[0]):Qe()}))},className:(0,h.default)(l.element,l.button),color:"primary",variant:"contained"},m("update")),i.createElement(r.SeamlessButton,{onClick:function(){s.push("/home/group/groups/edit/".concat(He.id,"/").concat(Ze))},className:(0,h.default)(l.element,l.button),color:"primary",variant:"outlined"},m("reset"))))};var ne=n(19721),ae=n(29609);var re,ie=(null===(re=window)||void 0===re?void 0:re.config)||{},oe=(0,E.Z)((function(e){return(0,b.Z)({button:{margin:e.spacing(1)},element:{marginRight:e.spacing(1),marginBottom:e.spacing(2)},dateField:{margin:e.spacing(1),width:"100%"},spacingBottom:{marginBottom:e.spacing(2)},pickerPopover:{"& h3.MuiPickersToolbarText-toolbarTxt.MuiTypography-h3":{fontSize:"2.8rem"}}})})),le=[{key:"Active",value:"active"},{key:"Blocked",value:"blocked"}],ue="",me=!1;const ce=function(e){var t,n=e.data,a=e.onFormSubmit,o=oe(),l=(0,u.useTranslation)().t,m=function(){var e=(0,ne.useSnackbar)().enqueueSnackbar,t=(0,ae.useTranslation)().t;function n(e){var n=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(n=e[t])})),n}return{showSuccessMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"warning"})}}}().showErrorMessage,c=null!==(t=ie.actorConfig.defaultGroupUntilDateInNumberOfYears)&&void 0!==t?t:50,s=new URLSearchParams(window.location.search),d=new Date((new Date).getTime()+864e5),p=i.useState(d),f=(0,g.Z)(p,2),E=f[0],b=f[1];i.useEffect((function(){if(ue=s.get("source")||"",me=!1,"actor"===ue){var e=new Date;e.setDate((new Date).getDate()+365*c),n.availableUntil=e,me=c>0}}),[]);var w=k.Ry().shape({name:k.Z_().required(l("groupNameRequired")),status:k.Z_().required(l("statusError")),minimumMembers:k.Rx().required(l("minMembersRequired")).min(1,l("messageMinimumMembers")),maximumMembers:k.Rx().required(l("maxMembersRequired")),availableFrom:k.hT().nullable().required(l("availableFromRequired")),availableUntil:k.hT().nullable().required(l("availableUntilRequired"))}),C=(0,B.TA)({initialValues:n,onSubmit:function(e){return a&&a(e)},validationSchema:w,enableReinitialize:!0}),x=C.values,M=C.errors,T=C.handleChange,N=C.handleBlur,I=C.handleSubmit,D=C.handleReset,O=C.validateForm,P=(new Date).getTime(),R=ie.openCalendarWith||"year";return i.createElement(S.Z,{container:!0},i.createElement(S.Z,{container:!0,spacing:2,className:o.spacingBottom},i.createElement(S.Z,{container:!0,item:!0,xs:4,direction:"column"},i.createElement(S.Z,{item:!0,xs:12},i.createElement(r.SeamlessInput,{className:(0,h.default)(o.element),fullWidth:!0,required:!0,error:!!M.name,helperText:M.name||l("pleaseEnter_",{fieldName:l("groupName")}),name:"name",value:x.name,onChange:T,onBlur:N,label:l("groupName")})),"actor"!==ue&&i.createElement(S.Z,{item:!0,xs:12},i.createElement(r.SeamlessDropDown,{className:(0,h.default)(o.element),fullWidth:!0,id:"group-status-drop-down",required:!0,label:l("status"),helperText:l("selectGroupStatus"),options:le.map((function(e){return{value:e.value,key:e.key}})),name:"status",value:x.status,onChange:T})))),i.createElement(S.Z,{container:!0,spacing:2,className:o.spacingBottom},i.createElement(S.Z,{item:!0,xs:12},i.createElement(S.Z,{item:!0,xs:8},i.createElement(r.SeamlessInput,{fullWidth:!0,className:(0,h.default)(o.element),name:"description",helperText:M.minimumMembers||l("pleaseEnter_",{fieldName:l("description")}),multiline:!0,rows:4,rowsMax:4,value:x.description,onChange:T,label:l("description")}))),i.createElement(S.Z,{item:!0,xs:4},i.createElement(r.SeamlessInput,{fullWidth:!0,required:!0,type:"number",onInput:function(e){e.target.value=e.target.value.replace(/[a-zA-Z]|\.|^0[0-9]*/g,"")},error:!!M.minimumMembers,helperText:M.minimumMembers||l("pleaseEnter_",{fieldName:l("minimumMembers")}),name:"minimumMembers",value:x.minimumMembers,onChange:T,onBlur:N,label:l("minimumMembers")})),i.createElement(S.Z,{item:!0,xs:4},i.createElement(r.SeamlessInput,{fullWidth:!0,required:!0,type:"number",onInput:function(e){e.target.value=e.target.value.replace(/[a-zA-Z]|\.|^0[0-9]*/g,"")},name:"maximumMembers",error:!!M.maximumMembers,helperText:M.maximumMembers||l("pleaseEnter_",{fieldName:l("maximumMembers")}),value:x.maximumMembers,onChange:T,onBlur:N,label:l("maximumMembers")}))),i.createElement(S.Z,{container:!0,spacing:2,className:o.spacingBottom},i.createElement(Z.M,{utils:v.Z},i.createElement(S.Z,{item:!0,xs:4},i.createElement(y.B,{error:!!M.availableFrom,helperText:M.availableFrom||l("pleaseEnter_",{fieldName:l("availableFrom")}),className:(0,h.default)(o.dateField),views:["year","month","date"],openTo:R,variant:"inline",format:"yyyy-MM-dd HH:mm",autoOk:!0,margin:"normal",id:"availableFrom",inputProps:{readOnly:!0},label:l("availableFrom"),name:"availableFrom",value:x.availableFrom,onChange:function(e){var t=new Date;(null==e?void 0:e.getTime())<t.getTime()&&(null==e||e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),m(l("availableFromPastThanCurrentError")));var n=new Date(e.getTime()+864e5);b(n),T({target:{value:e,name:"availableFrom"}})},KeyboardButtonProps:{"aria-label":"change date"},PopoverProps:{className:o.pickerPopover},minDate:P})),!me&&i.createElement(S.Z,{item:!0,xs:4},i.createElement(y.B,{error:!!M.availableUntil,helperText:M.availableUntil||l("pleaseEnter_",{fieldName:l("availableUntil")}),className:(0,h.default)(o.dateField),views:["year","month","date"],openTo:"year",variant:"inline",format:"yyyy-MM-dd HH:mm",margin:"normal",autoOk:!0,inputProps:{readOnly:!0},id:"availableUntil",label:l("availableUntil"),name:"availableUntil",value:x.availableUntil,onChange:function(e){var t;(null===(t=e)||void 0===t?void 0:t.getTime())<x.availableFrom.getTime()&&(e=new Date(x.availableFrom.getTime()+864e5),m(l("availableUntilPastThanFromError"))),T({target:{value:e,name:"availableUntil"}})},KeyboardButtonProps:{"aria-label":"change date"},PopoverProps:{className:o.pickerPopover},minDate:E})))),i.createElement(S.Z,{item:!0,xs:12},i.createElement(r.SeamlessButton,{onClick:function(e){O().then((function(e){var t=Object.values(e);t.length>0?m(t[0]):I()}))},className:(0,h.default)(o.element,o.button),color:"primary",variant:"contained"},l("submit")),i.createElement(r.SeamlessButton,{onClick:D,className:(0,h.default)(o.element,o.button),color:"primary",variant:"outlined"},l("reset"))))};var se=n(55238),de=n(77277),pe=n(38592),fe=n(24276),ge=n(66054),ve=n(41744),he=n.n(ve),Ee=(0,E.Z)((function(e){return(0,b.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},formWrapper:{padding:"".concat(e.spacing(1.5)," 0")},formWidget:{marginTop:e.spacing(5),"& .MuiFormControl-root":{marginBottom:e.spacing(1.5),marginRight:e.spacing(1.5)},"& .MuiTypography-root":{marginBottom:e.spacing(1)}},saveBtn:{marginTop:e.spacing(3)},modalImageSize:{maxWidth:70},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const be=function(e){var t=e.details,n=e.members,a=e.loading,l=e.groupId,m=e.type,c=(0,se.Z)(e,["details","members","loading","groupId","type"]),s=(0,u.useTranslation)().t,d=U(),p=d.showErrorMessage,f=d.showSuccessMessage,v=Ee(),h=i.useState(!1),E=(0,g.Z)(h,2),b=E[0],Z=E[1],y=i.useState(0),w=(0,g.Z)(y,2),C=w[0],x=w[1],M=i.useState([]),T=(0,g.Z)(M,2),N=T[0],I=T[1],D=i.useState(!1),P=(0,g.Z)(D,2),B=P[0],k=P[1],F=i.useState([]),A=(0,g.Z)(F,2),W=A[0],G=A[1],j=(0,o.useParams)().referrer;i.useEffect((function(){G(n)}),[n]);var q=function(){Z(!1)},L=function(){z(B?N:[C])},z=function(e){var t=e.map((function(e){return e.toString()}));(0,R.oG)(l,t).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);Z(!1),I([]),f(e),(0,R.VL)(l).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);G(e.group.members)})).catch((function(e){return p(e)}))})).catch((function(e){return p(e)}))},H=[{field:"id",headerName:s("id"),sortable:!0,flex:1},{field:"name",headerName:s("domain"===m?"domainName":"name"),sortable:!0,flex:1,valueGetter:function(e){return"domain"===m?null==t?void 0:t.description:e.row.name}},{field:"userId",headerName:s("domain"===m?"resellerTypes":"userId"),sortable:!0,flex:1},{field:"memberType",headerName:s("memberType"),sortable:!0,flex:1,hide:"domain"===m},{field:"status",headerName:s("status"),sortable:!0,flex:1,hide:"domain"===m},{field:"createdAt",headerName:s("createdAt"),sortable:!0,flex:1,hide:"domain"===m},{field:"effectiveFrom",headerName:s("effectiveFrom"),sortable:!0,flex:1,hide:"domain"===m}],V=[{field:"name",headerName:s("domain"===m?"domainName":"name"),sortable:!0,flex:1,valueGetter:function(e){return"domain"===m?null==t?void 0:t.description:e.row.name}},{field:"userId",headerName:s("domain"===m?"resellerTypes":"userId"),sortable:!0,flex:1},{field:"createdAt",headerName:s("createdAt"),sortable:!0,flex:1,hide:"domain"===m},{field:"effectiveFrom",headerName:s("effectiveFrom"),sortable:!0,flex:1,hide:"domain"===m},{field:"effectiveUntil",headerName:s("effectiveUntil"),sortable:!0,flex:1,hide:"domain"===m}];return c.edit&&H.push({field:"actions",headerName:s("actions"),sortable:!1,filterable:!1,renderCell:function(e){return i.createElement("div",null,i.createElement(pe.Z,{size:"small",color:"primary","aria-label":"group action buttons"},i.createElement(de.Z,{onClick:function(){Z(!0),x(e.getValue("id")),k(!1)}},i.createElement(fe.Z,{fontSize:"small",style:{color:ge.Z[400]}},"person_remove"))),i.createElement(r.SeamlessDialog,{open:b,onClose:q,className:v.dialogWrapper,maxWidth:"md",fullWidth:!0},i.createElement(i.Fragment,null,i.createElement("div",{className:v.modalContentSpacing},i.createElement(O.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:v.fontHeavy},B?function(e){var t=e.map((function(e){return e.toString()})).join(", ");return"".concat(s("deleteMembersConfirmationTitle"),": ").concat(t)}(N):function(e){return"".concat(s("deleteMemberConfirmationTitle"),": ").concat(e)}(C)),i.createElement(O.Z,{id:"transition-modal-description",variant:"body1"},B?function(e){var t=e.map((function(e){return e.toString()})).join(", ");return"".concat(s("deleteMembersConfirmationText"),": ").concat(t)}(N):function(e){return"".concat(s("deleteMemberConfirmationText"),": ").concat(e)}(C))),i.createElement(r.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:v.btnSpace,onClick:q},s("noConfirmationButton")),i.createElement(r.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:L},s("yesConfirmationButton")))))},flex:1}),i.createElement(i.Fragment,null,i.createElement(O.Z,{variant:"h6"},s("domain"===m?"resellersList":"membersList")),c.edit&&N.length>1&&i.createElement(S.Z,{container:!0,justify:"flex-end"},i.createElement(r.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:function(){Z(!0),k(!0)},style:{backgroundColor:ge.Z[400]}},s("deleteSelectedMembers"))),i.createElement(he(),{loading:a,columnBuffer:2,rows:W,getRowId:function(e){return e.id},columns:"list"===j?H:V,checkboxSelection:"list"===j,onSelectionModelChange:function(e){I(e.selectionModel)},selectionModel:N}))};var Ze=(0,E.Z)((function(e){return(0,b.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},formWrapper:{padding:"".concat(e.spacing(1.5)," 0")},formWidget:{marginTop:e.spacing(5),"& .MuiFormControl-root":{marginBottom:e.spacing(1.5),marginRight:e.spacing(1.5)},"& .MuiTypography-root":{marginBottom:e.spacing(1)}},saveBtn:{marginTop:e.spacing(3)},modalImageSize:{maxWidth:70},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const ye=function(e){var t=e.admins,n=e.loading,a=e.groupId,o=(0,se.Z)(e,["admins","loading","groupId"]),l=(0,u.useTranslation)().t,m=U(),c=m.showErrorMessage,s=m.showSuccessMessage,d=Ze(),p=i.useState(!1),f=(0,g.Z)(p,2),v=f[0],h=f[1],E=i.useState(0),b=(0,g.Z)(E,2),Z=b[0],y=b[1],w=i.useState([]),C=(0,g.Z)(w,2),x=C[0],M=C[1],T=i.useState([]),N=(0,g.Z)(T,2),I=N[0],D=N[1],P=i.useState(!1),B=(0,g.Z)(P,2),k=B[0],F=B[1];i.useEffect((function(){D(t)}),[t]);var A=function(){h(!1)},W=function(){G(k?x:[Z])},G=function(e){var t=e.map((function(e){return e.toString()}));(0,R.Y2)(a,t).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);h(!1),M([]),s(e),(0,R.Qt)(a).then((function(e){0===e.resultCode?D(e.admins):1006===e.resultCode&&D([])})).catch((function(e){return c(e)}))})).catch((function(e){return c(e)}))},j=[{field:"id",headerName:l("id"),sortable:!0,flex:1},{field:"name",headerName:l("name"),sortable:!0,flex:1},{field:"userId",headerName:l("userId"),sortable:!0,flex:1},{field:"status",headerName:l("status"),sortable:!0,flex:1},{field:"createdAt",headerName:l("createdAt"),sortable:!0,flex:1},{field:"effectiveFrom",headerName:l("effectiveFrom"),sortable:!0,flex:1}];return o.edit&&j.push({field:"actions",headerName:l("actions"),sortable:!1,filterable:!1,renderCell:function(e){return i.createElement("div",null,i.createElement(pe.Z,{size:"small",color:"primary","aria-label":"group action buttons"},i.createElement(de.Z,{onClick:function(){h(!0),y(e.getValue("id")),F(!1)}},i.createElement(fe.Z,{fontSize:"small",style:{color:ge.Z[400]}},"person_remove"))),i.createElement(r.SeamlessDialog,{open:v,onClose:A,className:d.dialogWrapper,maxWidth:"md",fullWidth:!0},i.createElement(i.Fragment,null,i.createElement("div",{className:d.modalContentSpacing},i.createElement(O.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:d.fontHeavy},k?function(e){var t=e.map((function(e){return e.toString()})).join(", ");return"".concat(l("deleteAdminsConfirmationTitle"),": ").concat(t)}(x):function(e){return"".concat(l("deleteAdminConfirmationTitle"),": ").concat(e)}(Z)),i.createElement(O.Z,{id:"transition-modal-description",variant:"body1"},k?function(e){var t=e.map((function(e){return e.toString()})).join(", ");return"".concat(l("deleteAdminsConfirmationText"),": ").concat(t)}(x):function(e){return"".concat(l("deleteAdminConfirmationText"),": ").concat(e)}(Z))),i.createElement(r.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:d.btnSpace,onClick:A},l("noConfirmationButton")),i.createElement(r.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:W},l("yesConfirmationButton")))))},flex:1}),i.createElement(i.Fragment,null,i.createElement(O.Z,{variant:"h6"},l("adminsList")),o.edit&&x.length>1&&i.createElement(S.Z,{container:!0,justify:"flex-end"},i.createElement(r.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:function(){h(!0),F(!0)},style:{backgroundColor:ge.Z[400]}},l("deleteSelectedAdmins"))),i.createElement(he(),{loading:n,columnBuffer:2,rows:I,getRowId:function(e){return e.id},columns:j,checkboxSelection:!0,onSelectionModelChange:function(e){M(e.selectionModel)},selectionModel:x}))},Se=function(e){var t=e.children,n=e.id,a=i.useState(),r=(0,g.Z)(a,2),o=r[0],l=r[1],u=i.useState(!1),m=(0,g.Z)(u,2),c=m[0],s=m[1],d=U().showErrorMessage;return i.useEffect((function(){s(!0),(0,R.VL)(n).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);l(e.group)})).catch((function(e){return d(e)})).finally((function(){return s(!1)}))}),[]),i.createElement(i.Fragment,null,t({group:o,loading:c,id:n}))};var we,Ce=n(94339),xe=n(24579),Me=n(85256),Te=n(98069),Ne=(0,E.Z)((function(){return(0,b.Z)({customWidthHeight:{width:"100%",height:"300px"}})})),Ie=(null===(we=window.config)||void 0===we?void 0:we.group.hideKeyOnGroupUpdate)||[];const De=function(e){var t,n,r,o,l=e.loading,m=e.group,c=e.id,s=(0,u.useTranslation)().t,d=Ne(),p=U().showErrorMessage,f=m?m.data.find((function(e){return"groupType"===e.dataName})):null,v=(f&&f.dataValue,i.useState(!0)),h=(0,g.Z)(v,2),E=h[0],b=h[1],Z=i.useState([]),y=(0,g.Z)(Z,2),S=y[0],w=y[1],C=null!==(t=null===(n=window)||void 0===n||null===(r=n.config)||void 0===r?void 0:r.group.showAdminTableInView)&&void 0!==t&&t;return i.useEffect((function(){b(!0),(0,R.Qt)(c.toString()).then((function(e){if(0===e.resultCode)w(e.admins);else{if(1006!==e.resultCode)throw new Error(e.resultMessage);w([])}})).catch((function(e){return p(e)})).finally((function(){return b(!1)}))}),[c]),l||!m?i.createElement(a.Z,{justifyContent:"flex-start",display:"flex",flexDirection:"column",width:"100%",p:1,borderColor:"grey.200",border:.2,borderRadius:6},i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:40,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:40,variant:"text",animation:"wave"})),i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"})),i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}))):i.createElement(a.Z,{p:2,mb:2,border:.2,borderColor:"grey.200",borderRadius:6,display:"flex",flexDirection:"column"},i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("groupName")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.name))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("groupId")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.id))),!Ie.includes("groupType")&&i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("groupType")),i.createElement(O.Z,{variant:"caption"},null==m||null===(o=m.data[0])||void 0===o?void 0:o.dataValue)))),i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("description")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.description)))),i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("minimumMembers")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.minimumMembers))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("maximumMembers")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.maximumMembers)))),i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("createdAt")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.createdAt))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("updatedAt")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.updatedAt))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("availableFrom")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.availableFrom))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},s("availableUntil")),i.createElement(O.Z,{variant:"caption"},null==m?void 0:m.availableUntil)))),i.createElement(Me.Z,null),i.createElement("div",{className:d.customWidthHeight},i.createElement(be,{details:m,members:m.members,loading:l,groupId:m.id.toString(),type:"group"})),i.createElement(Me.Z,null),C&&i.createElement("div",{className:d.customWidthHeight},i.createElement(ye,{admins:S,loading:E,groupId:m.id.toString()})))},Oe=function(e){var t=e.id;return i.createElement(Se,{id:t},(function(e){return i.createElement(De,e)}))},Pe=function(){var e=i.useState(!1),t=(0,g.Z)(e,2),n=t[0],r=(t[1],i.useState("active")),l=(0,g.Z)(r,2),u=l[0],m=l[1],c=i.useState(""),d=(0,g.Z)(c,2),p=d[0],f=d[1],v=(0,o.useHistory)(),h=s()().checkPermission,E={editGroup:h("EDIT_BUTTON"),deleteGroup:h("DELETE_BUTTON")};return i.createElement(i.Fragment,null,i.createElement(a.Z,{mb:2},i.createElement(Re,{onFormSubmit:function(e){if(e){var t="";for(var n in e)e[n]&&"status"!==n&&(t+="".concat(n,":").concat(e[n]));m(e.status),f(t)}},reset:function(){v.push("/home/group/groups")}})),i.createElement("div",{style:{height:600,width:"100%"}},i.createElement(Fe.default,{status:u,loading:n,permissions:E,name:p})))};var Be=(0,E.Z)((function(e){return(0,b.Z)({button:{margin:e.spacing(1),marginTop:e.spacing(3)},element:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginRight:e.spacing(1)}})})),ke=[{key:"Active",value:"active"},{key:"Blocked",value:"blocked"}];const Re=function(e){var t=e.onFormSubmit,n=e.reset,a=Be(),o=(0,u.useTranslation)().t,l=k.Ry().shape({}),m=(0,B.TA)({initialValues:{name:"",status:"active"},onSubmit:function(e){return t&&t(e)},validationSchema:l,enableReinitialize:!0}),c=m.values,s=m.handleChange,d=m.handleSubmit;return i.createElement(S.Z,{container:!0,spacing:2},i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessInput,{className:(0,h.default)(a.element),fullWidth:!0,name:"name",value:c.name,onChange:s,label:o("groupName")})),i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessDropDown,{className:(0,h.default)(a.element),fullWidth:!0,id:"group-status-drop-down",label:o("status"),helperText:o("selectGroupStatus"),options:ke.map((function(e){return{value:e.value,key:e.key}})),name:"status",value:c.status,onChange:s})),i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessButton,{onClick:function(e){return d()},className:(0,h.default)(a.button),color:"primary",variant:"contained"},o("search"))),i.createElement(S.Z,{item:!0,xs:4},i.createElement(r.SeamlessButton,{onClick:function(){return n()},className:(0,h.default)(a.button),color:"secondary",variant:"outlined"},o("reset"))))};var Fe=n(16356),Ae=n(93710);n(21016);const We=function(e){var t=e.children,n=e.id,a=i.useState(),r=(0,g.Z)(a,2),o=r[0],l=r[1],u=i.useState(!1),m=(0,g.Z)(u,2),c=m[0],s=m[1],d=U().showErrorMessage;return i.useEffect((function(){s(!0),(0,R.KP)(n).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);l(e.operation)})).catch((function(e){return d(e)})).finally((function(){return s(!1)}))}),[]),i.createElement(i.Fragment,null,t({operation:o,loading:c}))},Ge=function(e){var t=e.loading,n=e.operation,r=(0,u.useTranslation)().t;return t?i.createElement(a.Z,{justifyContent:"flex-start",display:"flex",flexDirection:"column",width:"100%",p:1,borderColor:"grey.200",border:.2,borderRadius:6},i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:40,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:40,variant:"text",animation:"wave"})),i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"})),i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}))):i.createElement(a.Z,{p:2,mb:2,border:.2,borderColor:"grey.200",borderRadius:6,display:"flex",flexDirection:"column"},i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},r("name")),i.createElement(O.Z,{variant:"caption"},null==n?void 0:n.name))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},r("code")),i.createElement(O.Z,{variant:"caption",color:"primary"},null==n?void 0:n.code))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},r("module")),i.createElement(O.Z,{variant:"caption"},null==n?void 0:n.module)))),i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},r("type")),i.createElement(O.Z,{variant:"caption"},null==n?void 0:n.type))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},r("fromState")),i.createElement(O.Z,{variant:"caption",color:"primary"},null==n?void 0:n.fromState))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},r("toState")),i.createElement(O.Z,{variant:"caption"},null==n?void 0:n.toState)))))},je=function(e){var t=e.id;return i.createElement(We,{id:t},(function(e){return i.createElement(Ge,e)}))};var qe=(0,E.Z)((function(e){return(0,b.Z)({button:{margin:e.spacing(1)},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)}})}));const Ue=function(e){var t=e.data,n=e.edit,o=e.onFormSubmit,l=qe(),m=(0,u.useTranslation)().t,c=U(),s=(c.showErrorMessage,c.showSuccessMessage,c.showInfoMessage,c.showWarningMessage),d=k.Ry().shape({code:k.Z_().required("Group code is required!"),module:k.Z_().required("Module is required!"),name:k.Z_().required("Group name is required!"),type:k.Z_().required("Group type is required!"),fromState:k.Z_().required("From state is required!"),toState:k.Z_().required("To state is required!")}),p=(0,B.TA)({initialValues:t,onSubmit:function(e){return o&&o(e)},validationSchema:d,enableReinitialize:!0}),f=p.values,g=p.errors,v=p.handleChange,E=p.handleBlur,b=p.handleSubmit,Z=p.handleReset,y=p.validateForm;return i.createElement(a.Z,{display:"flex",flexDirection:"column"},i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(r.SeamlessInput,{className:(0,h.default)(l.element),fullWidth:!0,required:!0,error:!!g.name,name:"name",value:f.name,onChange:v,onBlur:E,label:m("name")}),i.createElement(r.SeamlessInput,{className:(0,h.default)(l.element),fullWidth:!0,required:!0,error:!!g.code,name:"code",value:f.code,onChange:v,onBlur:E,label:m("code")}),i.createElement(r.SeamlessInput,{className:(0,h.default)(l.element),fullWidth:!0,required:!0,error:!!g.module,name:"module",value:f.module,onChange:v,onBlur:E,label:m("module")})),i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(r.SeamlessInput,{fullWidth:!0,required:!0,error:!!g.type,className:(0,h.default)(l.element),name:"type",value:f.type,onChange:v,label:m("type")}),i.createElement(r.SeamlessInput,{fullWidth:!0,required:!0,error:!!g.fromState,className:(0,h.default)(l.element),name:"fromState",value:f.fromState,onChange:v,label:m("fromState")}),i.createElement(r.SeamlessInput,{fullWidth:!0,required:!0,error:!!g.toState,className:(0,h.default)(l.element),name:"toState",value:f.toState,onChange:v,label:m("toState")})),i.createElement(a.Z,null,i.createElement(r.SeamlessButton,{onClick:function(){y().then((function(e){var t=Object.values(e);t.length>0?s(t[0]):b()}))},className:(0,h.default)(l.element,l.button),color:"primary",variant:"contained"},m(n?"updateButton":"submitButton")),i.createElement(r.SeamlessButton,{onClick:Z,className:(0,h.default)(l.element,l.button),color:"primary",variant:"outlined"},m("reset"))))},Le=function(e){var t=e.children,n=i.useState([]),a=(0,g.Z)(n,2),r=a[0],o=a[1],l=i.useState(!1),u=(0,g.Z)(l,2),m=u[0],c=u[1],s=U().showErrorMessage;return i.useEffect((function(){c(!0),(0,R.G6)().then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);o(function(e){return e.map((function(e){return{id:e.id,code:e.code,module:e.module,name:e.name,type:e.type,fromState:e.fromState,toState:e.toState}}))}(e.operations))})).catch((function(e){return s(e)})).finally((function(){return c(!1)}))}),[]),i.createElement(i.Fragment,null,t({operations:r,loading:m}))};var ze=n(64874),He=n(60552),Ve=n(89058),_e=(0,E.Z)((function(e){return(0,b.Z)({dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const Ke=function(e){var t=e.operations,n=e.loading,a=((0,se.Z)(e,["operations","loading"]),(0,u.useTranslation)().t),l=U(),m=l.showErrorMessage,c=l.showSuccessMessage,s=l.showWarningMessage,d=_e(),p=(0,o.useHistory)(),f=i.useState(!1),v=(0,g.Z)(f,2),h=v[0],E=v[1],b=i.useState(0),Z=(0,g.Z)(b,2),y=Z[0],S=Z[1],w=function(){(0,R.Qb)(y).then((function(e){E(!1),0==e.resultCode?(c(e),p.push("/home/group/operations")):s(e)})).catch((function(e){return m(e)}))},C=function(){E(!1)},x=[{field:"name",headerName:a("name"),sortable:!0,flex:1},{field:"code",headerName:a("code"),sortable:!0,flex:1},{field:"module",headerName:a("module"),sortable:!0,flex:1},{field:"type",headerName:a("type"),sortable:!0,flex:1},{field:"fromState",headerName:a("fromState"),sortable:!0,flex:1},{field:"toState",headerName:a("toState"),sortable:!0,flex:1},{field:"actions",headerName:a("actions"),sortable:!1,renderCell:function(e){return i.createElement("div",null,i.createElement(pe.Z,{size:"small",color:"primary","aria-label":"group action buttons"},i.createElement(de.Z,{component:o.Link,to:"/home/group/operations/view/"+e.getValue("id")},i.createElement(He.Z,{fontSize:"small"})),i.createElement(de.Z,{component:o.Link,to:"/home/group/operations/edit/"+e.getValue("id")},i.createElement(ze.Z,{fontSize:"small"})),i.createElement(de.Z,{onClick:function(){E(!0),S(e.getValue("id"))}},i.createElement(Ve.Z,{fontSize:"small",style:{color:ge.Z[400]}}))),i.createElement(r.SeamlessDialog,{open:h,onClose:C,className:d.dialogWrapper,maxWidth:"md",fullWidth:!0},i.createElement(i.Fragment,null,i.createElement("div",{className:d.modalContentSpacing},i.createElement(O.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:d.fontHeavy},a("deleteOperationConfirmationTitle"),": ",y),i.createElement(O.Z,{id:"transition-modal-description",variant:"body1"},a("deleteOperationConfirmationText")," ",y)),i.createElement("div",{className:d.modalContentSpacing},i.createElement(r.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:d.btnSpace,onClick:C},a("noConfirmationButton")),i.createElement(r.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:w},a("yesConfirmationButton"))))))},flex:1}];return i.createElement("div",{style:{height:450}},i.createElement(he(),{loading:n,columnBuffer:2,rows:t,getRowId:function(e){return e.id},columns:x,checkboxSelection:!0}))},Qe=function(e){return i.createElement(Le,null,(function(t){var n=t.operations,a=t.loading;return i.createElement(Ke,(0,p.Z)({},e,{operations:n,loading:a}))}))},Xe=function(e){var t=e.disable,n=void 0!==t&&t,a=(0,u.useTranslation)().t;return i.createElement(r.SeamlessButton,{component:o.Link,to:"/home/group/operations/create",variant:"contained",color:"primary",disabled:n,endIcon:i.createElement(m.Z,null)},a("createOperation"))};var Ye=n(5858),$e=(0,E.Z)((function(e){return(0,b.Z)({setWidth:{width:"100%",maxWidth:300}})}));const Je=function(e){var t=e.list,n=e.label,r=e.loading,o=e.handleChange,l=e.id,u=$e(),m=i.useState(null),c=(0,g.Z)(m,2),s=c[0],d=c[1];return i.useEffect((function(){var e=t.find((function(e){return e.id===l}))||null;d(e)}),[l]),i.createElement(a.Z,{ml:2,mr:2},i.createElement(A.ZP,{id:"update_auto_".concat(n),options:t,loading:r,value:s,getOptionLabel:function(e){return e.name},className:u.setWidth,onChange:function(e,t){o(t),d(t)},size:"small",renderInput:function(e){return i.createElement(N.Z,(0,p.Z)({},e,{variant:"outlined",autoComplete:"new-password",placeholder:n}))}}))};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=(0,E.Z)((function(e){return(0,b.Z)({spacingBottom:{marginBottom:e.spacing(2)},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:800},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const at=function(e){(0,Ye.Z)(e);var t=(0,u.useTranslation)().t,n=nt(),a=U(),o=a.showErrorMessage,l=a.showSuccessMessage,m=a.showWarningMessage,c=i.useState(!1),s=(0,g.Z)(c,2),d=s[0],p=s[1],f=i.useState([]),v=(0,g.Z)(f,2),h=v[0],E=v[1],b=i.useState([]),Z=(0,g.Z)(b,2),y=Z[0],w=Z[1],C=i.useState([]),x=(0,g.Z)(C,2),M=x[0],T=x[1],N=i.useState(),I=(0,g.Z)(N,2),D=I[0],P=I[1],B=i.useState(),k=(0,g.Z)(B,2),F=k[0],A=k[1],W=i.useState(),G=(0,g.Z)(W,2),j=G[0],q=G[1],L=i.useState(),z=(0,g.Z)(L,2),H=z[0],V=z[1],_=i.useState([]),K=(0,g.Z)(_,2),Q=K[0],X=K[1],Y=i.useState(),$=(0,g.Z)(Y,2),J=$[0],ee=$[1],te=i.useState(),ne=(0,g.Z)(te,2),ae=ne[0],re=ne[1],ie=i.useState(),oe=(0,g.Z)(ie,2),le=oe[0],ue=oe[1],me=i.useState(!1),ce=(0,g.Z)(me,2),se=ce[0],fe=ce[1];i.useEffect((function(){var e=[],t=[],n=[];p(!0),(0,R.jA)({status:"active"}).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);var n=e.groups.map((function(e){return{id:e.id,name:e.name}}));T(n),t=n})).catch((function(e){return e.message?e.message:e.resultMessage,{variant:"error"}})).finally((function(){E(ve(e,t,n)),p(!1)})),(0,R.G6)().then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);var t=e.operations.map((function(e){return{id:e.id,name:e.name}}));w(t),n=t})).catch((function(e){return o(e)})).finally((function(){E(ve(e,t,n)),p(!1)})),(0,R.H4)().then((function(t){if(0!==t.resultCode)throw new Error(t.resultMessage);e=t.groupRelations})).catch((function(e){return o(e)})).finally((function(){E(ve(e,t,n)),p(!1)}))}),[]);var ve=function(e,t,n){return e.map((function(e){var a,r,i,o=null===(a=t.find((function(t){return t.id===e.fromGroupId})))||void 0===a?void 0:a.name,l=null===(r=t.find((function(t){return t.id===e.toGroupId})))||void 0===r?void 0:r.name,u=null===(i=n.find((function(t){return t.id===e.operationId})))||void 0===i?void 0:i.name;return o=o||"",l=l||"",u=u||"",tt(tt({},e),{},{fromGroupName:o,toGroupName:l,operationName:u})}))},Ee=i.useState(!1),be=(0,g.Z)(Ee,2),Ze=be[0],ye=be[1],Se=i.useState(0),we=(0,g.Z)(Se,2),Ce=we[0],xe=we[1],Te=function(){(0,R.e$)(Ce).then((function(e){var n;ye(!1),l(e.resultDescription||t("relationDeletedSuccesfully")),null===(n=document.querySelector("[data-id='"+Ce+"']"))||void 0===n||n.remove()})).catch((function(e){return o(e.resultDescription)}))},Ne=function(){ye(!1)},Ie=[{field:"fromGroupId",headerName:t("fromGroupId"),sortable:!0,flex:1},{field:"fromGroupName",headerName:t("fromGroupName"),sortable:!0,flex:1},{field:"operationId",headerName:t("operationId"),sortable:!0,flex:1},{field:"operationName",headerName:t("operationName"),sortable:!0,flex:1},{field:"toGroupId",headerName:t("toGroupId"),sortable:!0,flex:1},{field:"toGroupName",headerName:t("toGroupName"),sortable:!0,flex:1},{field:"actions",headerName:t("actions"),sortable:!1,renderCell:function(e){return i.createElement("div",null,i.createElement(pe.Z,{size:"small",color:"primary",variant:"text","aria-label":"relation action buttons"},i.createElement(de.Z,{onClick:function(){return fe(!0)}},i.createElement(ze.Z,{fontSize:"small"})),i.createElement(de.Z,{onClick:function(){se&&fe(!1),ye(!0),xe(e.getValue("id"))}},i.createElement(Ve.Z,{fontSize:"small",style:{color:ge.Z[400]}}))),i.createElement(r.SeamlessDialog,{open:Ze,onClose:Ne,className:n.dialogWrapper,maxWidth:"md",fullWidth:!0},i.createElement(i.Fragment,null,i.createElement("div",{className:n.modalContentSpacing},i.createElement(O.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:n.fontHeavy},t("deleteRelationConfirmationTitle"),": ",Ce),i.createElement(O.Z,{id:"transition-modal-description",variant:"body1"},t("deleteRelationConfirmationText")," ",Ce)),i.createElement("div",{className:n.modalContentSpacing},i.createElement(r.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:n.btnSpace,onClick:Ne},t("noConfirmationButton")),i.createElement(r.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:Te},t("yesConfirmationButton"))))))},flex:1}];return i.createElement(S.Z,{container:!0,direction:"column"},i.createElement(S.Z,{container:!0,spacing:2,className:n.spacingBottom},i.createElement(S.Z,{item:!0,xs:12,sm:3},i.createElement(Je,{loading:d,label:t("selectFromGroup"),list:M,handleChange:function(e){return q(e?e.id:e)}})),i.createElement(S.Z,{item:!0,xs:12,sm:3},i.createElement(Je,{loading:d,label:t("selectOperation"),list:y,handleChange:function(e){return A(e?e.id:e)}})),i.createElement(S.Z,{item:!0,xs:12,sm:3},i.createElement(Je,{loading:d,label:t("selectToGroup"),list:M,handleChange:function(e){return V(e?e.id:e)}})),i.createElement(S.Z,{item:!0,xs:12,sm:3},i.createElement(r.SeamlessButton,{onClick:function(){if(j)if(F)if(H)if(j!==H){var e={fromGroupId:j,toGroupId:H,operationId:F};p(!0),(0,R.Ds)(e).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);return l(e),(0,R.H4)()})).then((function(e){E(ve(e.groupRelations,M,y))})).catch((function(e){return o(e)})).finally((function(){return p(!1)}))}else m(t("fromGroupEqualToGroupError"));else m(t("selectToGroupEmptyError"));else m(t("selectOperationEmptyError"));else m(t("selectFromGroupEmptyError"))},variant:"contained",color:"primary"},t("createRelation")))),i.createElement(Me.Z,null),se&&i.createElement(S.Z,{container:!0,spacing:2,className:n.spacingBottom,style:{display:"flex",flexDirection:"row",marginTop:15}},i.createElement(S.Z,{item:!0,xs:12,sm:3},i.createElement(Je,{loading:d,label:t("selectFromGroupToUpdate"),list:M,id:null==D?void 0:D.fromGroupId,handleChange:function(e){return re(e?e.id:e)}})),i.createElement(S.Z,{item:!0,xs:12,sm:3},i.createElement(Je,{loading:d,label:t("selectOperationToUpdate"),list:y,id:null==D?void 0:D.operationId,handleChange:function(e){return ee(e?e.id:e)}})),i.createElement(S.Z,{item:!0,xs:12,sm:3},i.createElement(Je,{loading:d,label:t("selectToGroupToUpdate"),list:M,id:null==D?void 0:D.toGroupId,handleChange:function(e){return ue(e?e.id:e)}})),i.createElement(S.Z,{item:!0,xs:12,sm:3},i.createElement(r.SeamlessButton,{onClick:function(){if(D)if(ae)if(J)if(le)if(ae!==le){var e={fromGroupId:ae,toGroupId:le,operationId:J,id:D.id};p(!0),(0,R.HH)(e).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);return l(e),(0,R.H4)()})).then((function(e){E(ve(e.groupRelations,M,y))})).catch((function(e){return o(e)})).finally((function(){return p(!1)}))}else m(t("fromGroupEqualToGroupError"));else m(t("selectToGroupEmptyError"));else m(t("selectOperationEmptyError"));else m(t("selectFromGroupEmptyError"));else m(t("selectRelationError"))},variant:"contained",color:"primary"},t("updateRelation")))),se&&i.createElement(Me.Z,null),i.createElement("div",{style:{height:450}},i.createElement(he(),{loading:d,columnBuffer:2,rows:h,getRowId:function(e){return e.id},columns:Ie,onSelectionModelChange:function(e){X(e.selectionModel);var t=e.selectionModel[0],n=h.find((function(e){return e.id.toString()===t}));n&&(P(n),re(n.fromGroupId),ue(n.toGroupId),ee(n.operationId))},selectionModel:Q})))},rt=function(e){var t=e.disable,n=void 0!==t&&t,a=(0,u.useTranslation)().t;return i.createElement(r.SeamlessButton,{component:o.Link,to:"/home/group/domains/create",variant:"contained",color:"primary",disabled:n,endIcon:i.createElement(m.Z,null)},a("createDomain"))};var it=(0,E.Z)((function(e){return(0,b.Z)({button:{margin:e.spacing(1)},element:{marginRight:e.spacing(1),marginBottom:e.spacing(2)},spacingBottom:{marginBottom:e.spacing(2)}})}));const ot=function(e){var t=e.data,n=e.onFormSubmit,a=it(),o=(0,u.useTranslation)().t,l=k.Ry().shape({name:k.Z_().required(o("domainCodeError")),description:k.Z_().required(o("domainNameError"))}),m=(0,B.TA)({initialValues:t,onSubmit:function(e){return n&&n(e)},validationSchema:l,enableReinitialize:!0}),c=m.values,s=m.errors,d=m.handleChange,p=m.handleBlur,f=m.handleSubmit,g=m.handleReset;return i.createElement(S.Z,{container:!0},i.createElement(S.Z,{container:!0,spacing:2,className:a.spacingBottom},i.createElement(S.Z,{container:!0,item:!0,xs:4,direction:"column"},i.createElement(S.Z,{item:!0,xs:12},i.createElement(r.SeamlessInput,{className:(0,h.default)(a.element),fullWidth:!0,required:!0,error:!!s.name,name:"name",helperText:s.name?o("domainCodeError"):"",value:c.name,onChange:d,onBlur:p,label:o("domainCode")}),i.createElement(r.SeamlessInput,{className:(0,h.default)(a.element),fullWidth:!0,required:!0,error:!!s.description,name:"description",helperText:s.description?o("domainNameError"):"",value:c.description,onChange:d,onBlur:p,label:o("domainName")})))),i.createElement(S.Z,{item:!0,xs:12},i.createElement(r.SeamlessButton,{onClick:function(e){return f()},className:(0,h.default)(a.element,a.button),color:"primary",variant:"contained"},o("submit")),i.createElement(r.SeamlessButton,{onClick:g,className:(0,h.default)(a.element,a.button),color:"primary",variant:"outlined"},o("reset"))))};var lt=(0,E.Z)((function(e){return(0,b.Z)({button:{margin:e.spacing(1)},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},radioButton:{marginLeft:e.spacing(2)}})}));const ut=function(e){var t,n,a,o,l=e.data,m=e.onFormSubmit,c=lt(),s=(0,u.useTranslation)().t,d=i.useState(!1),f=(0,g.Z)(d,2),v=f[0],E=f[1],b=i.useState(),Z=(0,g.Z)(b,2),y=Z[0],w=Z[1],C=U(),x=C.showErrorMessage,M=C.showSuccessMessage,T=i.useState([]),I=(0,g.Z)(T,2),D=I[0],O=I[1],P=null,G=(0,W.useSelector)((function(e){return e.auth})).user;G&&null!==(t=G.info)&&void 0!==t&&t.resellerData&&(null===(n=G.user)||void 0===n||n.requestedPrincipalId,P=null===(a=G.info)||void 0===a||null===(o=a.resellerData)||void 0===o?void 0:o.resellerTypeId);var j=i.useState([]),q=(0,g.Z)(j,2),L=q[0],z=q[1];i.useEffect((function(){z(l.members)}),[l.members]),i.useEffect((function(){E(!0),(0,R.lg)(P).then((function(e){return O(e.types)})).catch((function(e){return x(e)})).finally((function(){return E(!1)}))}),[]);var H=k.Ry().shape({name:k.Z_().required(s("domainCodeError")),description:k.Z_().required(s("domainNameError"))}),V=(0,B.TA)({initialValues:l,onSubmit:function(e){return m&&m(e)},validationSchema:H,enableReinitialize:!0}),_=V.values,K=V.errors,Q=V.handleChange,X=V.handleBlur;return V.handleSubmit,V.handleReset,i.createElement(S.Z,{container:!0,spacing:3},i.createElement(S.Z,{container:!0,item:!0,xs:6},i.createElement(S.Z,{container:!0,item:!0,xs:6,direction:"column"},i.createElement(S.Z,{item:!0},i.createElement(r.SeamlessInput,{className:(0,h.default)(c.element),fullWidth:!0,required:!0,error:!!K.name,name:"name",helperText:K.name?s("domainCodeError"):"",value:_.name,onChange:Q,onBlur:X,label:s("domainCode"),readOnly:!0}),i.createElement(r.SeamlessInput,{className:(0,h.default)(c.element),fullWidth:!0,required:!0,error:!!K.description,name:"description",helperText:K.description?s("domainNameError"):"",value:_.description,onChange:Q,onBlur:X,label:s("domainName"),readOnly:!0})))),i.createElement(S.Z,{item:!0,container:!0,xs:6},i.createElement(S.Z,{item:!0,xs:6},i.createElement(A.ZP,{multiple:!0,options:D,getOptionLabel:function(e){return"".concat(e.name)},onChange:function(e,t){w(t.filter((function(e){return e.id})))},renderInput:function(e){return i.createElement(N.Z,(0,p.Z)({},e,{variant:"standard",label:s("addResellerTypes")}))}})),i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessButton,{onClick:function(){var e=[];if(null==y||!y.length)return null;y.map((function(t){e.push({userId:t.id,memberType:"member",status:"active",userIdType:"RESELLERID",data:[],effectiveUntil:new Date(2099,12,31),name:t.name})}));var t={addGroupAsMember:!1,members:e};!function(e,t){e&&(E(!0),(0,R.fZ)(_.id.toString(),t).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);M(e),(0,R.VL)(_.id.toString()).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);z(function(e){return e.map((function(e){return{id:e.id,name:e.name,userId:e.userId,userIdType:e.userIdType,memberType:e.memberType,status:e.status,createdAt:e.createdAt,effectiveFrom:e.effectiveFrom,data:e.data}}))}(e.group.members))})).catch((function(e){return x(e)}))})).catch((function(e){return x(e)})).finally((function(){E(!1)})))}(y[0].id,t)},color:"primary",variant:"text"},i.createElement(F.Z,{fontSize:"large"})))),i.createElement(S.Z,{item:!0,xs:12},i.createElement("div",{style:{width:"100%",height:"300px"}},i.createElement(be,{details:_,edit:!0,members:L,loading:v,groupId:_.id.toString(),type:"domain"}))))};var mt=n(80030),ct=(0,E.Z)((function(e){return(0,b.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},formWrapper:{padding:"".concat(e.spacing(1.5)," 0")},formWidget:{marginTop:e.spacing(5),"& .MuiFormControl-root":{marginBottom:e.spacing(1.5),marginRight:e.spacing(1.5)},"& .MuiTypography-root":{marginBottom:e.spacing(1)}},saveBtn:{marginTop:e.spacing(3)},modalImageSize:{maxWidth:70},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const st=function(e){var t=e.loading,n=e.domains,a=(0,u.useTranslation)().t,l=(0,q.useSnackbar)().enqueueSnackbar,m=ct(),c=i.useState(!1),s=(0,g.Z)(c,2),d=s[0],p=s[1],f=i.useState(0),v=(0,g.Z)(f,2),h=v[0],E=(v[1],(0,o.useHistory)()),b=function(){p(!1)},Z=[{field:"name",headerName:a("Domain Code"),sortable:!0,flex:1,valueGetter:function(e){return e.row.name?e.row.name:a("emptyValueMark")}},{field:"description",headerName:a("Domain Name"),sortable:!0,flex:1,valueGetter:function(e){return e.row.description?e.row.description:a("emptyValueMark")}},{field:"actions",headerName:a("actions"),sortable:!1,renderCell:function(e){return i.createElement("div",null,i.createElement(pe.Z,{size:"small",color:"primary","aria-label":"group action buttons"},i.createElement(de.Z,{component:o.Link,to:"/home/group/domains/view/"+e.getValue("id")},i.createElement(mt.ZP,{title:"View"},i.createElement(He.Z,{fontSize:"small"}))),i.createElement(mt.ZP,{title:a("associateResellerTypesTooltip")},i.createElement(de.Z,{component:o.Link,to:"/home/group/domains/edit/"+e.getValue("id")+"/list"},i.createElement(ze.Z,{fontSize:"small"})))))},flex:1.5}];return i.createElement(i.Fragment,null,i.createElement(he(),{loading:t,columnBuffer:2,rows:n,getRowId:function(e){return e.id},columns:Z,checkboxSelection:!0}),i.createElement(r.SeamlessDialog,{open:d,onClose:b,className:m.dialogWrapper,maxWidth:"md",fullWidth:!0},i.createElement(i.Fragment,null,i.createElement("div",{className:m.modalContentSpacing},i.createElement(O.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:m.fontHeavy},a("deleteGroupConfirmationTitle"),": ",h),i.createElement(O.Z,{id:"transition-modal-description",variant:"body1"},a("deleteGroupConfirmationText")," ",h)),i.createElement(r.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:m.btnSpace,onClick:b},a("noConfirmationButton")),i.createElement(r.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:function(){(0,R.iE)(h).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);p(!1),l(e.resultMessage,{variant:"success"})})).catch((function(e){return l(e.message?e.message:e.resultMessage,{variant:"error"})})).finally((function(){E.push("/home/group/domains")}))}},a("yesConfirmationButton")))))};var dt=(0,E.Z)((function(e){return(0,b.Z)({button:{margin:e.spacing(1),marginTop:e.spacing(3)},element:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginRight:e.spacing(1)}})}));const pt=function(e){var t=e.onFormSubmit,n=dt(),a=(0,u.useTranslation)().t,o=k.Ry().shape({}),l=(0,B.TA)({initialValues:{name:"",status:"active"},onSubmit:function(e){return t&&t(e)},validationSchema:o,enableReinitialize:!0}),m=l.values,c=(l.errors,l.handleChange),s=(l.handleBlur,l.handleSubmit);return i.createElement(S.Z,{container:!0,spacing:2},i.createElement(S.Z,{item:!0,xs:2},i.createElement(r.SeamlessInput,{className:(0,h.default)(n.element),fullWidth:!0,name:"name",value:m.name,onChange:c,label:a("domainCode")})),i.createElement(S.Z,{item:!0,xs:4},i.createElement(r.SeamlessButton,{onClick:function(e){return s()},className:(0,h.default)(n.button),color:"primary",variant:"contained"},a("search"))))};function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const vt=function(){var e=i.useState([]),t=(0,g.Z)(e,2),n=t[0],r=t[1],o=i.useState(!1),l=(0,g.Z)(o,2),u=l[0],m=l[1],c=U().showErrorMessage,s=i.useState(),d=(0,g.Z)(s,2),p=(d[0],d[1]);return i.useEffect((function(){m(!0),(0,R.Nk)("active").then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);var t=e.groups.map((function(e){var t=e.data.find((function(e){return"groupType"===e.dataName}));return gt(gt({},e),{},{groupType:t?t.dataValue:""})}));r(t)})).catch((function(e){return c(e)})).finally((function(){return m(!1)}))}),[]),i.createElement(i.Fragment,null,i.createElement(a.Z,{mb:2},i.createElement(pt,{onFormSubmit:function(e){m(!0),p(e.name),(0,R.Nk)("active",e.name).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);var t=e.groups.map((function(e){var t=e.data.find((function(e){return"groupType"===e.dataName}));return gt(gt({},e),{},{groupType:t?t.dataValue:""})}));r(t)})).catch((function(e){c(e),r([])})).finally((function(){return m(!1)}))}})),i.createElement("div",{style:{height:600,width:"100%"}},i.createElement(st,{domains:n,loading:u})))},ht=function(e){var t=e.children,n=e.id,a=i.useState(),r=(0,g.Z)(a,2),o=r[0],l=r[1],u=i.useState(!1),m=(0,g.Z)(u,2),c=m[0],s=m[1],d=U().showErrorMessage;return i.useEffect((function(){s(!0),(0,R.VL)(n).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);l(e.group)})).catch((function(e){return d(e)})).finally((function(){return s(!1)}))}),[]),i.createElement(i.Fragment,null,t({domain:o,loading:c,id:n}))},Et=function(e){var t=e.loading,n=e.domain,r=(e.id,(0,u.useTranslation)().t);return U().showErrorMessage,t||!n?i.createElement(a.Z,{justifyContent:"flex-start",display:"flex",flexDirection:"column",width:"100%",p:1,borderColor:"grey.200",border:.2,borderRadius:6},i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:40,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:40,variant:"text",animation:"wave"})),i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"})),i.createElement(a.Z,{m:2,width:"30%"},i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}),i.createElement(Te.Z,{height:20,variant:"text",animation:"wave"}))):i.createElement(a.Z,{p:2,mb:2,border:.2,borderColor:"grey.200",borderRadius:6,display:"flex",flexDirection:"column"},i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},r("domainCode")),i.createElement(O.Z,{variant:"caption"},null==n?void 0:n.name))),i.createElement(Ce.Z,{elevation:0},i.createElement(xe.Z,null,i.createElement(O.Z,{variant:"body1"},r("domainName")),i.createElement(O.Z,{variant:"caption"},null==n?void 0:n.description)))),i.createElement(Me.Z,null),i.createElement("div",{style:{width:"100%",height:"300px"}},i.createElement(be,{details:n||"",members:n.members,loading:t,groupId:n.id.toString(),type:"domain"})))},bt=function(e){var t=e.id;return i.createElement(ht,{id:t},(function(e){return i.createElement(Et,e)}))},Zt=function(){var e=(0,u.useTranslation)().t;return i.createElement(r.SeamlessContainer,{title:e("viewAllGroupsPageTitle"),description:e("viewAllGroupsDescription")},i.createElement(a.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},i.createElement(d,null)),i.createElement(Pe,null))};var yt,St=new Date;St.setDate((new Date).getDate()+1);var wt={id:0,name:"",description:"",status:"active",createdAt:new Date,updatedAt:new Date,minimumMembers:1,maximumMembers:2,availableFrom:new Date,availableUntil:St,groupType:"EXCLUSIVE"},Ct=(null===(yt=window.config)||void 0===yt?void 0:yt.group.hideKeyOnGroupUpdate)||[],xt="",Mt={actor:"/home/actor/group"};const Tt=function(){var e=U(),t=e.showErrorMessage,n=e.showSuccessMessage,a=(0,u.useTranslation)().t,l=(0,o.useHistory)(),m=new URLSearchParams(window.location.search),c=i.useState(!1),s=(0,g.Z)(c,2),d=(s[0],s[1]);i.useEffect((function(){xt=m.get("source")||""}),[]);var p=i.useCallback((function(e){var a=new Date,r=new Date(a.setSeconds(a.getSeconds()+5));e.availableFrom.getTime()>a.getTime()&&(r=e.availableFrom);var i=[{dataName:"groupType",dataValue:e.groupType?e.groupType:""}];Ct.includes("groupType")&&(i=[]);var o={id:e.id,name:e.name,description:e.description,status:e.status,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),minimumMembers:e.minimumMembers,maximumMembers:e.maximumMembers,availableFrom:r.toISOString(),availableUntil:e.availableUntil.toISOString(),data:i};d(!0),(0,R.sS)(o).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);n(e);var t=Mt[xt];t?l.push(t):l.goBack()})).catch((function(e){return t(e)})).finally((function(){return d(!1)}))}),[]);return i.createElement(r.SeamlessContainer,{title:a("createGroupPageTitle"),description:a("createGroupPageDescription")},i.createElement(ce,{"data-testid":"create-group",data:wt,onFormSubmit:function(e){return p(e)}}))},Nt=function(){var e=(0,o.useParams)().id,t=(0,u.useTranslation)().t;return i.createElement(r.SeamlessContainer,{title:t("viewGroupPageTitle"),description:t("viewGroupPageDescription")},i.createElement(a.Z,null,i.createElement(Oe,{id:e})))};var It,Dt=n(67358),Ot={id:0,name:"",description:"",status:"active",createdAt:new Date,updatedAt:new Date,minimumMembers:1,maximumMembers:2,availableFrom:new Date,availableUntil:new Date,groupType:"EXCLUSIVE",members:[]},Pt=(null===(It=window.config)||void 0===It?void 0:It.group.hideKeyOnGroupUpdate)||[];const Bt=function(){var e=i.useState(!1),t=(0,g.Z)(e,2),n=t[0],a=t[1],l=U(),m=l.showErrorMessage,c=l.showSuccessMessage,s=(0,o.useParams)(),d=s.id,p=s.referrer,f=(0,u.useTranslation)().t,v=i.useState(Ot),h=(0,g.Z)(v,2),E=h[0],b=h[1];i.useEffect((function(){a(!0),(0,R.VL)(d).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);var t=e.group.data.find((function(e){return"groupType"===e.dataName})),n={id:e.group.id,name:e.group.name,description:e.group.description,status:e.group.status,createdAt:new Date(e.group.createdAt),updatedAt:new Date(e.group.updatedAt),minimumMembers:e.group.minimumMembers,maximumMembers:e.group.maximumMembers,availableFrom:new Date(e.group.availableFrom),availableUntil:new Date(e.group.availableUntil),groupType:t?t.dataValue:"",members:e.group.members};b(n)})).catch((function(e){return m(e)})).finally((function(){return a(!1)}))}),[]);var Z=i.useCallback((function(e){var t=[{dataName:"groupType",dataValue:e.groupType?e.groupType:""}];("actor"===p||Pt.includes("groupType"))&&(t=[]);var n={id:parseInt(d),name:e.name,description:e.description,status:e.status,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),minimumMembers:e.minimumMembers,maximumMembers:e.maximumMembers,availableFrom:e.availableFrom.toISOString(),availableUntil:e.availableUntil.toISOString(),data:t};a(!0),(0,R.mD)(n).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);c(e),history.back()})).catch((function(e){return m(e)})).finally((function(){return a(!1)}))}),[]);return i.createElement(r.SeamlessContainer,{title:f("editGroupPageTitle"),description:f("editGroupPageDescription")},i.createElement(te,{"data-testid":"edit-group",data:E,onFormSubmit:function(e){return Z(e)}}),n?i.createElement(Dt.Z,null):null)},kt=function(){var e=(0,o.useRouteMatch)().path,t=s()().AccessControlled;return i.createElement(o.Switch,null,i.createElement(o.Route,{path:"".concat(e,"/create")},i.createElement(t,{feature:"CREATE_GROUP"},i.createElement(Tt,null))),i.createElement(o.Route,{path:e+"/view/:id"},i.createElement(t,{feature:"VIEW_GROUP"},i.createElement(Nt,null))),i.createElement(o.Route,{path:e+"/edit/:id/:referrer"},i.createElement(t,{feature:"EDIT_GROUP"},i.createElement(Bt,null))),i.createElement(o.Route,null,i.createElement(t,{feature:"GROUPS_LISTING"},i.createElement(Zt,null))))},Rt=function(){var e=(0,u.useTranslation)().t;return i.createElement(r.SeamlessContainer,{title:e("viewAllOperationsPageTitle"),description:e("viewAllOperationsDescription")},i.createElement(a.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},i.createElement(Xe,null)),i.createElement("div",{style:{height:640,width:"100%"}},i.createElement(Qe,null)))};var Ft={id:0,code:"",module:"",name:"",type:"",fromState:"",toState:""};const At=function(){var e,t,n=i.useState(!1),a=(0,g.Z)(n,2),l=(a[0],a[1]),m=U(),c=m.showErrorMessage,s=m.showSuccessMessage,d=m.showWarningMessage,p=(0,u.useTranslation)().t,f=(0,o.useHistory)(),v=i.useCallback((function(e){l(!0),(0,R.zi)(e).then((function(e){0==e.resultCode?(s(e),f.push("/home/group/operations")):d(e)})).catch((function(e){c(e)})).finally((function(){return l(!1)}))}),[]);return i.createElement(r.SeamlessContainer,{title:p("createOperationPageTitle"),description:p("createOperationPageDescription")},i.createElement(Ue,{"data-testid":"create-operation",data:(e=Ft,t=["id"],Object.keys(e).reduce((function(n,a){return t.includes(a)||(n[a]=e[a]),n}),{})),onFormSubmit:function(e){return v(e)}}))},Wt=function(){var e=(0,o.useParams)().id,t=(0,u.useTranslation)().t;return i.createElement(r.SeamlessContainer,{title:t("viewOperationPageTitle"),description:t("viewOperationPageDescription")},i.createElement(a.Z,null,i.createElement(je,{id:e})))};var Gt={id:0,code:"",module:"",name:"",type:"",fromState:"",toState:""};const jt=function(){var e=i.useState(!1),t=(0,g.Z)(e,2),n=t[0],a=t[1],l=U(),m=l.showErrorMessage,c=l.showSuccessMessage,s=l.showWarningMessage,d=(0,o.useParams)().id,p=(0,u.useTranslation)().t,f=(0,o.useHistory)(),v=i.useState(Gt),h=(0,g.Z)(v,2),E=h[0],b=h[1];i.useEffect((function(){a(!0),(0,R.KP)(d).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);b(e.operation)})).catch((function(e){return m(e)})).finally((function(){return a(!1)}))}),[]);var Z,y,S=i.useCallback((function(e){a(!0),(0,R.f9)(e).then((function(e){0==e.resultCode?(c(e),f.push("/home/group/operations")):s(e)})).catch((function(e){m(e)})).finally((function(){return a(!1)}))}),[]);return i.createElement(r.SeamlessContainer,{title:p("editOperationPageTitle"),description:p("editOperationPageDescription")},i.createElement(Ue,{"data-testid":"edit-operation",edit:!0,data:(Z=E,y=[""],Object.keys(Z).reduce((function(e,t){return y.includes(t)||(e[t]=Z[t]),e}),{})),onFormSubmit:function(e){return S(e)}}),n?i.createElement(Dt.Z,null):null)},qt=function(){var e=(0,o.useRouteMatch)().path,t=s()().AccessControlled;return i.createElement(o.Switch,null,i.createElement(o.Route,{path:"".concat(e,"/create")},i.createElement(t,{feature:"CREATE_OPERATION"},i.createElement(At,null))),i.createElement(o.Route,{path:e+"/view/:id"},i.createElement(t,{feature:"VIEW_OPERATION"},i.createElement(Wt,null))),i.createElement(o.Route,{path:e+"/edit/:id"},i.createElement(t,{feature:"EDIT_OPERATION"},i.createElement(jt,null))),i.createElement(o.Route,null,i.createElement(t,{feature:"OPERATIONS_LISTING"},i.createElement(Rt,null))))},Ut=function(){var e=(0,u.useTranslation)().t;return i.createElement(r.SeamlessContainer,{title:e("viewAllRelationsPageTitle"),description:e("viewAllRelationsDescription")},i.createElement(at,null))},Lt=function(){(0,o.useRouteMatch)().path;var e=s()().AccessControlled;return i.createElement(o.Switch,null,i.createElement(o.Route,null,i.createElement(e,{feature:"RELATIONS_LISTING"},i.createElement(Ut,null))))};var zt={id:0,name:"",description:"",status:"active",createdAt:new Date,updatedAt:new Date,minimumMembers:1,maximumMembers:window.config.group.domainMaximumMembers||10,availableFrom:new Date,availableUntil:new Date(2099,12,31),groupType:"EXCLUSIVE"};const Ht=function(){var e=i.useState(!1),t=(0,g.Z)(e,2),n=(t[0],t[1]),a=U(),l=a.showErrorMessage,m=a.showSuccessMessage,c=(0,u.useTranslation)().t,s=(0,o.useHistory)(),d=i.useCallback((function(e){var t={id:e.id,name:e.name,description:e.description,status:e.status,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),minimumMembers:e.minimumMembers,maximumMembers:e.maximumMembers,availableFrom:e.availableFrom.toISOString(),availableUntil:e.availableUntil.toISOString(),data:[{dataName:"groupType",dataValue:e.groupType}]};n(!0),(0,R.Fj)(t).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);m(e),s.push("/home/group/domains")})).catch((function(e){return l(e)})).finally((function(){return n(!1)}))}),[]);return i.createElement(r.SeamlessContainer,{title:c("createDomainPageTitle"),description:c("createDomainPageDescription")},i.createElement(ot,{"data-testid":"create-domain",data:zt,onFormSubmit:function(e){return d(e)}}))};var Vt={id:0,name:"",description:"",status:"active",createdAt:new Date,updatedAt:new Date,minimumMembers:1,maximumMembers:2,availableFrom:new Date,availableUntil:new Date,groupType:"EXCLUSIVE",members:[]};const _t=function(){var e=i.useState(!1),t=(0,g.Z)(e,2),n=t[0],a=t[1],l=U(),m=l.showErrorMessage,c=l.showSuccessMessage,s=(0,o.useParams)().id,d=(0,u.useTranslation)().t,p=i.useState(Vt),f=(0,g.Z)(p,2),v=f[0],h=f[1];i.useEffect((function(){a(!0),(0,R.VL)(s).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);var t=e.group.data.find((function(e){return"groupType"===e.dataName})),n={id:e.group.id,name:e.group.name,description:e.group.description,status:e.group.status,createdAt:new Date(e.group.createdAt),updatedAt:new Date(e.group.updatedAt),minimumMembers:e.group.minimumMembers,maximumMembers:e.group.maximumMembers,availableFrom:new Date(e.group.availableFrom),availableUntil:new Date(e.group.availableUntil),groupType:t?t.dataValue:"",members:e.group.members};h(n)})).catch((function(e){return m(e)})).finally((function(){return a(!1)}))}),[]);var E=i.useCallback((function(e){var t={id:parseInt(s),name:e.name,description:e.description,status:e.status,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString(),minimumMembers:e.minimumMembers,maximumMembers:e.maximumMembers,availableFrom:e.availableFrom.toISOString(),availableUntil:e.availableUntil.toISOString(),data:[{dataName:"groupType",dataValue:e.groupType?e.groupType:""}]};a(!0),(0,R.mD)(t).then((function(e){if(0!==e.resultCode)throw new Error(e.resultMessage);c(e),history.back()})).catch((function(e){return m(e)})).finally((function(){return a(!1)}))}),[]);return i.createElement(r.SeamlessContainer,{title:d("editDomainPageTitle"),description:d("editDomainPageDescription")},i.createElement(ut,{"data-testid":"edit-domain",data:v,onFormSubmit:function(e){return E(e)}}),n?i.createElement(Dt.Z,null):null)},Kt=function(){var e=(0,u.useTranslation)().t;return i.createElement(r.SeamlessContainer,{title:e("viewAllDomainsPageTitle"),description:e("viewAllDomainsDescription")},i.createElement(a.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},i.createElement(rt,null)),i.createElement(vt,null))},Qt=function(){var e=(0,o.useParams)().id,t=(0,u.useTranslation)().t;return i.createElement(r.SeamlessContainer,{title:t("viewDomainPageTitle"),description:t("viewDomainPageDescription")},i.createElement(a.Z,null,i.createElement(bt,{id:e})))},Xt=function(){var e=(0,o.useRouteMatch)().path,t=s()().AccessControlled;return i.createElement(o.Switch,null,i.createElement(o.Route,{path:"".concat(e,"/create")},i.createElement(t,{feature:"CREATE_DOMAIN"},i.createElement(Ht,null))),i.createElement(o.Route,{path:e+"/view/:id"},i.createElement(t,{feature:"VIEW_DOMAIN"},i.createElement(Qt,null))),i.createElement(o.Route,{path:e+"/edit/:id/:referrer"},i.createElement(t,{feature:"EDIT_DOMAIN"},i.createElement(_t,null))),i.createElement(o.Route,null,i.createElement(t,{feature:"DOMAINS_LISTING"},i.createElement(Kt,null))))};var Yt=(0,E.Z)((function(e){return(0,b.Z)({button:{margin:e.spacing(1)}})}));const $t=function(){var e=Yt(),t=(0,o.useRouteMatch)().path,n=(0,u.useTranslation)().t;return i.createElement(o.Switch,null,i.createElement(o.Route,{path:"".concat(t,"/groups")},i.createElement(kt,null)),i.createElement(o.Route,{path:"".concat(t,"/domains")},i.createElement(Xt,null)),i.createElement(o.Route,{path:"".concat(t,"/operations")},i.createElement(qt,null)),i.createElement(o.Route,{path:"".concat(t,"/relations")},i.createElement(Lt,null)),i.createElement(o.Route,null,i.createElement(a.Z,{display:"flex",flexDirection:"row"},i.createElement(r.SeamlessButton,{className:e.button,color:"primary",variant:"contained",component:o.Link,to:"/home/group/groups"},n("groups")),i.createElement(r.SeamlessButton,{className:e.button,color:"primary",variant:"contained",component:o.Link,to:"/home/group/operations"},n("operations")),i.createElement(r.SeamlessButton,{className:e.button,color:"primary",variant:"contained",component:o.Link,to:"/home/group/relations"},n("relations")))))}}}]);