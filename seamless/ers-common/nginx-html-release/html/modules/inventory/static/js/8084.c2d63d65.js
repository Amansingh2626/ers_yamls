(self.webpackChunk_unified_inventory=self.webpackChunk_unified_inventory||[]).push([[8084],{52754:(e,t,n)=>{"use strict";n.d(t,{lg:()=>f,Fw:()=>S,zp:()=>O,AE:()=>P,rJ:()=>k,FQ:()=>C,ow:()=>E,z2:()=>h,jI:()=>p,ip:()=>m,e5:()=>T,zm:()=>y,Rr:()=>F,o:()=>N,Nm:()=>Z,em:()=>b,r1:()=>w,FO:()=>x,CT:()=>v,A6:()=>d,j4:()=>I,Nf:()=>g});var r=n(34126),a=n(61416),o=n.n(a),l="/ims/v1";function i(e,t){return t?o()(l+e,t):o()(l+e)}const c=o();var s,u=null===(s=window.config.inventory.callV2BoxesListingAPI)||void 0===s||s;function d(e,t,n,r){var a=new Headers;a.set("authorization",localStorage.getItem("token")||""),a.append("Accept-Language","en-US;en-IN;q=0.9,en-US;q=0.7,en-GB;q=0.6");var o=new FormData;o.append("file",t,t.name);var i={method:"POST",headers:a,body:o,redirect:"follow"},c="".concat(l,"/inventory/import?ownerId=").concat(e,"&type=").concat(n,"&productType=").concat(r),s="".concat(window.config.protocol,"://").concat(window.config.server,"/api").concat(c);return fetch(s,i).then((function(e){var t=e.headers.get("authorization");return t&&localStorage.setItem("token",t),e.json()}))}function p(e){return i("/inventory/import?".concat(r.stringify(e)))}function m(e){return i("/inventory/import/".concat(e))}function f(e,t){return i("/inventory/import/".concat(e,"/action/").concat(t),{method:"PATCH"})}var g=function(e){return i("/inventory/update/",{method:"PATCH",body:e})},h=function(e){return i(e?"/inventory-count-all/".concat(e):"/inventory-count-all")},v=function(e){return c("/dms/v1/resellers/types/".concat(e,"/children"))},y=function(){return c("/pms/v1/productCategory")},b=function(e,t){return c("/pms/v1/product/filter?".concat(r.stringify(t)),{method:"POST",body:e})},x=function(e){return i("/inventory-count-reseller-all",{method:"POST",body:e})},E=function(e,t,n){return c("/ims/".concat(u?"v2":"v1","/products/").concat(e,"/inventories/boxes?").concat(r.stringify(n)),{method:"POST",body:t})},S=function(e,t,n,r){return i("/products/".concat(e,"/inventories/boxes/export"),{method:"POST",body:r})},C=function(e,t){return i("/box/".concat(e,"?items=true&").concat(r.stringify(t)))},w=function(){return c("/pms/v1/workflow/state")},I=function(e,t){return i("/products/".concat(e,"/inventory/create-box"),{method:"POST",body:t})},O=function(e,t,n,r){return i("/box/".concat(e,"/export?order=").concat(t,"&orderBy=").concat(n),{method:"POST",body:r})},P=function(e,t){return c("/ims/v2/inventories?".concat(r.stringify(t)),{method:"POST",body:e})},k=function(e,t){return c("/ims/v2/inventories?".concat(r.stringify(t)),{method:"POST",body:e})},T=function(e,t){return c("/ims/v2/inventories?".concat(r.stringify(t)),{method:"POST",body:e})},N=function(e,t){return c("/pms/v1/product/variant/inventory-count?".concat(r.stringify(e)),{method:"POST",body:t})},F=function(e){return c("/pms/v1/productCategory/inventory-count",{method:"POST",body:e})},Z=function(e){return c("/pms/v1/product/variant/inventory-count/sku",{method:"POST",body:e})}},86353:(e,t,n)=>{"use strict";n.d(t,{LD:()=>Ft,eA:()=>ve,tv:()=>ge,kD:()=>O,id:()=>Bt,A:()=>Ot,Wq:()=>Je,hH:()=>Nt,n6:()=>S,jM:()=>Xe,dW:()=>Ae,M_:()=>ze,$G:()=>Re,fG:()=>Te,Rl:()=>_,lA:()=>Qe,kO:()=>T});var r=n(7560),a=n(2411),o=n.n(a),l=n(74315),i=n(52754),c=n(23664),s=n(39105);const u=function(e){var t=e.children,n=a.useState([]),r=(0,l.Z)(n,2),o=r[0],u=r[1],d=a.useState(),p=(0,l.Z)(d,2),m=p[0],f=p[1],g=a.useState(!1),h=(0,l.Z)(g,2),v=h[0],y=h[1],b=(0,c.Z)().showErrorMessage,x=(0,s.sO)({page:1,perPage:20,order:"desc",orderBy:"startTime",filter:{}}),E=x.page,S=x.perPage,C=x.order,w=x.orderBy,I=x.filter,O=x.onPageSizeChange,P=x.onPageChange,k=x.onOrderByChange,T=x.onOrderChange,N=x.onReset,F=x.onFilterChange,Z=a.useCallback((function(){y(!0),(0,i.jI)({sort:"".concat(w,"_").concat(null==C?void 0:C.toLowerCase()),page:E,perPage:S,filter:Object.keys(I).reduce((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return I[n]?"".concat(t?"".concat(t.trim(),","):"").concat(n,":").concat(null===(e=I[n])||void 0===e?void 0:e.trim()):t.trim()}),"")}).then((function(e){u(e.data),f(e.metaData)})).catch((function(e){b("There was an error")})).finally((function(){return y(!1)}))}),[E,C,w,S,I]);return a.useEffect(Z,[Z]),(0,s.Yz)(Z,4e3),a.createElement(a.Fragment,null,t({loading:v,page:E,order:C,orderBy:w,imports:o,perPage:S,filter:I,meta:m,onPageSizeChange:O,onPageChange:P,onOrderByChange:k,onOrderChange:T,onFilterChange:F,onReset:N}))};var d=n(51119),p=n(41744),m=n.n(p),f=n(19653),g=n(23900),h=n(94079),v=n(48049);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const x=function(e){var t=e.imports,n=e.loading,r=e.page,o=e.order,l=e.perPage,i=e.orderBy,c=e.meta,s=(e.filter,e.onPageChange),u=e.onPageSizeChange,d=e.handleStatusChange,p=e.onFilterChange,y=e.onOrderByChange,x=e.onOrderChange,E=(0,g.useTranslation)().t,S=[{field:"jobName",headerName:E("jobName"),hide:!0,filterable:!1,flex:1},{field:"fileName",headerName:E("fileName"),sortable:!0,filterOperators:(0,f.getGridNumericColumnOperators)().filter((function(e){return"="===e.value})).map((function(e){return b(b({},e),{},{InputComponentProps:{InputProps:{type:"text"}}})})),flex:1,renderCell:function(e){return a.createElement(h.Link,{href:e.getValue("fileUrl"),style:{whiteSpace:"pre-wrap",overflowWrap:"break-word"},color:"secondary",target:"_blank"},a.createElement("p",{style:{wordBreak:"break-all",lineHeight:1.5}},e.value))}},{field:"startTime",headerName:E("startTime"),sortable:!0,filterable:!1,flex:1,renderCell:function(e){return null!==e.value?a.createElement(h.Chip,{style:{fontSize:12},size:"small",label:new Date(Date.parse(e.value)).toUTCString()}):a.createElement(a.Fragment,null)}},{field:"endTime",headerName:E("endTime"),sortable:!0,filterable:!1,flex:1,renderCell:function(e){return null!==e.value?a.createElement(h.Chip,{style:{fontSize:12},size:"small",label:new Date(Date.parse(e.value)).toUTCString()}):a.createElement(a.Fragment,null)}},{field:"status",headerName:E("status"),sortable:!0,flex:1,filterOperators:(0,f.getGridNumericColumnOperators)().filter((function(e){return"="===e.value})).map((function(e){return b(b({},e),{},{InputComponentProps:{InputProps:{type:"text"}}})}))},{field:"ownerName",headerName:E("ownerName"),valueGetter:function(e){return null===e.getValue("owner")||void 0===e.getValue("owner")?"":e.getValue("owner").ownerName},flex:1,filterOperators:(0,f.getGridNumericColumnOperators)().filter((function(e){return"="===e.value})).map((function(e){return b(b({},e),{},{InputComponentProps:{InputProps:{type:"text"}}})}))},{field:"created",headerName:E("created"),hide:!0,filterable:!1,flex:1},{field:"lastUpdated",headerName:E("lastUpdated"),hide:!0,flex:1,filterable:!1},{field:"actions",headerName:E("actions"),filterable:!1,renderCell:function(e){var t=e.getValue("actionRequired"),n=e.getValue("jobName"),r=e.getValue("uploadApproved"),o=e.getValue("status");return a.createElement(h.ButtonGroup,{size:"small",color:"primary",variant:"text","aria-label":"import job action buttons"},a.createElement(h.Button,{color:"secondary",component:v.Link,to:"/home/inventory/import/view/"+e.getValue("jobName")},a.createElement(h.Icon,{fontSize:"small"},"visibility")),Boolean(t)?a.createElement(a.Fragment,null,a.createElement(h.Button,{disabled:"FAILED"===o||r,onClick:function(){return d(n,N)},color:"secondary",style:{minWidth:"40px"}},a.createElement(h.Icon,{fontSize:"small"},"thumb_up_off_alt")),a.createElement(h.Button,{disabled:"FAILED"===o||r,onClick:function(){return d(n,F)},color:"secondary",style:{minWidth:"40px"}},a.createElement(h.Icon,{color:"error",fontSize:"small"},"thumb_down_off_alt"))):null)},flex:1}],C=a.useCallback((function(e){e.filterModel.items[0].columnField&&e.filterModel.items[0].value&&p(e.filterModel.items[0].columnField,e.filterModel.items[0].value)}),[p]);return a.createElement(m(),{loading:n,onPageSizeChange:function(e){u(e.pageSize)},onPageChange:function(e){s(e.page+1)},columnBuffer:2,pagination:!0,filterMode:"server",paginationMode:"server",sortingMode:"server",onFilterModelChange:C,page:r-1,onSortModelChange:function(e){e.sortModel[0].sort&&(y(e.sortModel[0].field),x(e.sortModel[0].sort))},sortModel:[{field:i,sort:o}],rows:t,pageSize:l,getRowId:function(e){return e.jobName},columns:S,rowCount:Number(null==c?void 0:c.totalCount)})},E=function(e){var t=e.children,n=(0,c.Z)(),r=n.showErrorMessage,o=n.showSuccessMessage,l=(0,v.useHistory)();return a.createElement(a.Fragment,null,t((function(e,t){(0,i.lg)(e,t).then((function(e){return o(e)})).catch((function(e){return r(e)})).finally((function(){return l.push("/home/inventory/import/view/"+e)}))})))},S=function(){return a.createElement(u,null,(function(e){return a.createElement(E,null,(function(t){return a.createElement(x,(0,r.Z)({handleStatusChange:t},e))}))}))};var C=n(54297),w=n(29971),I=n(99688);const O=function(){var e=(0,g.useTranslation)().t,t=a.useState(!1),n=(0,l.Z)(t,2),r=n[0],o=n[1],s=a.useState(!1),u=(0,l.Z)(s,2),d=u[0],p=u[1],m=a.useState(!1),f=(0,l.Z)(m,2),v=f[0],y=f[1],b=a.useState(null),x=(0,l.Z)(b,2),E=x[0],S=x[1],O=a.useState(""),P=(0,l.Z)(O,2),k=P[0],T=P[1],N=(0,c.Z)(),F=N.showErrorMessage,Z=N.showSuccessMessage,B=(0,w.useSelector)((function(e){return e.auth.user})).requestedPrincipalId,R=function(){return o(!1)};return a.createElement(a.Fragment,null,a.createElement(C.SeamlessButton,{size:"large",variant:"contained",color:"secondary",onClick:function(){return o(!0)}},e("importInventory")),a.createElement(h.Dialog,{fullWidth:!0,open:r,onClose:R},a.createElement(h.DialogTitle,null,e("importModalTitle")),a.createElement(h.DialogContent,null,a.createElement(h.Box,{width:"100%",display:"flex",flexDirection:"row"},a.createElement(C.SeamlessDropDown,{required:!0,id:"drop-down-file-type",onChange:function(e){return T(e.target.value)},name:"fileType",options:[{value:"",key:e("all")},{value:"MSISDN",key:e("msisdn")},{value:"SIM_NON_DSA",key:e("simNonDSA")},{value:"SIM_DSA",key:e("simDSA")}],helperText:"select the type of information you are uploading"})),a.createElement(h.Box,{mt:2},a.createElement(Nt,{handleFiles:function(e){if(e[0]){var t=e[0].name.substring(e[0].name.lastIndexOf(".")+1,e[0].name.length)||e[0].name;e[0].type||"csv"===t||"xlsx"===t||"xsl"===t?(S(e[0]),p(!1)):p(!1)}else p(!0)},onRemove:function(){S(null)},files:E?[E]:[]}),v?a.createElement(h.LinearProgress,{color:"secondary"}):null,d?a.createElement(I.Z,{severity:"error"},e("wrongFileFormtAlert")):null)),a.createElement(h.DialogActions,null,a.createElement(h.Link,{href:"/files/sample-import.csv"},"Download sample.csv"),a.createElement(C.SeamlessButton,{onClick:R,size:"large",variant:"contained"},e("close")),a.createElement(C.SeamlessButton,{disabled:v||!E,onClick:function(){y(!0),E?(0,i.A6)(B,E,"SERIALIZED",k).then((function(e){return Z(e)})).then((function(){S(null),y(!1),R()})).catch((function(e){return F(e)})).finally((function(){y(!1)})):y(!1)},size:"large",variant:"contained",color:"primary"},v?"".concat(e("uploading"),"..."):e("import")))))},P=function(e){var t=e.children,n=e.id,r=a.useState(),o=(0,l.Z)(r,2),s=o[0],u=o[1],d=a.useState(!1),p=(0,l.Z)(d,2),m=p[0],f=p[1],g=(0,c.Z)().showErrorMessage;return a.useEffect((function(){f(!0),(0,i.ip)(n).then((function(e){return u(e.data)})).catch((function(e){return g(e)})).finally((function(){return f(!1)}))}),[]),a.createElement(a.Fragment,null,t({job:s,loading:m}))},k=function(e){var t,n,r=e.loading,o=e.job,l=e.handleStatusChange,i=(0,g.useTranslation)().t;if(r)return a.createElement(C.ViewLoader,null);var c=(null==o||null===(t=o.skipReasons)||void 0===t?void 0:t.length)>0?null==o?void 0:o.skipReasons.map((function(e){return a.createElement(h.Typography,{gutterBottom:!0,variant:"caption",color:"error",key:e},e)})):null;return a.createElement(h.Box,{p:2,border:.2,borderColor:"grey.200",borderRadius:6,display:"flex",flexDirection:"column"},a.createElement(h.Box,{display:"flex",flexDirection:"row"},a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"h6"},i("fileName")),a.createElement(h.Typography,null,a.createElement(h.Link,{href:null==o?void 0:o.fileUrl,color:"secondary",target:"_blank"},null==o?void 0:o.fileName))))),a.createElement(h.Box,{display:"flex",flexDirection:"row"},a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("created")),a.createElement(h.Typography,{variant:"caption"},a.createElement(h.Chip,{style:{fontSize:12},size:"small",label:new Date(Date.parse(null==o?void 0:o.created)).toUTCString()})))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("endTime")),a.createElement(h.Typography,{variant:"caption"},a.createElement(h.Chip,{style:{fontSize:12},size:"small",label:new Date(Date.parse(null==o?void 0:o.endTime)).toUTCString()})))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("status")),a.createElement(h.Typography,{variant:"caption",color:"primary"},null==o?void 0:o.status))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("exitMessage")),a.createElement(h.Typography,{variant:"caption"},null==o?void 0:o.exitMessage)))),a.createElement(h.Box,{display:"flex",flexDirection:"row"},a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("writeCount")),a.createElement(h.Typography,{variant:"caption"},null==o?void 0:o.writeCount))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("skipCount")),a.createElement(h.Typography,{variant:"caption"},null==o?void 0:o.skipCount)))),a.createElement(h.Divider,null),a.createElement(h.Box,{display:"flex",flexDirection:"row"},a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("ownerId")),a.createElement(h.Typography,{variant:"caption"},null==o?void 0:o.owner.ownerId))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("ownerName")),a.createElement(h.Typography,{variant:"caption"},null==o?void 0:o.owner.ownerName))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("ownerType")),a.createElement(h.Typography,{variant:"caption"},null==o?void 0:o.owner.ownerType)))),(null==o||null===(n=o.skipReasons)||void 0===n?void 0:n.length)>0?a.createElement(a.Fragment,null,a.createElement(h.Divider,null),a.createElement(h.Box,{display:"flex",flexDirection:"row"},a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},i("failedDetails")),c)))):null,null!=o&&o.actionRequired?a.createElement(a.Fragment,null,a.createElement(h.Divider,null),a.createElement(h.Box,{display:"flex",flexDirection:"row",mt:2},a.createElement(C.SeamlessButton,{style:{marginRight:4},onClick:function(){return l(null==o?void 0:o.jobName,N)},variant:"contained",color:"primary",startIcon:a.createElement(h.Icon,null,"thumb_up_off_alt")},i("importJobApprove")),a.createElement(C.SeamlessButton,{onClick:function(){return l(null==o?void 0:o.jobName,F)},variant:"contained",color:"secondary",startIcon:a.createElement(h.Icon,null,"thumb_down_off_alt")},i("importJobReject")))):null)},T=function(e){var t=e.id;return a.createElement(P,{id:t},(function(e){return a.createElement(E,null,(function(t){return a.createElement(k,(0,r.Z)({handleStatusChange:t},e))}))}))};var N="APPROVE",F="REJECT",Z=n(77782),B=n.n(Z),R=n(23380),D=n.n(R);const j=function(e){var t=e.resellerIds,n=e.loading,r=e.products,o=e.page,i=(e.order,e.perPage),c=(e.orderBy,e.filter,e.totalCount),s=e.childrenCount,u=e.includeOwnInventory,d=e.onPageChange,p=e.onPageSizeChange,y=(e.onFilterChange,e.onOrderByChange,e.onOrderChange,e.pageRefreshCallback),b=(0,g.useTranslation)().t,x=a.useState([]),E=(0,l.Z)(x,2),S=E[0],C=E[1],w=a.useState({}),I=(0,l.Z)(w,2),O=I[0],P=I[1],k=[{field:"name",headerName:b("name"),flex:1},{field:"availableCount",headerName:b("availableCount"),sortable:!0,width:170,renderCell:function(e){var t,n,r,o=null!==(t=e.row)&&void 0!==t&&t.unitOfMeasureQuantity?e.row.availableCount+" x "+(null===(n=e.row)||void 0===n?void 0:n.unitOfMeasureQuantity)+" "+(null===(r=e.row)||void 0===r?void 0:r.unitOfMeasure):e.row.availableCount;return a.createElement(a.Fragment,null,o)}},{field:"totalCount",headerName:b("totalCount"),sortable:!0,width:170,renderCell:function(e){var t,n,r,o=null!==(t=e.row)&&void 0!==t&&t.unitOfMeasureQuantity?e.row.totalCount+" x "+(null===(n=e.row)||void 0===n?void 0:n.unitOfMeasureQuantity)+" "+(null===(r=e.row)||void 0===r?void 0:r.unitOfMeasure):e.row.totalCount;return a.createElement(a.Fragment,null,o)}},{field:"category",headerName:b("category"),flex:1},{field:"productSKU",headerName:b("productSKU"),flex:1},{field:"productType",headerName:b("productType"),flex:1},{field:"price",headerName:b("price"),flex:1},{field:"actions",headerName:b("actions"),filterable:!1,renderCell:function(e){return a.createElement(h.ButtonGroup,{size:"small",color:"primary",variant:"text","aria-label":"import job action buttons"},"non-serialised"===e.getValue("productType")?a.createElement(h.Button,{color:"secondary",component:v.Link,to:"/home/inventory/inventory/nonserialized/"+e.getValue("productSKU")},a.createElement(h.Icon,{fontSize:"small"},"inventory_2")):a.createElement(h.Button,{color:"secondary",component:v.Link,to:"/home/inventory/inventory/boxes/"+e.getValue("productSKU")},a.createElement(h.Icon,{fontSize:"small"},"inventory_2")),";")},flex:1}],T={Toolbar:function(){return a.createElement(f.GridToolbarContainer,null,a.createElement(f.GridColumnsToolbarButton,null),a.createElement(f.GridFilterToolbarButton,null),a.createElement(f.GridDensitySelector,null),a.createElement(D(),{productSKUs:S.map((function(e){return"".concat(e)})),childResellerIds:t,includeOwnInventory:u,countChildrenInventories:s,filter:O}))}};return a.createElement(a.Fragment,null,a.createElement(m(),{loading:n,onPageSizeChange:function(e){p(e.pageSize),y&&y()},onPageChange:function(e){d(e.page),y&&y()},components:T,onFilterModelChange:function(e){!function(e){var t,n,r=null==e||null===(t=e.filterModel)||void 0===t||null===(n=t.items)||void 0===n?void 0:n[0];if(r){var a={column:r.columnField.toUpperCase(),searchString:r.value,operation:r.operatorValue.toUpperCase()};P(a)}}(e)},columnBuffer:2,pagination:!0,checkboxSelection:!0,paginationMode:"server",page:o,rows:r.reduce((function(e,t){var n=t.variantsInventory.map((function(e){var n,r;return{imageUrl:t.imageUrl,productType:t.productType,productSKU:e.productSKU,totalCount:e.totalCount,availableCount:e.availableCount,price:"".concat(e.unitPrice.currency," ").concat(e.unitPrice.price),name:t.name,category:t.categoryPath,unitOfMeasureQuantity:(null==e||null===(n=e.unitOfMeasure)||void 0===n?void 0:n.quantity)||"",unitOfMeasure:(null==e||null===(r=e.unitOfMeasure)||void 0===r?void 0:r.unit)||""}}));return e.concat(n)}),[]),pageSize:i,getRowId:function(e){return e.productSKU},columns:k,rowCount:c,selectionModel:S,onSelectionModelChange:function(e){C(e.selectionModel)}}))},M=function(e){return a.createElement(B(),e,(function(t){return a.createElement(j,(0,r.Z)({resellerIds:e.resellerIds,childrenCount:e.childrenCount,includeOwnInventory:e.includeOwnInventory},t))}))};var z=n(59257),A=n(33611),U=(0,z.combineReducers)({inventory:A.ZP});(0,z.configureStore)({reducer:U});var V=n(90175),G=n.n(V);const _=function(e){var t=e.children,n=a.useState(!1),r=(0,l.Z)(n,2),o=r[0],s=r[1],u=(0,c.Z)(),d=u.showErrorMessage,p=u.showSuccessMessage,m=(0,v.useHistory)(),f=a.useCallback((function(e,t){if(s(!0),e.updateFields.inventoryAttributes&&e.updateFields.inventoryAttributes.length>0){var n=[];e.updateFields.inventoryAttributes.forEach((function(t,r){t.dataName&&t.dataValue&&n.push({name:t.dataName,value:t.dataValue}),n.length>0&&(e.updateFields.inventoryAttributes=n)}))}var r={inventories:[e]};(0,i.Nf)(r).then((function(e){p(e),m.push(window.location.pathname)})).catch((function(e){d(e.message||e.message),t&&t(e)})).finally((function(){s(!1)}))}),[]);return a.createElement(a.Fragment,null,t({updateInventory:f,loading:o}))};var q=n(55238),K=n(11746);const L=function(e){var t=e.productSKU,n=e.children,r=a.useState(!1),o=(0,l.Z)(r,2),s=o[0],u=o[1],d=(0,c.Z)().showSuccessMessage,p=a.useCallback((function(e){u(!0),(0,i.j4)(t,e).then((function(e){return d(e)})).finally((function(){return u(!1)}))}),[t]);return a.createElement(a.Fragment,null,n({loading:s,handleBoxCreation:p}))};var H=n(79692),W=n(12420),J=n(6277);function Y(e){return!!/[a-zA-Z]/g.test(e)}var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return t.reduce((function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return e[a]?"status"===a?"".concat(a,"#").concat(null===(n=e[a])||void 0===n?void 0:n.trim()):"".concat(r?"".concat(r.trim(),","):"").concat(a,":").concat(null===(t=e[a])||void 0===t?void 0:t.trim()):r.trim()}),"")},X=(0,H.Z)((function(e){return(0,W.Z)({root:{width:800,padding:e.spacing(4)},element:{margin:e.spacing(2)}})}));const $=function(e){var t=e.handleBoxCreation,n=e.startSerial,r=e.endSerial,o=X(),i=(0,g.useTranslation)().t,c=a.useState(null),s=(0,l.Z)(c,2),u=s[0],d=s[1],p=a.useState([{startSerial:n,endSerial:r}]),m=(0,l.Z)(p,2),f=m[0],v=m[1],y=a.useState(!1),b=(0,l.Z)(y,2),x=b[0],E=b[1];a.useEffect((function(){if(n&&r){var e=Y(n),t=Y(r);E(!0===e||!0===t)}}),[]);var S=Boolean(u),w="".concat(n,"-split-boxes"),I=function(e,t){var n=f.map((function(n,r){return r===t?{startSerial:e.startSerial,endSerial:e.endSerial}:n}));v(n)},O=function(e){e===f.length-1&&f.length>1&&v(f.filter((function(t,n){return n!==e})))};return a.createElement(a.Fragment,null,a.createElement(h.Button,{"aria-describedby":w,onClick:function(e){d(u?null:e.currentTarget)},disabled:x,style:{minWidth:"40px"},color:"secondary"},a.createElement(h.Icon,{fontSize:"small"},"call_split")),a.createElement(h.Popper,{style:{zIndex:2e3},placement:"bottom-end",modifiers:{flip:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:"window"}},id:w,open:S,anchorEl:u},a.createElement(h.Paper,{elevation:10,className:o.root},a.createElement(h.Typography,{variant:"h5",gutterBottom:!0},i("boxSplittingTitle")),a.createElement(h.Box,{display:"flex",flexDirection:"row",justifyContent:"flex-end",mt:2},a.createElement(C.SeamlessButton,{variant:"contained",color:"primary",onClick:function(){var e=BigInt(f[f.length-1].endSerial);if(e<BigInt(r)){var t={startSerial:"".concat(e+BigInt("1")),endSerial:r};v([].concat((0,K.Z)(f),[t]))}}},i("createMoreBoxes"))),a.createElement(h.Box,{mt:2},f.map((function(e,t){var o=!0;return t==f.length-1&&(o=!1),a.createElement(te,{disabled:o,deleteRange:O,updateRange:I,id:t,actualStart:n,totalSerials:r,key:e.startSerial,startSerial:e.startSerial,endSerial:e.endSerial})}))),a.createElement(h.Box,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},a.createElement(C.SeamlessButton,{className:o.element,onClick:function(){return d(null)},size:"medium",color:"secondary",variant:"contained"},i("cancel")),a.createElement(C.SeamlessButton,{className:o.element,onClick:function(){t({rangeRequests:f.map((function(e){return{startSerialNo:e.startSerial,endSerialNo:e.endSerial}}))})},size:"medium",color:"primary",variant:"contained",startIcon:a.createElement(h.Icon,null,"call_split")},i("submit"))))))};var ee=(0,H.Z)((function(e){return(0,W.Z)({elements:{margin:e.spacing(1)},error:{color:e.palette.error.main}})})),te=function(e){var t=e.startSerial,n=e.endSerial,r=e.updateRange,o=e.id,l=e.totalSerials,i=e.actualStart,c=e.deleteRange,s=e.disabled,u=ee(),d=(0,g.useTranslation)().t,p=(Number(t),Number(n),Number(l)),m=(Number(i),BigInt(t)),f=BigInt(n),v=BigInt(l),y=BigInt(i),b=f-m+BigInt("1")<0?0:f-m+BigInt("1"),x=(Number(f-m)+1)/(Number(v-y)+1)*100,E=f>v,S=x<0?0:x;return a.createElement(h.Box,{borderColor:"grey.500",borderRadius:6,border:1,mb:1,mt:1,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"center"},a.createElement(C.SeamlessInput,{label:d("startSerial"),className:u.elements,disabled:!0,value:t,type:"number"}),a.createElement(C.SeamlessInput,{label:d("endSerial"),className:u.elements,value:n,disabled:s,error:E,helperText:E?d("rangeExceedingError"):"",onChange:function(e){return r({startSerial:t,endSerial:e.target.value},o)}}),a.createElement(h.Typography,{variant:"caption",className:(0,J.default)(u.elements,b<0||b>p?u.error:null)},"".concat(b," ").concat(d("items"))),a.createElement(h.Typography,{variant:"caption",className:(0,J.default)(u.elements,x<0||x>100?u.error:null)},"".concat(S.toFixed(0),"%")),a.createElement(h.IconButton,{onClick:function(){return c(o)},color:"primary",disabled:o<1},a.createElement(h.Icon,null,"delete")))};function ne(e,t){return e instanceof Blob?e:new Blob([e],t)}function re(e,t){if(window.navigator.msSaveBlob){var n=ne(e,{type:"text/csv"});window.navigator.msSaveBlob(n,t)}else{var r=document.createElement("a");if(r.download=t,window.URL.createObjectURL){var a=ne(e,{type:"text/csv"});r.href=window.URL.createObjectURL(a)}else r.href="data:text/csv;charset=utf-8,"+encodeURIComponent(e);if(document.createEvent){var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}else r.click()}}const ae=function(e){var t=e.productSKU,n=e.childResellerIds,r=void 0===n?[]:n,o=e.fetchOwnStock,s=e.fetchChildStock,u=void 0===s||s,d=e.children,p=a.useState(!1),m=(0,l.Z)(p,2),f=m[0],g=m[1],h=(0,c.Z)().showErrorMessage,v=a.useCallback((function(e,n){g(!0),(0,i.Fw)(t,e,n,{childResellerIds:r,fetchOwnStock:o,fetchChildStock:u,filters:[],stateNames:[]}).then((function(e){return re(e,"inventory-"+t+"-export.csv")})).catch((function(e){return h(e)})).finally((function(){return g(!1)}))}),[t,r,o,u]);return a.createElement(a.Fragment,null,d({exportCsvBoxes:v,loading:f}))},oe=function(e){var t,n=e.children,r=e.productSKU,o=e.childResellerIds,s=e.fetchChildStock,u=void 0===s||s,d=e.fetchOwnStock,p=e.load,m=a.useState(!1),f=(0,l.Z)(m,2),g=f[0],h=f[1],v=a.useState({}),y=(0,l.Z)(v,2),b=y[0],x=y[1],E=a.useState([]),S=(0,l.Z)(E,2),C=S[0],w=S[1],I=a.useState([]),O=(0,l.Z)(I,2),P=O[0],k=O[1],T=a.useState(1),N=(0,l.Z)(T,2),F=N[0],Z=N[1],B=a.useState(20),R=(0,l.Z)(B,2),D=R[0],j=R[1],M=a.useState("importDate"),z=(0,l.Z)(M,2),A=z[0],U=z[1],V=a.useState("desc"),G=(0,l.Z)(V,2),_=G[0],q=G[1],K=(0,c.Z)().showErrorMessage,L=null===(t=window.config.inventory.fetchChildStockForBoxes)||void 0===t||t,H=a.useCallback((function(e){var t=e.filterModel.items[0].value,n=e.filterModel.items[0].columnField;"location"===n&&(n="locationId");var r=e.filterModel.items[0].operatorValue,a=[];a.push({key:n,operation:r,value:t}),k(a),Z(1)}),[]),W=a.useCallback((function(e){var t=e.sortModel[0].field,n=e.sortModel[0].sort;U(t),q(n)}),[]),J=a.useCallback((function(e){Z(e)}),[]),Y=a.useCallback((function(e){j(e)}),[]),Q=a.useCallback((function(){h(!0),(0,i.z2)(r).then((function(e){return x(e.data)}))}),[r]),X=a.useCallback((function(){var e;h(!0);var t={childResellerIds:o,filters:null!==(e=P[0])&&void 0!==e&&e.value?P:[],fetchChildStock:L,fetchOwnStock:d,stateNames:[]},n={orderBy:A,order:_};(0,i.ow)(r,t,n).then((function(e){return w(e.data)})).catch((function(e){return K(e)})).finally((function(){return h(!1)}))}),[r,u,d,p,P,_,A]);return a.useEffect((function(){Q(),X()}),[X]),a.createElement(a.Fragment,null,n({loading:g,boxes:C,productSKU:r,inventoryCount:b,page:F,perPage:D,onSort:W,onFilterChange:H,setParentPage:J,setParentPerPage:Y}))};var le=n(90929),ie=n(59456),ce=n(8526),se=n(77114);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=(0,H.Z)((function(e){return(0,W.Z)({root:{display:"inline-flex",flexDirection:"row",alignItems:"center",marginTop:e.spacing(1)},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginTop:e.spacing(2),marginRight:e.spacing(2)},btnManualAdjustmentCloseButton:{marginRight:e.spacing(2)},element:{textAlign:"left",marginTop:e.spacing(2),marginRight:e.spacing(2)},fontHeavy:{fontWeight:e.typography.fontWeightBold},stats:{marginRight:e.spacing(2),marginBottom:e.spacing(2)}})}));function me(e){var t=pe(),n=e.item,r=e.applyValue;return a.createElement("div",{className:t.root},a.createElement(h.TextField,{className:t.root,name:n.field,value:n.value,onChange:function(e){r(de(de({},n),{},{value:e.target.value}))}}))}const fe=function(e){var t,n,r,o,s,u,d,p,y,b,x,E,S,w,I,O,P,k,T,N=e.loading,F=e.boxes,Z=e.productSKU,B=e.handleBoxCreation,R=e.exportCsvBoxes,D=(e.inventoryCount,e.onFilterChange),j=e.page,M=e.perPage,z=e.onSort,A=e.setParentPage,U=e.setParentPerPage,V=a.useState(),G=(0,l.Z)(V,2),_=G[0],q=G[1],K=a.useState(!1),L=(0,l.Z)(K,2),H=L[0],W=L[1],J=a.useState([]),Y=(0,l.Z)(J,2),Q=Y[0],X=Y[1],ee=(0,v.useHistory)(),te=(0,c.Z)(),ne=te.showSuccessMessage,re=te.showErrorMessage,ae=(0,g.useTranslation)().t,oe=(0,v.useParams)().id,ue=j>=1?j-1:1,fe=null===(t=window.config.inventory.callV2BoxesListingAPI)||void 0===t||t,ge={searchFields:{ownerId:"",productSKU:oe,quantity:0,serials:[],range:{inventory_From:0,inventory_To:0}},updateFields:{location:"",ownerId:"",status:"",updateReason:""}},he=ce.Ry().shape({updateFields:ce.Ry().shape({status:ce.Z_().required(),updateReason:ce.Z_().required()}),searchFields:ce.Ry().shape({range:ce.Ry().shape({inventory_From:ce.Rx().required().min(null==_?void 0:_.startSerial).max(null==_?void 0:_.endSerial),inventory_To:ce.Rx().required().max(null==_?void 0:_.endSerial).min(null==_?void 0:_.startSerial)})})}),ve=a.useCallback((function(e,t){var n={inventories:[e]};(0,i.Nf)(n).then((function(e){ne(e),ee.goBack()})).catch((function(e){return re(e.message||e.message)})).finally((function(){W(!1),we(t)}))}),[]),ye=(0,se.TA)({initialValues:ge,onSubmit:function(e,t){e.searchFields.ownerId=_.owner.ownerId,e.updateFields.ownerId=_.owner.ownerId,e.updateFields.location=_.locationId,e.searchFields.serials=_.serial;var n=e.searchFields.range||{inventory_From:0,inventory_To:0};delete e.searchFields.quantity,delete e.searchFields.range,ve({searchFields:de(de({},e.searchFields),{},{ranges:[n]}),updateFields:de({},e.updateFields)},t)},validationSchema:he,enableReinitialize:!1,validateOnBlur:!1,validateOnChange:!1}),be=[{label:"Equal",value:"equals",getApplyFilterFn:function(e){return e.columnField&&e.value&&e.operatorValue?function(t){return"object"===(0,le.Z)(t.value)?Object.values(t.value).includes(e.value):t.value==e.value}:null},InputComponent:me}],xe=ye.values,Ee=ye.errors,Se=ye.handleChange,Ce=ye.handleSubmit,we=ye.handleReset,Ie=ye.setFieldValue,Oe=function(){W(!1)},Pe=pe();if(a.useEffect((function(){(0,i.r1)().then((function(e){return X(e.states),e.states})).catch((function(e){return re(e)})).finally()}),[]),!Q.length)return null;var ke=Q.map((function(e){return{key:e.name,value:e.code}}));ke.unshift({key:"Select Status",value:"Select Status"});var Te=[{field:"boxId",headerName:ae("boxId"),sortable:!0,width:120,filterOperators:be},{field:"parentBoxId",headerName:ae("parentBoxId"),sortable:!0,width:120,filterOperators:be},{field:"type",headerName:ae("type"),sortable:!0,width:150,filterable:!1},{field:"quantity",headerName:ae("quantity"),sortable:!0,width:100,filterOperators:be},{field:"startSerial",headerName:ae("startSerial"),sortable:!0,width:300,filterOperators:be},{field:"endSerial",headerName:ae("endSerial"),sortable:!0,width:300,filterOperators:be},{field:"importId",headerName:ae("importId"),sortable:!0,width:320,filterOperators:be},{field:"importDate",headerName:ae("importDate"),sortable:!0,width:150,filterOperators:be},{field:"ownerId",headerName:ae("ownerId"),sortable:!0,width:120,filterOperators:be,renderCell:function(e){var t;return(null===(t=e.row.owner)||void 0===t?void 0:t.ownerId)||"-"}},{field:"location",headerName:ae("locationId"),sortable:!0,width:120,filterOperators:be,valueGetter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.locationId}},{field:"actions",headerName:ae("actions"),sortable:!1,align:"left",filterable:!1,width:120,renderCell:function(e){return Number(e.getValue("startSerial")),Number(e.getValue("endSerial")),a.createElement(h.ButtonGroup,{size:"small",color:"primary",variant:"text","aria-label":"import job action buttons"},"SERIALIZED"===e.getValue("type")?a.createElement(h.Button,{color:"secondary",style:{minWidth:"40px"},component:v.Link,to:"/home/inventory/inventory/boxes/".concat(Z,"/items/")+e.getValue("boxId")},a.createElement(h.Icon,{fontSize:"small"},"inventory_2")):null,"TRACKABLE_NONSERIALIZED"===e.getValue("type")?a.createElement(h.Button,{style:{minWidth:"30px"},onClick:function(t){return n=e.row,q(n),void W(!0);var n}},a.createElement(ie.AddShoppingCart,{fontSize:"small"})):null,a.createElement($,{startSerial:e.getValue("startSerial"),endSerial:e.getValue("endSerial"),handleBoxCreation:B}))}}],Ne={Toolbar:function(){return a.createElement(f.GridToolbarContainer,null,a.createElement(f.GridColumnsToolbarButton,null),a.createElement(f.GridFilterToolbarButton,null),a.createElement(f.GridDensitySelector,null),a.createElement(h.Button,{onClick:function(){return R("asc","startSerial")},color:"primary",startIcon:a.createElement(h.Icon,null,"download")},ae("export","Export")))}};return a.createElement(a.Fragment,null,a.createElement("div",{style:{height:600,width:"100%"}},fe?a.createElement(m(),{components:Ne,loading:N,rows:F,columnBuffer:2,getRowId:function(e){return e.boxId},columns:Te,onFilterModelChange:D,onSortModelChange:z,filterMode:"server",sortingMode:"server",pagination:!0,onPageChange:function(e){A(e.page+1)},onPageSizeChange:function(e){A(1),U(e.pageSize)},page:ue,pageSize:M}):a.createElement(m(),{components:Ne,loading:N,rows:F,columnBuffer:2,getRowId:function(e){return e.boxId},columns:Te,pagination:!0,onPageChange:function(e){A(e.page+1)},onPageSizeChange:function(e){A(1),U(e.pageSize)},page:ue,pageSize:M})),a.createElement(C.SeamlessDialog,{open:H,onClose:Oe,className:Pe.dialogWrapper,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement("div",{className:Pe.modalContentSpacing},a.createElement(h.Typography,{gutterBottom:!0,id:"transition-modal-title",variant:"h4",className:Pe.fontHeavy},ae("nonSerialisedManualPopupTitle")," ",null==_?void 0:_.startSerial,"-",null==_?void 0:_.endSerial),a.createElement(C.SeamlessDropDown,{id:"product-status-drop-down",fullWidth:!0,required:!0,label:ae("productStatusName"),error:!(null===(n=Ee.updateFields)||void 0===n||!n.status),helperText:null!==(r=Ee.updateFields)&&void 0!==r&&r.status?ae("productStatusError"):ae("selectProductStatus"),options:ke,name:"updateFields.status",onChange:Se,value:null===(o=xe.updateFields)||void 0===o?void 0:o.status}),a.createElement(C.SeamlessInput,{className:Pe.element,fullWidth:!0,required:!0,name:"searchFields.range.inventory_From",label:ae("rangeFromTitle"),value:null===(s=xe.searchFields)||void 0===s||null===(u=s.range)||void 0===u?void 0:u.inventory_From,onChange:function(e){Ie("searchFields.range.inventory_From",e.target.value,!1)},error:!(null===(d=Ee.searchFields)||void 0===d||null===(p=d.range)||void 0===p||!p.inventory_From),helperText:null!==(y=Ee.searchFields)&&void 0!==y&&null!==(b=y.range)&&void 0!==b&&b.inventory_From?ae("rangeFromError"):ae("rangeFromHelperText")}),a.createElement(C.SeamlessInput,{className:Pe.element,fullWidth:!0,required:!0,name:"searchFields.range.inventory_To",label:ae("rangeToTitle"),value:null===(x=xe.searchFields)||void 0===x||null===(E=x.range)||void 0===E?void 0:E.inventory_To,onChange:function(e){Ie("searchFields.range.inventory_To",e.target.value,!1)},error:!(null===(S=Ee.searchFields)||void 0===S||null===(w=S.range)||void 0===w||!w.inventory_To),helperText:null!==(I=Ee.searchFields)&&void 0!==I&&null!==(O=I.range)&&void 0!==O&&O.inventory_To?ae("rangeToError"):ae("rangeToHelperText")}),a.createElement(C.SeamlessInput,{className:Pe.element,fullWidth:!0,required:!0,name:"updateFields.updateReason",label:ae("updateReason"),value:null===(P=xe.updateFields)||void 0===P?void 0:P.updateReason,onChange:function(e){return Ie("updateFields.updateReason",e.target.value,!1)},error:!(null===(k=Ee.updateFields)||void 0===k||!k.updateReason),helperText:null!==(T=Ee.updateFields)&&void 0!==T&&T.updateReason?ae("updateReasonError"):ae("updateReasonHelperText")})),a.createElement(C.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:Pe.btnManualAdjustmentCloseButton,onClick:Oe},ae("closeButton")),a.createElement(C.SeamlessButton,{id:"seamless-inventory-form",variant:"contained",color:"primary",onClick:function(e){Ce()}},ae("submitButton")))))},ge=function(e){return a.createElement(L,{productSKU:e.productSKU},(function(t){var n=t.loading,o=t.handleBoxCreation;return a.createElement(ae,{productId:e.productSKU,productSKU:e.productSKU,fetchOwnStock:!0},(function(t){var l=t.exportCsvBoxes;return a.createElement(oe,(0,r.Z)({load:n},e),(function(e){var t=e.loading,n=e.boxes,i=e.productSKU,c=e.inventoryCount,s=(0,q.Z)(e,["loading","boxes","productSKU","inventoryCount"]);return a.createElement(fe,(0,r.Z)({exportCsvBoxes:l,handleBoxCreation:o,loading:t,boxes:n,productSKU:i,inventoryCount:c},s))}))}))}))};var he=n(98069);const ve=function(e){var t=e.loading,n=e.box,r=(0,g.useTranslation)().t;return t?a.createElement(he.Z,{height:60}):a.createElement(h.Box,{p:2,border:.2,borderColor:"grey.200",borderRadius:6,display:"flex",flexDirection:"column"},a.createElement(h.Box,{display:"flex",flexDirection:"row"},a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"h6"},r("boxId")),a.createElement(h.Typography,null,null==n?void 0:n.boxId))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"h6"},r("quantity")),a.createElement(h.Typography,null,null==n?void 0:n.quantity)))),a.createElement(h.Box,{display:"flex",flexDirection:"row"},a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},r("importId")),a.createElement(h.Typography,{variant:"caption"},null==n?void 0:n.importId))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},r("importDate")),a.createElement(h.Typography,{variant:"caption"},null==n?void 0:n.importDate))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},r("startSerial")),a.createElement(h.Typography,{variant:"caption",color:"primary"},null==n?void 0:n.startSerial))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},r("endSerial")),a.createElement(h.Typography,{variant:"caption",color:"primary"},null==n?void 0:n.endSerial))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},r("ownerName")),a.createElement(h.Typography,{variant:"caption"},null==n?void 0:n.owner.ownerName))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},r("ownerId")),a.createElement(h.Typography,{variant:"caption"},null==n?void 0:n.owner.ownerId))),a.createElement(h.Card,{elevation:0},a.createElement(h.CardContent,null,a.createElement(h.Typography,{variant:"body1"},r("locationId")),a.createElement(h.Typography,{variant:"caption"},null==n?void 0:n.locationId)))),a.createElement(h.Box,{display:"flex",flexDirection:"row"}))};var ye=n(76635),be=n.n(ye);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se="";const Ce=function(e){var t=e.children,n=e.load,r=e.productSKU,o=e.fetchOwnStock,s=e.childResellerIds,u=a.useState(!1),p=(0,l.Z)(u,2),m=p[0],f=p[1],g=a.useState([]),h=(0,l.Z)(g,2),v=h[0],y=h[1],b=a.useState({}),x=(0,l.Z)(b,2),E=x[0],S=x[1],C=a.useState(1),w=(0,l.Z)(C,2),I=w[0],O=w[1],P=a.useState(20),k=(0,l.Z)(P,2),T=k[0],N=k[1],F=a.useState(0),Z=(0,l.Z)(F,2),B=Z[0],R=Z[1],D=a.useState("desc"),j=(0,l.Z)(D,2),M=j[0],z=j[1],A=a.useState("locationId"),U=(0,l.Z)(A,2),V=U[0],G=U[1],_=a.useState({}),q=(0,l.Z)(_,2),K=q[0],L=q[1],H=(0,c.Z)().showErrorMessage,W=a.useCallback((function(e){var t=e.sortModel[0].field,n=e.sortModel[0].sort;G(t),z(n)}),[]),J=Q(K),Y=a.useCallback((function(e){var t=e.filterModel.items[0].value,n=e.filterModel.items[0].columnField;t&&(L(Ee(Ee({},K),{},(0,d.Z)({},n,t))),O(1))}),[]),X={orderBy:"".concat(V),order:"".concat(null==M?void 0:M.toLowerCase()),page:J===Se?I:1,perPage:T},$=a.useCallback((function(e){O(e)}),[]),ee=a.useCallback((function(e){N(e)}),[]),te=a.useCallback((function(){f(!0),(0,i.z2)(r).then((function(e){return S(e.data)})).finally((function(){return f(!1)}))}),[r]),ne=a.useCallback((function(){f(!0);var e={batchIds:[],childResellerIds:s,employeeIds:null!=K&&K.employee?[null==K?void 0:K.employee]:[],endSerial:"",fetchChildStock:!0,fetchOwnStock:o,inventoryAttributes:[],ownerId:null!=K&&K.ownerId?null==K?void 0:K.ownerId:"",productSKUs:[r],productType:[],secondarySerials:[],serials:[],startSerial:"",states:null!=K&&K.state?[null==K?void 0:K.state]:[]};(0,i.e5)(e,X).then((function(e){var t;if(y(e.data),R(null==e||null===(t=e.metaData)||void 0===t?void 0:t.totalCount),!be().isEmpty(K))for(var n in K)Se=K[n]?J:""})).catch((function(e){return H(e)})).finally((function(){return f(!1)}))}),[n,r,I,T,K,M,V]);return a.useEffect((function(){ne(),te()}),[ne]),a.createElement(a.Fragment,null,t({page:I,perPage:T,loading:m,items:v,productSKU:r,inventoryCount:E,setParentPage:$,filter:K,setParentPerPage:ee,onSort:W,onFilterChange:Y,totalCount:B}))};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=(0,H.Z)((function(e){return(0,W.Z)({dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginTop:e.spacing(2),marginRight:e.spacing(2)},btnManualAdjustmentCloseButton:{marginRight:e.spacing(2)},element:{textAlign:"left",marginTop:e.spacing(2),marginRight:e.spacing(2)},fontHeavy:{fontWeight:e.typography.fontWeightBold,marginBottom:e.spacing(2)},stats:{marginRight:e.spacing(2),marginBottom:e.spacing(2)},root:{display:"inline-flex",flexDirection:"row",alignItems:"center",marginTop:e.spacing(1)},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));function Pe(e){var t=Oe(),n=e.item,r=e.applyValue;return a.createElement("div",{className:t.root},a.createElement(h.TextField,{className:t.root,name:n.field,value:n.value,onChange:function(e){r(Ie(Ie({},n),{},{value:e.target.value}))}}))}const ke=function(e){var t,n,r,o,s,u,d,p,f,y,b=e.items,x=(e.productSKU,e.inventoryCount,e.page),E=e.perPage,S=e.setParentPage,w=e.onFilterChange,I=e.setParentPerPage,O=e.onSort,P=e.totalCount,k=(0,g.useTranslation)().t,T=a.useState(""),N=(0,l.Z)(T,2),F=N[0],Z=N[1],B=a.useState(!1),R=(0,l.Z)(B,2),D=R[0],j=R[1],M=a.useState(!1),z=(0,l.Z)(M,2),A=z[0],U=z[1],V=a.useState(!1),G=(0,l.Z)(V,2),_=G[0],q=G[1],K=a.useState([]),L=(0,l.Z)(K,2),H=L[0],W=L[1],J=a.useState(),Y=(0,l.Z)(J,2),Q=Y[0],X=Y[1],$=(0,v.useHistory)(),ee=x>=1?x-1:1,te=(0,c.Z)(),ne=te.showSuccessMessage,re=te.showErrorMessage,ae={searchFields:{ownerId:"",productSKU:"",quantity:0,serials:[],oldStatus:"",range:{inventory_From:0,inventory_To:0}},updateFields:{location:"",ownerId:"",status:"",quantity:0,updateReason:""}},oe=[{label:"Equal",value:"equal",getApplyFilterFn:function(e){return e.columnField&&e.value&&e.operatorValue?function(t){return t.value==e.value}:null},InputComponent:Pe}],le=ce.Ry().shape({updateFields:ce.Ry().shape({status:ce.Z_().required(),quantity:ce.Rx().required(),updateReason:ce.Z_().required()})}),ue=a.useCallback((function(e){q(!0);var t={inventories:[e]};(0,i.Nf)(t).then((function(e){ne(e),$.goBack()})).catch((function(e){return re(e.message||e.message)})).finally((function(){q(!1),U(!1)}))}),[]),de=(0,se.TA)({initialValues:ae,onSubmit:function(e){e.searchFields.ownerId=Q.owner.ownerId,e.searchFields.quantity=Q.quantity,e.updateFields.ownerId=Q.owner.ownerId,e.updateFields.location=Q.locationId,e.searchFields.serials=Q.serial,e.searchFields.productSKU=Q.productSKU,e.searchFields.oldStatus=Q.state,ue({searchFields:Ie({},e.searchFields),updateFields:Ie({},e.updateFields)})},validationSchema:le,enableReinitialize:!1}),pe=de.values,me=de.errors,fe=de.handleChange,ge=de.handleSubmit,he=de.setFieldValue,ve=function(){j(!1)},ye=function(){U(!1),he("updateFields",ae,!1)},be=Oe();if(a.useEffect((function(){q(!0),(0,i.r1)().then((function(e){return W(e.states),e.states})).catch((function(e){return re(e)})).finally((function(){return q(!1)}))}),[]),!H.length)return null;var xe=H.map((function(e){return{key:e.name,value:e.code}}));xe.unshift({key:"Select Status",value:"Select Status"});var Ee=[{field:"quantity",headerName:k("quantity"),sortable:!0,flex:1,filterable:!1,valueGetter:function(e){return e.row.quantity||"-"}},{field:"unitOfMeasure",headerName:k("unitOfMeasure"),sortable:!0,flex:1,filterable:!1,valueGetter:function(e){var t,n;return(null===(t=e.row.unitOfMeasure)||void 0===t?void 0:t.quantity)+" "+(null===(n=e.row.unitOfMeasure)||void 0===n?void 0:n.unit)||"-"}},{field:"state",headerName:k("status"),sortable:!0,filterOperators:oe,flex:1,valueGetter:function(e){return e.row.state||"-"}},{field:"ownerId",headerName:k("ownerId"),sortable:!0,filterOperators:oe,flex:1,valueGetter:function(e){var t;return(null===(t=e.row.owner)||void 0===t?void 0:t.ownerId)||"-"}},{field:"locationId",headerName:k("locationId"),sortable:!0,filterable:!1,flex:1},{field:"employeeId",headerName:k("employeeId"),sortable:!0,filterOperators:oe,flex:1,valueGetter:function(e){var t;return(null===(t=e.row.employee)||void 0===t?void 0:t.employeeId)||"-"}},{field:"action",headerName:k("action"),sortable:!1,filterable:!1,flex:1,renderCell:function(e){return a.createElement(h.ButtonGroup,null,0!=e.row.data.slice(1,-1).length?a.createElement(h.Button,{onClick:function(t){return n=e.row.data,Z(JSON.parse(n)),void j(!0);var n}},a.createElement(ie.Visibility,{fontSize:"small"})):a.createElement(h.Button,{disabled:!0},a.createElement(ie.Visibility,{fontSize:"small"})),a.createElement(h.Button,{onClick:function(t){return n=e.row,X(n),void U(!0);var n}},a.createElement(ie.AddShoppingCart,{fontSize:"small"})))}}];return a.createElement(a.Fragment,null,a.createElement("div",{style:{height:600,width:"100%"}},a.createElement(m(),{loading:_,rows:b,columnBuffer:2,getRowId:function(e){return e.inventoryId},columns:Ee,page:ee,pageSize:E,onPageChange:function(e){S(e.page+1)},onPageSizeChange:function(e){I(e.pageSize),S(1)},rowCount:P,pagination:!0,paginationMode:"server",filterMode:"server",sortingMode:"server",onFilterModelChange:w,onSortModelChange:O})),a.createElement(C.SeamlessDialog,{open:D,onClose:ve,className:be.dialogWrapper,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement(h.Typography,{variant:"h6",className:be.fontHeavy},k("nonSerializedDataModalHeader")),a.createElement(h.Grid,{container:!0,spacing:2},a.createElement(h.Grid,{item:!0,xs:12,sm:12},a.createElement(h.Grid,{container:!0,className:be.rowSpacing,spacing:2},Object.keys(F).map((function(e,t){var n;return a.createElement(a.Fragment,{key:t},a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:be.fieldHeading},e)),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:be.fieldValue},"NA"===F[e]||0===(null===(n=F[e])||void 0===n?void 0:n.length)?"-":F[e])))}))))),a.createElement(C.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:be.btnSpace,onClick:ve},k("closeButton")))),a.createElement(C.SeamlessDialog,{open:A,onClose:ye,className:be.dialogWrapper,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement("div",{className:be.modalContentSpacing},a.createElement(h.Typography,{gutterBottom:!0,id:"transition-modal-title",variant:"h4",className:be.fontHeavy},k("nonSerialisedManualPopupTitle")," ",null==Q?void 0:Q.quantity," ",null==Q||null===(t=Q.unitOfMeasure)||void 0===t?void 0:t.unit),a.createElement(C.SeamlessDropDown,{id:"product-status-drop-down",fullWidth:!0,required:!0,label:k("productStatusName"),error:!(null===(n=me.updateFields)||void 0===n||!n.status),helperText:null!==(r=me.updateFields)&&void 0!==r&&r.status?k("productStatusError"):k("selectProductStatus"),options:xe,name:"updateFields.status",onChange:fe,value:(null===(o=pe.updateFields)||void 0===o?void 0:o.status)||""}),a.createElement(C.SeamlessInput,{className:be.element,fullWidth:!0,required:!0,name:"updateFields.quantity",label:k("quantity"),value:(null===(s=pe.updateFields)||void 0===s?void 0:s.quantity)||"",onChange:function(e){e.target.value<=(null==Q?void 0:Q.quantity)&&he("updateFields.quantity",e.target.value,!1)},error:!(null===(u=me.updateFields)||void 0===u||!u.quantity),helperText:null!==(d=me.updateFields)&&void 0!==d&&d.quantity?k("quantityError"):k("quantityHelperText")}),a.createElement(C.SeamlessInput,{className:be.element,fullWidth:!0,required:!0,name:"updateFields.updateReason",label:k("updateReason"),value:(null===(p=pe.updateFields)||void 0===p?void 0:p.updateReason)||"",onChange:function(e){return he("updateFields.updateReason",e.target.value,!1)},error:!(null===(f=me.updateFields)||void 0===f||!f.updateReason),helperText:null!==(y=me.updateFields)&&void 0!==y&&y.updateReason?k("updateReasonError"):k("updateReasonHelperText")})),a.createElement(C.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:be.btnManualAdjustmentCloseButton,onClick:ye},k("closeButton")),a.createElement(C.SeamlessButton,{id:"seamless-inventory-form",variant:"contained",color:"primary",onClick:function(e){ge()}},k("submitButton")))))},Te=function(e){return a.createElement(Ce,(0,r.Z)({load:!0},e),(function(e){var t=e.loading,n=e.items,o=e.productSKU,l=e.inventoryCount,i=(0,q.Z)(e,["loading","items","productSKU","inventoryCount"]);return a.createElement(ke,(0,r.Z)({loading:t,items:n,productSKU:o,inventoryCount:l},i))}))};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=(0,H.Z)((function(e){return(0,W.Z)({positive:{backgroundColor:e.palette.success.light},root:{paddingLeft:12,marginTop:8}})}));function Be(e){var t=Ze(),n=e.item,r=e.applyValue;return a.createElement("div",{className:t.root},a.createElement(h.TextField,{className:t.root,name:n.field,value:n.value,onChange:function(e){r(Fe(Fe({},n),{},{value:e.target.value}))}}))}const Re=function(e){var t=e.loading,n=e.items,r=e.totalCount,o=e.onSelectionModelChange,l=e.page,i=e.pageSize,c=e.setParentPage,s=e.setParentPageSize,u=e.onFilterChange,d=(0,g.useTranslation)().t,p=[{label:"Equal",value:"contain",getApplyFilterFn:function(e){return e.columnField&&e.value&&e.operatorValue?function(t){var n,r;return(null===(n=t.value)||void 0===n?void 0:n.toUpperCase())==(null===(r=e.value)||void 0===r?void 0:r.toUpperCase())}:null},InputComponent:Be}],f=Ze(),h=l>=1?l-1:1,v=[{field:"serial",headerName:d("serial"),sortable:!0,width:120,filterOperators:p},{field:"data",headerName:d("MSISDN"),sortable:!0,width:120,valueGetter:function(e){return JSON.parse(JSON.stringify(e.value)).msisdn?JSON.parse(JSON.stringify(e.value)).msisdn:"-"}},{field:"state",headerName:d("state"),sortable:!0,width:120,filterOperators:p,cellClassName:function(e){return(0,J.default)("Available"===e.value?f.positive:null)}},{field:"productSku",headerName:d("productSku"),sortable:!0,width:140},{field:"refNo",headerName:d("refNo"),sortable:!0,width:300,filterOperators:p,renderCell:function(e){return a.createElement(a.Fragment,null,e.getValue("refNo")?e.getValue("refNo"):d("emptyValueMark"))}},{field:"createdAt",headerName:d("createdAt"),sortable:!0,width:130,filterOperators:p,valueGetter:function(e){return e.value.slice(0,10)}},{field:"updatedAt",headerName:d("updatedAt"),sortable:!0,width:130,filterOperators:p,valueGetter:function(e){return e.value.slice(0,10)}}];return a.createElement(m(),{loading:t,onPageChange:function(e){c(e.page+1)},onPageSizeChange:function(e){s(e.pageSize)},pagination:!0,paginationMode:"server",filterMode:"server",page:h,pageSize:i,rows:n,rowCount:r,columnBuffer:2,getRowId:function(e){return e.serial},columns:v,checkboxSelection:!0,onFilterModelChange:u,onSelectionModelChange:function(e){return o&&o(e,n)}})};function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=null;const ze=function(e){var t=e.children,n=e.boxId,r=a.useState(!1),o=(0,l.Z)(r,2),s=o[0],u=o[1],p=a.useState([]),m=(0,l.Z)(p,2),f=m[0],g=m[1],h=a.useState(),v=(0,l.Z)(h,2),y=v[0],b=v[1],x=a.useState(1),E=(0,l.Z)(x,2),S=E[0],C=E[1],w=a.useState(20),I=(0,l.Z)(w,2),O=I[0],P=I[1],k=a.useState(0),T=(0,l.Z)(k,2),N=T[0],F=T[1],Z=a.useState({}),B=(0,l.Z)(Z,2),R=B[0],D=B[1],j=(0,c.Z)().showErrorMessage,M=Q(R),z={page:S,pageSize:O,filter:M},A=a.useCallback((function(e){var t=e.filterModel.items[0].value,n=e.filterModel.items[0].columnField;Me&&clearTimeout(Me),Me=setTimeout((function(){D(je(je({},R),{},(0,d.Z)({},n,t))),C(1)}),800)}),[]),U=a.useCallback((function(e){C(e)}),[]),V=a.useCallback((function(e){P(e)}),[]),G=a.useCallback((function(){u(!0),(0,i.FQ)(n,z).then((function(e){var t;b(e.boxDetail),g(e.items),F(null===(t=e.metaData)||void 0===t?void 0:t.totalCount)})).catch((function(e){return j(e)})).finally((function(){return u(!1)}))}),[n,S,O,R]);return a.useEffect((function(){G()}),[G]),a.createElement(a.Fragment,null,t({loading:s,items:f,box:y,totalCount:N,page:S,pageSize:O,setParentPage:U,setParentPageSize:V,onFilterChange:A}))},Ae=function(e){var t=e.id,n=a.useState(!1),r=(0,l.Z)(n,2),o=(r[0],r[1]),s=(0,c.Z)().showErrorMessage;return a.createElement(Bt,{data:{stateNames:[],filters:[]},onSubmit:function(e){o(!0),(0,i.zp)(t,"asc","State",e).then((function(e){return re(e,"".concat(t,"-export.csv"))})).catch((function(e){s((null==e?void 0:e.message)||"Unable to export")})).finally((function(){return o(!1)}))}})};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge="";const _e=function(e){var t=e.children,n=a.useState(!1),r=(0,l.Z)(n,2),o=r[0],s=r[1],u=a.useState(1),p=(0,l.Z)(u,2),m=p[0],f=p[1],g=a.useState(20),h=(0,l.Z)(g,2),v=h[0],y=h[1],b=a.useState(0),x=(0,l.Z)(b,2),E=x[0],S=x[1],C=a.useState("desc"),w=(0,l.Z)(C,2),I=w[0],O=w[1],P=a.useState({}),k=(0,l.Z)(P,2),T=k[0],N=k[1],F=a.useState([]),Z=(0,l.Z)(F,2),B=Z[0],R=(Z[1],a.useState("locationId")),D=(0,l.Z)(R,2),j=D[0],M=D[1],z=a.useState([]),A=(0,l.Z)(z,2),U=A[0],V=A[1],G=(0,c.Z)().showErrorMessage,_=a.useCallback((function(e){var t=e.sortModel[0].field,n=e.sortModel[0].sort;M(t),O(n)}),[]),q=Q(T),K={orderBy:"".concat(j),order:"".concat(null==I?void 0:I.toLowerCase()),page:q===Ge?m:1,perPage:v},L=a.useCallback((function(e){var t=e.filterModel.items[0].value,n=e.filterModel.items[0].columnField;N(Ve(Ve({},T),{},(0,d.Z)({},n,t))),f(1)}),[]),H=a.useCallback((function(e){f(e)}),[]),W=a.useCallback((function(e){y(e)}),[]),J={batchIds:null!=T&&T.boxId?[null==T?void 0:T.boxId]:[],childResellerIds:[],employeeIds:null!=T&&T.employee?[null==T?void 0:T.employee]:[],endSerial:"",fetchChildStock:!1,inventoryAttributes:B,ownerId:null!=T&&T.owner?null==T?void 0:T.owner:"",productSKUs:null!=T&&T.productSKU?[null==T?void 0:T.productSKU]:[],productType:["serialized"],secondarySerials:[],serials:null!=T&&T.serialNumber?[null==T?void 0:T.serialNumber]:[],startSerial:"",states:[]};return a.useEffect((function(){s(!0),(0,i.AE)(J,K).then((function(e){var t;if(S(null==e||null===(t=e.metaData)||void 0===t?void 0:t.totalCount),!be().isEmpty(T))for(var n in T)Ge=T[n]?q:"";return e})).then((function(e){return V(null==e?void 0:e.data)})).catch((function(e){return G(e)})).finally((function(){return s(!1)}))}),[I,m,v,B,j,T]),a.createElement(a.Fragment,null,t({detailedInventory:U,loading:o,orderBy:j,totalCount:E,page:m,perPage:v,order:I,filter:T,onSort:_,setParentPage:H,onFilterChange:L,setParentPerPage:W}))};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=(0,H.Z)((function(e){return(0,W.Z)({fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},root:{display:"inline-flex",flexDirection:"row",alignItems:"center",marginTop:e.spacing(1)},btnSpace:{marginRight:e.spacing(2)}})}));function He(e){var t=Le(),n=e.item,r=e.applyValue;return a.createElement("div",{className:t.root},a.createElement(h.TextField,{className:t.root,name:n.field,value:n.value,onChange:function(e){r(Ke(Ke({},n),{},{value:e.target.value}))}}))}const We=function(e){var t=e.detailedInventory,n=e.loading,r=e.page,o=e.perPage,l=(e.order,e.totalCount),i=e.onSort,c=e.setParentPage,s=e.onFilterChange,u=e.setParentPerPage,d=((0,q.Z)(e,["detailedInventory","loading","page","perPage","order","totalCount","onSort","setParentPage","onFilterChange","setParentPerPage"]),(0,g.useTranslation)().t),p=(Le(),r>=1?r-1:1),f=(a.useMemo((function(){return t.map((function(e){var t=e.inventoryId,n=e.serialNumber,r=e.productSKU,a=e.state,o=e.boxId,l=(e.owner,e.locationId),i=e.data&&JSON.parse(e.data);return{inventoryId:t,serialNumber:n,productSKU:r,state:a,boxId:o,orderId:(null==i?void 0:i.orderId)||"",locationId:l}}))}),[t]),[{label:"Equal",value:"equal",getApplyFilterFn:function(e){return e.columnField&&e.value&&e.operatorValue?function(t){return t.value==e.value}:null},InputComponent:He}]),y=[{field:"serialNumber",headerName:d("serialNumber"),sortable:!0,width:140,filterOperators:f},{field:"productSKU",headerName:d("productSku"),sortable:!0,width:130,filterOperators:f},{field:"employee",headerName:d("employeeId"),sortable:!1,width:130,filterable:!0,filterOperators:f,valueGetter:function(e){var t,n,r;return null!==(t=e.row.employee)&&void 0!==t&&t.employeeId&&(null===(n=e.row.employee)||void 0===n?void 0:n.employeeId.length)>0?null===(r=e.row.employee)||void 0===r?void 0:r.employeeId:"-"}},{field:"state",headerName:d("state"),sortable:!0,width:100,filterable:!1},{field:"boxId",headerName:d("boxId"),sortable:!1,width:100,filterable:!0,filterOperators:f},{field:"owner",headerName:d("ownerId"),sortable:!1,width:110,filterable:!0,filterOperators:f,valueGetter:function(e){var t,n;return(null===(t=e.row.owner)||void 0===t?void 0:t.ownerId)&&(null===(n=e.row.owner)||void 0===n?void 0:n.ownerId)}},{field:"locationId",headerName:d("locationId"),sortable:!1,width:120,filterable:!1},{field:"actions",headerName:d("actions"),sortable:!1,filterable:!1,renderCell:function(e){return a.createElement("div",null,a.createElement(h.ButtonGroup,{size:"small",color:"primary",variant:"text","aria-label":"tasks action buttons"},a.createElement(h.Button,{color:"primary",component:v.Link,to:"/home/inventory/detailed/inventory/view/"+e.getValue("productSKU")+"/"+e.getValue("serialNumber")},a.createElement(ie.Visibility,{fontSize:"small"}))))},width:100}];return a.createElement(m(),{loading:n,onPageChange:function(e){c(e.page+1)},onPageSizeChange:function(e){c(1),u(e.pageSize)},pagination:!0,paginationMode:"server",filterMode:"server",sortingMode:"server",onFilterModelChange:s,onSortModelChange:i,page:p,pageSize:o,rowCount:l,columnBuffer:2,rows:t,getRowId:function(e){return e.inventoryId},columns:y,checkboxSelection:!0})},Je=function(e){return a.createElement(_e,null,(function(t){var n=t.detailedInventory,o=t.loading,l=t.totalCount,i=(0,q.Z)(t,["detailedInventory","loading","totalCount"]);return a.createElement(We,(0,r.Z)({},e,{detailedInventory:n,loading:o,totalCount:l},i))}))};var Ye=(0,H.Z)((function(e){return(0,W.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));const Qe=function(e){var t,n,r,o,l=e.data,i=Ye(),c=(0,g.useTranslation)().t;return a.createElement(h.Grid,{container:!0,spacing:3},a.createElement(h.Grid,{item:!0,xs:12,sm:10},a.createElement(h.Grid,{container:!0,spacing:3,className:i.spacingBottom},a.createElement(h.Grid,{item:!0,xs:12},a.createElement(h.Typography,{variant:"subtitle1",color:"primary"},c("detailedInventoryFormTitle")))),a.createElement(h.Grid,{container:!0,className:(0,J.default)(i.rowSpacing),spacing:3},a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("serialNumber"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null==l?void 0:l.serialNumber)),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("productSku"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null==l?void 0:l.productSKU))),a.createElement(h.Grid,{container:!0,className:(0,J.default)(i.rowSpacing),spacing:3},a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("statusValue"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null==l?void 0:l.state)),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("boxId"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null==l?void 0:l.boxId))),a.createElement(h.Grid,{container:!0,className:(0,J.default)(i.rowSpacing),spacing:3},a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("ownerId"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null==l||null===(t=l.owner)||void 0===t?void 0:t.ownerId)),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("employeeId"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null==l||null===(n=l.employee)||void 0===n?void 0:n.employeeId))),a.createElement(h.Grid,{container:!0,className:(0,J.default)(i.rowSpacing),spacing:3},a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("locationId"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null==l?void 0:l.locationId)),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("secondarySerial"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null!=l&&l.secondarySerials&&(null==l||null===(r=l.secondarySerials)||void 0===r?void 0:r.length)>0?"Serial Type: "+l.secondarySerials[0].id+" Serial Text: "+l.secondarySerials[0].idType:"-"))),a.createElement(h.Grid,{container:!0,className:(0,J.default)(i.rowSpacing),spacing:3},a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldHeading)},c("tertiarySerial"))),a.createElement(h.Grid,{item:!0,xs:12,sm:3},a.createElement(h.Typography,{className:(0,J.default)(i.fieldValue)},null!=l&&l.secondarySerials&&(null==l||null===(o=l.secondarySerials)||void 0===o?void 0:o.length)>1?"Serial Type: "+l.secondarySerials[1].id+" Serial Text: "+l.secondarySerials[1].idType:"-")))))},Xe=function(e){var t=e.children,n=e.productSku,r=e.serialId,o=e.reload,s=a.useState([]),u=(0,l.Z)(s,2),d=u[0],p=u[1],m=a.useState(!1),f=(0,l.Z)(m,2),g=f[0],h=f[1],v=a.useState(1),y=(0,l.Z)(v,2),b=y[0],x=(y[1],a.useState(30)),E=(0,l.Z)(x,2),S=E[0],C=(E[1],(0,c.Z)()),w=C.showErrorMessage,I=(C.showSuccessMessage,C.showInfoMessage,C.showWarningMessage,{page:b,perPage:S}),O={batchIds:[],childResellerIds:[],employeeIds:[],endSerial:"",fetchChildStock:!1,inventoryAttributes:[],ownerId:"",productSKUs:[n],productType:["serialized"],secondarySerials:[],serials:[r],startSerial:"",states:[]};return a.useEffect((function(){h(!0),(0,i.rJ)(O,I).then((function(e){return p(null==e?void 0:e.data)})).catch((function(e){return w(e)})).finally((function(){return h(!1)}))}),[o]),a.createElement(a.Fragment,null,t({inventory:d,loading:g,page:b,perPage:S}))};var $e=n(65302),et=n(76724),tt=n(60364),nt=n(46062),rt=n.n(nt),at=n(70913);rt()(at.Z,{attributes:{nonce:"c2VhbWxlc3M="},insert:"head",singleton:!1}),at.Z.locals;var ot=(0,H.Z)((function(e){return(0,W.Z)({zoomOutIcon:{zIndex:1e3,listStyle:"none",color:"rgba(0, 0, 0, 0.54)","&:hover":{background:e.palette.grey,color:e.palette.secondary.main}},dialog:{"&. MuiDialog-paperWidthMd":{maxWidth:"300px"}},widgetChart:{"& .MuiBox-root-99":{width:"50 %",marginLeft:"65px"}},flexAlignCenter:{display:"flex",alignItems:"end"},customWidthTitle:{width:"90%"},customWidthIcon:{width:"10%",position:"relative",right:"10%"},heading:{textAlign:"center",marginTop:"10px",position:"relative",right:"-5%"},modelChart:{marginTop:"20px","& .apexcharts-ycrosshairs":{display:"none"},"& .apexcharts-legend-series":{display:"flex",marginRight:"20px !important"},"& .apexcharts-legend":{marginTop:"130px !important",marginRight:"20px !important"},"& .apexcharts-legend-text":{marginLeft:"10px"}},widgetChartData:{"& .apexcharts-legend-text":{marginRight:"3px",marginLeft:"3px"},"& .apexcharts-legend":{display:"inline-block",marginLeft:"10px !important"},"& .apexcharts-legend-series":{display:"contents"},"& .apexcharts-legend-marker":{marginTop:"2px",display:"inline-block"}}})})),lt=function(e){var t=e.series,n=e.labels,r=e.heading,o=e.filterProductName,i=e.filterProductCategory,s=e.filterProductSku,u=a.useState(!1),d=(0,l.Z)(u,2),p=d[0],m=d[1],f=(0,tt.Z)(),v=window.config.inventory.colors,y={series:t,labels:n,chart:{type:"donut",width:380},colors:1===(null==t?void 0:t.length)?[f.palette.primary.main]:v,legend:{show:!0,floating:!1,fontSize:"12px",position:p?"right":"bottom",horizontalAlign:"center",formatter:function(e,t){return t.w.globals.series[t.seriesIndex]+":  "+e},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},stroke:{lineCap:"round"},dataLabels:{enabled:!1},plotOptions:{pie:{donut:{size:p?"80%":"75%",labels:{show:!0,name:{show:!1,fontSize:"12px",fontFamily:"Helvetica, Arial, sans-serif",color:"#666666",offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",color:"#666666",offsetY:10,formatter:function(e){return e}},total:{show:!0,showAlways:!0,label:"Total",color:"#373d3f",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:p?"right":"bottom"}}}]},b=ot(),x=(0,g.useTranslation)().t,E=((0,c.Z)().showErrorMessage,a.useState(null)),S=(0,l.Z)(E,2);return S[0],S[1],t.length>0?a.createElement(h.Box,{display:"flex",flexDirection:"column",flexWrap:"wrap"},a.createElement("div",{className:b.flexAlignCenter},a.createElement(h.Typography,{className:(0,J.default)(b.heading,b.customWidthTitle)},r),a.createElement(et.Z,{className:(0,J.default)(b.zoomOutIcon,b.customWidthIcon),onClick:function(e){m(!0)}})),a.createElement(h.Dialog,{open:p,keepMounted:!0,maxWidth:"sm",fullWidth:!0},a.createElement(h.Grid,{className:b.flexAlignCenter},a.createElement(h.Typography,{className:(0,J.default)(b.heading,b.customWidthTitle)},r)),a.createElement(h.Grid,{className:b.modelChart},a.createElement($e.Z,{options:y,series:y.series,type:"donut"})),a.createElement(h.DialogActions,null,a.createElement(h.Button,{onClick:function(){m(!1)},color:"primary"},"Close"))),a.createElement(h.Grid,{className:b.widgetChartData},a.createElement($e.Z,{options:y,series:y.series,type:"donut",width:"280"}))):a.createElement(a.Fragment,null,a.createElement("p",{style:{textAlign:"center",width:"100%",color:"red"}},o&&o.length<=0?x("productSpecificData","Please select product name for specific data"):i&&i.length<=0?x("categorySpecificData","Please select product category for specific data"):s&&s.length<=0?x("productSkuSpecificData","Please select product sku for specific data"):void 0))};const it=a.memo(lt,(function(e,t){return e.series===t.series}));var ct=n(10198),st=n.n(ct),ut=(n(68061),(0,H.Z)((function(e){return(0,W.Z)({dropdown:{zIndex:1e3,"& .dropdown-trigger > span:after":{fontSize:"12px",color:"#555"},"& .dropdown-trigger":{width:"280px",marginTop:"10px",fontSize:"12px"},"& .dropdown-content":{width:"100%",height:"200px",overflowY:"auto",fontSize:"15px",zIndex:"1000 !important"},"& .search":{width:"240px"},"& .toggle":{font:"normal normal normal 18px/1",color:"#555",whiteSpace:"pre",marginRight:"4px"},"& .toggle.collapsed::after":{cursor:"pointer",content:"E5CF",verticalAlign:"middle"},"& .toggle.expanded::after":{cursor:"pointer",content:"E5CE",verticalAlign:"middle"}}})}))),dt=function(e){var t=e.data,n=e.setProductCategoryCallback,r=e.placeholder,o=ut();return a.createElement(st(),{data:t,className:o.dropdown,onChange:function(e,t){n(t)},keepTreeOnSearch:!0,texts:{placeholder:r||"Product Category"},mode:"multiSelect"})};const pt=a.memo(dt,(function(e,t){return e.data===t.data}));var mt=n(18621),ft=n(82067),gt=(0,mt.animated)(h.Typography);const ht=function(e){e.color,e.style;var t=e.resellerName,n=e.label,r=e.stockValue,o=(e.labelColor,e.className),l=e.containerWidth,i=(0,H.Z)((function(e){return(0,W.Z)({root:{paddingRight:e.spacing(2),maxWidth:"97%",height:64,display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderRadius:"5"},typo:{marginTop:e.spacing(1),textAlign:"right",fontWeight:700,overflow:"hidden"},resellerValue:{marginTop:"30px",fontSize:15,marginLeft:"8px",textOverflow:"ellipsis",overflow:"hidden"},icon:{marginTop:"15px"},stockValue:{float:"right",fontSize:11},cardContainerWidth:{width:l}})}))();return a.createElement(h.Paper,{className:(0,J.default)(i.root,o)},a.createElement(h.Grid,{container:!0,className:(0,J.default)(i.cardContainerWidth)},a.createElement(h.Grid,{container:!0,spacing:3},a.createElement(h.Grid,{item:!0,xs:2},a.createElement(ft.Z,{style:{color:"#006ae5",fontSize:50},className:i.icon})),a.createElement(h.Grid,{item:!0,xs:5},a.createElement(h.Typography,{className:i.resellerValue},t)),a.createElement(h.Grid,{item:!0,xs:5},a.createElement(h.Grid,{className:i.typo},a.createElement(gt,{variant:"h6"},r)),a.createElement(h.Grid,{className:i.stockValue},a.createElement(h.Typography,{variant:"inherit"},n))))))},vt=function(e){var t=e.productSKU,n=e.children,r=a.useState(!1),o=(0,l.Z)(r,2),c=o[0],s=o[1],u=a.useState(null),d=(0,l.Z)(u,2),p=d[0],m=d[1],f=(0,w.useSelector)((function(e){return e.auth.user})).resellerType,g=a.useState(),h=(0,l.Z)(g,2),v=h[0],y=h[1],b=a.useState([]),x=(0,l.Z)(b,2),E=x[0],S=x[1],C=a.useState([]),I=(0,l.Z)(C,2),O=I[0],P=I[1],k=a.useState([]),T=(0,l.Z)(k,2),N=T[0],F=T[1],Z=a.useCallback((function(){s(!0),(0,i.z2)(t).then((function(e){return m(e.data)})).finally((function(){return s(!1)}))}),[t]),B=a.useCallback((function(){s(!0),(0,i.CT)(f).then((function(e){return y(e)})).finally((function(){return s(!1)}))}),[]),R=a.useCallback((function(){s(!0),(0,i.zm)().then((function(e){var t=[];e.productCategories.map((function(e){var n={label:e.name,value:e.id,parentId:e.parentId};t.push(n)})),S(function(e){for(var t,n,r=[],a={},o=0,l=e.length;o<l;o++)a[(t=e[o]).value]=t,a[t.value].children=[];for(var i in a){var c,s,u;a.hasOwnProperty(i)&&(null!==(c=n=a[i])&&void 0!==c&&c.parentId?null===(s=a[n.parentId])||void 0===s||null===(u=s.children)||void 0===u||u.push(n):r.push(n))}return r}(t))})).finally((function(){return s(!0)}))}),[]),D=a.useCallback((function(){s(!0);var e=[];(0,i.em)({filters:[]}).then((function(t){P(t.products),t.products.map((function(t){t.variants.map((function(t){e.push(t)}))})),F(e)})).finally((function(){return s(!1)}))}),[]);return a.useEffect((function(){Z(),B(),R(),D()}),[Z]),a.createElement(a.Fragment,null,n({loading:c,inventoryCount:p,childResellerType:v,productCategories:E,allProductNames:O,allProductSkus:N}))};var yt,bt=n(77954),xt=window.location.search,Et=null==xt?void 0:xt.split("?=")[1],St=(0,H.Z)((function(e){return(0,W.Z)({stats:{marginTop:e.spacing(1),marginBottom:e.spacing(1),marginLeft:e.spacing(.4)},icon:{marginTop:"15px"},dropdownCheckbox:{marginRight:8},searchButton:{float:"right",marginTop:"10px"},stockInHandHeading:{width:"50%",marginLeft:"25%",backgroundColor:"white",color:e.palette.primary.main,"& .MuiChip-label":{textOverflow:"inherit !important",paddingLeft:"7px !important"}},stockInHandContent:{boxShadow:"none",height:200,alignItems:"center",display:"flex"},stockkSummaryHeading:{width:"70%",marginLeft:"6%",backgroundColor:"white",color:e.palette.primary.main,"& .MuiChip-label":{textOverflow:"inherit !important",paddingLeft:"7px !important"}},childResellerHeading:{width:"70%",marginLeft:"14%",backgroundColor:"white",color:e.palette.primary.main,"& .MuiChip-label":{textOverflow:"inherit !important",paddingLeft:"7px !important"}}})})),Ct=(null===(yt=window.config)||void 0===yt?void 0:yt.resellerAdditionalConfig.dropdownLimit)||50,wt=[];const It=function(e){var t,n=e.inventoryCount,o=e.loading,u=(e.childResellerType,e.productCategories),d=e.allProductNames,p=e.allProductSkus,m=(0,g.useTranslation)().t,f=St(),v=(0,w.useSelector)((function(e){return e.inventory})),y=(0,w.useSelector)((function(e){return e.auth.user})).requestedPrincipalId,b=a.useState(null),x=(0,l.Z)(b,2),E=x[0],S=x[1],C=a.useRef(null),I=a.useState(null),O=(0,l.Z)(I,2),P=O[0],k=O[1],T=a.useState([]),N=(0,l.Z)(T,2),F=N[0],Z=N[1],B=a.useState([]),R=(0,l.Z)(B,2),D=R[0],j=R[1],z=a.useState([]),U=(0,l.Z)(z,2),V=U[0],_=U[1],q=a.useState([]),L=(0,l.Z)(q,2),H=L[0],W=L[1],J=a.useState([]),Y=(0,l.Z)(J,2),Q=Y[0],X=(Y[1],a.useState([])),$=(0,l.Z)(X,2),ee=$[0],te=$[1],ne=a.useState([y]),re=(0,l.Z)(ne,2),ae=re[0],oe=re[1],le=a.useState(d),ce=(0,l.Z)(le,2),se=ce[0],ue=ce[1],de=a.useState(p),pe=(0,l.Z)(de,2),me=pe[0],fe=pe[1],ge=a.useState(),ve=(0,l.Z)(ge,2),ye=ve[0],be=ve[1],xe=a.useState(),Ee=(0,l.Z)(xe,2),Se=Ee[0],Ce=Ee[1],we=a.useState("Own"),Ie=(0,l.Z)(we,2),Oe=Ie[0],Pe=Ie[1],ke=a.useState("Children"),Te=(0,l.Z)(ke,2),Ne=Te[0],Fe=Te[1],Ze=a.useState([]),Be=(0,l.Z)(Ze,2),Re=Be[0],De=Be[1],je=a.useState([]),Me=(0,l.Z)(je,2),ze=Me[0],Ae=Me[1],Ue=a.useState([]),Ve=(0,l.Z)(Ue,2),Ge=Ve[0],_e=Ve[1],qe=a.useState([]),Ke=(0,l.Z)(qe,2),Le=Ke[0],He=Ke[1],We=a.useState([]),Je=(0,l.Z)(We,2),Ye=Je[0],Qe=Je[1],Xe=a.useState([]),$e=(0,l.Z)(Xe,2),et=$e[0],tt=$e[1],nt=a.useState([]),rt=(0,l.Z)(nt,2),at=rt[0],ot=rt[1],lt=a.useState([]),ct=(0,l.Z)(lt,2),st=ct[0],ut=ct[1],dt=a.useState([]),mt=(0,l.Z)(dt,2),ft=mt[0],gt=mt[1],vt=a.useState([]),yt=(0,l.Z)(vt,2),xt=yt[0],It=yt[1],Ot=a.useState([]),Pt=(0,l.Z)(Ot,2),kt=Pt[0],Tt=Pt[1],Nt=a.useState([]),Ft=(0,l.Z)(Nt,2),Zt=Ft[0],Bt=Ft[1],Rt=a.useState(null==v?void 0:v.includeOwnInventory),Dt=(0,l.Z)(Rt,2),jt=Dt[0],Mt=Dt[1],zt=a.useState(!0),At=(0,l.Z)(zt,2),Ut=At[0],Vt=At[1],Gt=a.useState(!1),_t=(0,l.Z)(Gt,2),qt=_t[0],Kt=_t[1],Lt=a.useState([]),Ht=(0,l.Z)(Lt,2),Wt=Ht[0],Jt=Ht[1],Yt=a.useState(!1),Qt=(0,l.Z)(Yt,2),Xt=(Qt[0],Qt[1]),$t=a.useState(""),en=(0,l.Z)($t,2),tn=en[0],nn=en[1],rn=(0,c.Z)().showErrorMessage,an=a.useState(0),on=(0,l.Z)(an,2),ln=on[0],cn=on[1],sn=a.useState(0),un=(0,l.Z)(sn,2),dn=un[0],pn=un[1],mn=a.useState(100),fn=(0,l.Z)(mn,2),gn=fn[0],hn=(fn[1],a.useState(0)),vn=(0,l.Z)(hn,2),yn=vn[0],bn=vn[1],xn=(0,s._8)(),En=(xn.currentReseller,xn.resellers),Sn=xn.isChild,Cn=(xn.productSKUs,xn.includeOwnInventory,(0,w.useDispatch)()),wn=function(e){Cn((0,A.I0)(e))};a.useEffect((function(){wn([])}),[]),a.useEffect((function(){if(F.length>0){var e=[];be(!0),Ce(!0);var t={filters:[{key:"categoryIds",operation:"equals",value:F.map((function(e){return e.value})).toString()}]};(0,i.em)(t).then((function(t){t.products.map((function(t){t.variants.map((function(t){e.push(t)}))})),fe(e),ue(t.products)})).catch((function(e){return rn(e)})).finally((function(){be(!1),Ce(!1)}))}else be(!0),In(),j([])}),[F,dn]),a.useEffect((function(){if(D.length>0){var e=[],t={filters:[{key:"productIds",operation:"equals",value:D.map((function(e){return e.id})).toString()}]};(0,i.em)(t).then((function(t){t.products.map((function(t){t.variants.map((function(t){e.push(t)}))})),fe(e)})).catch((function(e){return rn(e)})).finally((function(){return Ce(!1)}))}else In(),_([])}),[D,dn]);var In=function(){Ce(!0);var e={page:dn,perPage:gn},t=[];(0,i.em)({filters:[]},e).then((function(e){var n=e.products,r=[].concat((0,K.Z)(wt),(0,K.Z)(n));wt=r;var a=r.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))===t}));ue(a),bn(e.metaData.totalCount),e.products.map((function(e){e.variants.map((function(e){t.push(e)}))})),fe(t)})).finally((function(){be(!1),Ce(!1)}))},On=function(){Kt(!0),Xt(!0);var e={productCategories:F.map((function(e){return e.value})),productIds:D.map((function(e){return e.id})),productSKUs:V.map((function(e){return e.productSKU}))},t=[],n=[];(0,i.FO)(e).then((function(e){0!==e.data.stockInHand&&(n.push(e.data.stockInHand),t.push(y)),te(n),oe(t),Jt(e.data.subResellers),(0,i.Rr)({categoryIds:F.map((function(e){return e.value})),countChildrenInventories:!1,includeOwnInventory:!0,childResellerIds:H.map((function(e){return e.resellerId})),ownerType:Q.map((function(e){return e}))}).then((function(e){var t=[],n=[];return e.productCategories.map((function(e,r){r+1<=kn&&0!==e.availableCount&&(t.push(e.name),n.push(e.availableCount))})),Vt(!1),De(t),Ae(n),e})).catch((function(e){return rn(e)})),(0,i.Rr)({categoryIds:F.map((function(e){return e.value})),countChildrenInventories:!0,includeOwnInventory:!1,childResellerIds:H.map((function(e){return e.resellerId})),ownerType:Q.map((function(e){return e}))}).then((function(e){var t=[],n=[];return e.productCategories.map((function(e,r){r+1<=kn&&0!==e.availableCount&&(t.push(e.name),n.push(e.availableCount))})),Vt(!1),Tt(t),Bt(n),e})).catch((function(e){return rn(e)})).finally((function(){return Kt(!1)})),function(){var e=H.length>0?H.map((function(e){return e.resellerId})):void 0===Et?[]:[Et];Kt(!0);var t={childResellerIds:e,countChildrenInventories:!0,includeOwnInventory:!1,productSKUs:V.map((function(e){return e.productSKU})),productIds:D.map((function(e){return e.id})),categoryIds:F.map((function(e){return e.value})),productTypes:[]};(0,i.Nm)(t).then((function(e){nn(null==e?void 0:e.availableCount)})).catch((function(e){return rn(e)})).finally((function(){return Kt(!1)}))}(),(0,i.o)({order:"desc",page:0,perPage:50},{categoryIds:F.map((function(e){return e.value})),countChildrenInventories:!1,childResellerIds:H.map((function(e){return e.resellerId})),productSKUs:V.map((function(e){return e.productSKU})),productIds:D.map((function(e){return e.id})),includeOwnInventory:!0,ownerTypes:Q.map((function(e){return e}))}).then((function(e){var t=[],n=[],r=[],a=[];return e.products.map((function(e,o){t.length+1<=kn&&0!==e.inventoryCount&&(t.push(e.name),n.push(e.inventoryCount)),e.variantsInventory.map((function(e){r.length+1<=kn&&0!==e.availableCount&&(r.push(e.productSKU),a.push(e.availableCount))}))})),Vt(!1),_e(t),He(n),Qe(r),tt(a),wn(H.map((function(e){return e}))),V.length>0?Pe("Product SKU"):D.length>0?Pe("Product Name"):F.length>0?Pe("Product Category"):(H.length,Pe("Own")),e})).catch((function(e){return rn(e)})),(0,i.o)({order:"desc",page:0,perPage:50},{categoryIds:F.map((function(e){return e.value})),countChildrenInventories:!0,childResellerIds:H.map((function(e){return e.resellerId})),productSKUs:V.map((function(e){return e.productSKU})),productIds:D.map((function(e){return e.id})),includeOwnInventory:!1,ownerTypes:Q.map((function(e){return e}))}).then((function(e){var t=[],n=[],r=[],a=[];return e.products.map((function(e,o){t.length+1<=kn&&0!==e.inventoryCount&&(t.push(e.name),n.push(e.inventoryCount)),e.variantsInventory.map((function(e){r.length+1<=kn&&0!==e.availableCount&&(r.push(e.productSKU),a.push(e.availableCount))}))})),Vt(!1),ot(t),ut(n),gt(r),It(a),(null==V?void 0:V.length)>0?Fe("Product SKU"):(null==D?void 0:D.length)>0?Fe("Product Name"):(null==F?void 0:F.length)>0?Fe("Product Category"):(H.length,Fe("Children")),e})).catch((function(e){return rn(e)}))})).catch((function(e){return rn(e)})).finally((function(){Vt(!0),Xt(!1)}))};a.useEffect((function(){if(Et)return W([{resellerId:Et,resellerName:Et}]),On()}),[]);var Pn=window.config,kn=(null==Pn||null===(t=Pn.inventory)||void 0===t?void 0:t.optionSelectLimit)||6,Tn=a.createElement(ie.CheckBoxOutlineBlank,{fontSize:"small"}),Nn=a.createElement(ie.CheckBox,{fontSize:"small"});if(!n||o)return a.createElement(h.Box,{display:"flex",flexDirection:"row",borderColor:"grey.200"},Array.from({length:4}).map((function(e,t){return a.createElement(h.Box,{mr:2,key:t},a.createElement(he.Z,{variant:"rect",width:270,height:250,animation:"wave"}))})));var Fn=Boolean(E),Zn=Boolean(P),Bn=["Product Category","Product SKU","Product Name"],Rn=function(){S(null)},Dn=function(){k(null)};return a.createElement(a.Fragment,null,a.createElement(h.Box,{display:"flex",flexDirection:"row",flex:"wrap"},a.createElement(h.Grid,{item:!0,xs:3},a.createElement(pt,{data:u,setProductCategoryCallback:function(e){e.length<=kn?Z(e):rn("Please select only ".concat(kn," Product Categories"))}}),ye?a.createElement(h.LinearProgress,null):null,a.createElement(bt.ZP,{multiple:!0,limitTags:2,id:"product-name",options:se.length>0?se.map((function(e){return e})):d.map((function(e){return e})),disableCloseOnSelect:!0,value:D,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},disableClearable:o,onChange:function(e,t){if(t.length<=kn){var n=[];t.map((function(e){n.push(e)})),j(n)}else rn("Please select only ".concat(kn," Product Names"))},ref:C,ListboxProps:{onScroll:function(e){if(Math.abs(e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop)<1&&C.current&&!ye&&dn*gn<=yn){var t=new IntersectionObserver((function(e){e[0].isIntersecting&&(t.unobserve(e[0].target),pn((function(e){return e+1})))}),{threshold:1});C.current&&t.observe(C.current)}}},renderTags:function(e,t){return D.map((function(e,n){return a.createElement(h.Chip,(0,r.Z)({label:e.name,key:n,color:"primary"},t({index:n})))}))},renderOption:function(e,t){return t.selected,a.createElement("div",null,a.createElement(h.Checkbox,{icon:Tn,checkedIcon:Nn,className:f.dropdownCheckbox,checked:D.some((function(t){return e.id===t.id}))}),e.name)},renderInput:function(e){return a.createElement(h.TextField,(0,r.Z)({},e,{label:m("productName"),placeholder:m("productName")}))}}),Se?a.createElement(h.Typography,{component:"div",variant:"h3"},a.createElement(he.Z,null)):a.createElement(bt.ZP,{multiple:!0,limitTags:2,id:"product-sku",options:me.length>0?me.map((function(e){return e})):p.map((function(e){return e})),disableCloseOnSelect:!0,getOptionLabel:function(e){return e.productSKU},getOptionSelected:function(e,t){return e.variantId===t.variantId},onChange:function(e,t){if(t.length<=kn){var n=[];t.map((function(e){n.push(e)})),_(n)}else rn("Please select only ".concat(kn," Product Sku"))},renderTags:function(e,t){return V.map((function(e,n){return a.createElement(h.Chip,(0,r.Z)({label:e.productSKU,key:n,color:"primary"},t({index:n})))}))},renderOption:function(e,t){return t.selected,a.createElement("div",null,a.createElement(h.Checkbox,{icon:Tn,checkedIcon:Nn,className:f.dropdownCheckbox,checked:V.some((function(t){return e.variantId===t.variantId}))}),e.productSKU)},renderInput:function(e){return a.createElement(h.TextField,(0,r.Z)({},e,{label:m("productSku"),placeholder:m("productSku")}))}}),a.createElement(G(),{id:y,offset:ln,perPage:Ct},(function(e){return a.createElement(a.Fragment,null,e.loading?a.createElement(h.LinearProgress,null):null,a.createElement(bt.ZP,{multiple:!0,ref:C,limitTags:2,id:"reseller-id",options:e.lazzyResellersData,getOptionLabel:function(e){return"".concat(e.resellerName," (").concat(e.resellerId,")")},disableCloseOnSelect:!0,getOptionSelected:function(e,t){return e.resellerId===t.resellerId},onChange:function(e,t){if(t.length<=kn){var n=[];t.map((function(e){n.push(e)})),W(n)}else rn("Please select only ".concat(kn," Reseller Id's"))},ListboxProps:{onScroll:function(t){if(Math.abs(t.target.scrollHeight-t.target.clientHeight-t.target.scrollTop)<1&&C.current&&!e.loading&&Ct<=e.totalCount&&ln<=e.totalCount){var n=new IntersectionObserver((function(e){e[0].isIntersecting&&(n.unobserve(e[0].target),cn((function(e){return e+Ct})))}),{threshold:1});C.current&&n.observe(C.current)}}},renderTags:function(e,t){return H.map((function(e,n){return a.createElement(h.Chip,(0,r.Z)({label:e.resellerName,key:n,color:"primary"},t({index:n})))}))},defaultValue:Et&&[{resellerId:Et,resellerName:Et}]||[],renderOption:function(e,t){return t.selected,a.createElement("div",null,a.createElement(h.Checkbox,{icon:Tn,checkedIcon:Nn,className:f.dropdownCheckbox,checked:H.some((function(t){return e.resellerId===t.resellerId}))}),e.resellerName," (",e.resellerId,")")},renderInput:function(e){return a.createElement(h.TextField,(0,r.Z)({},e,{label:m("resellerName"),placeholder:m("resellerName")}))}}))})),a.createElement(h.FormGroup,null,a.createElement(h.FormControlLabel,{control:a.createElement(h.Checkbox,{defaultChecked:jt,onChange:function(e){Mt(e.target.checked),Cn((0,A.Lw)(e.target.checked))}}),label:m("includeOwnInventory")}),a.createElement(h.Button,{color:"primary",variant:"contained",className:f.searchButton,onClick:function(e){return On()}},"Search"))),a.createElement(h.Grid,{item:!0,xs:3},a.createElement(h.Chip,{label:m("donuctStockInHandHeading"),className:f.stockInHandHeading}),a.createElement(h.IconButton,{"aria-label":"more",onClick:function(e){S(e.currentTarget)},"aria-haspopup":"true","aria-controls":"long-menu"},a.createElement(ie.MoreVert,null)),a.createElement(h.Menu,{anchorEl:E,keepMounted:!0,onClose:Rn,open:Fn},Bn.map((function(e,t){return a.createElement("div",{key:t},a.createElement(h.MenuItem,{key:e,onClick:function(t){return Pe(e),void Rn()}},e))}))),a.createElement(h.Paper,{className:f.stockInHandContent},qt?a.createElement(he.Z,{variant:"rect",style:{marginLeft:"10px"},width:250,height:200,animation:"wave"}):"Product Category"===Oe&&a.createElement(it,{series:ze,labels:Re,heading:Oe,filterProductCategory:F})||"Product Name"===Oe&&a.createElement(it,{series:Le,labels:Ge,heading:Oe,filterProductName:D})||"Product SKU"===Oe&&a.createElement(it,{series:et,labels:Ye,heading:Oe,filterProductSku:V})||"Own"===Oe&&a.createElement(it,{series:0!==ee.length?ee:[n.stockInHand],labels:ae,heading:Oe}))),a.createElement(h.Grid,{item:!0,xs:3},a.createElement(h.Chip,{label:m("donutChildStockSummaryHeading"),className:f.stockkSummaryHeading}),a.createElement(h.IconButton,{"aria-label":"more",onClick:function(e){k(e.currentTarget)},"aria-haspopup":"true","aria-controls":"long-menu"},a.createElement(ie.MoreVert,null)),a.createElement(h.Menu,{anchorEl:P,keepMounted:!0,onClose:Dn,open:Zn},Bn.map((function(e,t){return a.createElement("div",{key:t},a.createElement(h.MenuItem,{key:e,onClick:function(t){return Fe(e),void Dn()}},e))}))),a.createElement(h.Paper,{className:f.stockInHandContent},qt?a.createElement(he.Z,{variant:"rect",style:{marginLeft:"10px"},width:250,height:200,animation:"wave"}):"Product Category"===Ne&&a.createElement(it,{series:Zt,labels:kt,heading:Ne,filterProductCategory:F})||"Product SKU"===Ne&&a.createElement(it,{series:xt,labels:ft,heading:Ne,filterProductSku:V})||"Product Name"===Ne&&a.createElement(it,{series:st,labels:at,heading:Ne,filterProductName:D})||"Children"===Ne&&a.createElement(it,{series:Wt.length>0?[tn]:[n.subResellers.reduce((function(e,t){return e+(t.value||0)}),0)],labels:[m("totalResellerStockLabel","Total Stock")],heading:Ne}))),a.createElement(h.Grid,{item:!0,xs:3},a.createElement(h.Chip,{label:m("donutChildResellerTypes"),className:f.childResellerHeading}),a.createElement(h.Grid,{style:{maxHeight:250,overflowY:"auto",backgroundColor:"#ECEFF1"}},a.createElement(h.Box,{display:"flex",flexDirection:"column",flexWrap:"wrap"},0===Wt.length?n.subResellers.map((function(e,t){return a.createElement(ht,{className:f.stats,key:t,resellerName:e.key,label:m("stockInHand"),stockValue:e.value,containerWidth:"100%"})})):Wt.map((function(e,t){return a.createElement(ht,{className:f.stats,key:t,resellerName:e.key,label:m("stockInHand"),stockValue:e.value,containerWidth:"100%"})})))))),a.createElement("div",{style:{height:600,marginTop:20}},a.createElement(M,{categoryIds:F.map((function(e){return e.value})),includeOwnInventory:jt,resellerIds:H.length>0?H.map((function(e){return e.resellerId})):En.map((function(e){return e.resellerId})),childrenCount:Sn,productSKUs:V.map((function(e){return e.productSKU})),productIds:D.map((function(e){return e.id})),refresh:Ut,refreshCallback:function(){Vt(!1)},ownerType:Q.map((function(e){return e}))})))},Ot=function(e){var t=e.productSKU;return a.createElement(vt,{productSKU:t},(function(e){var t=e.loading,n=e.inventoryCount,r=e.childResellerType,o=e.productCategories,l=e.allProductNames,i=e.allProductSkus;return a.createElement(It,{loading:t,inventoryCount:n,childResellerType:r,productCategories:o,allProductNames:l,allProductSkus:i,includeOwnInventory:!1})}))};var Pt=n(33922),kt=n(28428),Tt=function(e){var t=e.files,n=e.onRemove;return o().createElement(h.List,{dense:!0},t&&t.length>0?t.map((function(e,t){return o().createElement(h.ListItem,{dense:!0,key:t},o().createElement(h.ListItemAvatar,null,o().createElement(h.Avatar,null,o().createElement(ie.AttachFileOutlined,null))),o().createElement(h.ListItemText,{primary:e.name}),o().createElement(h.ListItemSecondaryAction,null,o().createElement(h.IconButton,{onClick:function(){return n(e,t)},edge:"end","aria-label":"delete"},o().createElement(kt.Z,{fontSize:"small"}))))})):null)};const Nt=function(e){var t=e.handleFiles,n=e.onRemove,a=e.files,l=void 0===a?[]:a,i=o().useCallback((function(e){t(e)}),[t]),c=(0,Pt.u)({onDrop:i,accept:".csv, .xlsx, .xsl, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",multiple:!1}),s=c.getRootProps,u=c.getInputProps,d=c.isDragActive,p=(c.acceptedFiles,s()),m=p.ref,f=(0,q.Z)(p,["ref"]);return o().createElement("section",{style:{border:"1px dashed #e6e5e5",height:"100%"}},o().createElement(h.RootRef,{rootRef:m},o().createElement(h.Card,(0,r.Z)({},f,{elevation:.5}),o().createElement(h.CardContent,{style:{height:"100%"}},o().createElement("input",u()),d?o().createElement(h.Typography,null,"Drop here to upload "):o().createElement(h.Typography,null,"Drag ' drop files here, or click to select files")))),l&&l.length>0?o().createElement(Tt,{files:l,onRemove:n}):null)};(0,H.Z)((function(e){return(0,W.Z)({elements:{"&:hover":{backgroundColor:e.palette.grey[200]}}})}));const Ft=function(e){var t=e.children;return a.createElement(h.Box,{mt:2,p:1,width:"100%",border:1,borderColor:"grey.400",display:"flex",flexDirection:"row"},t)};var Zt=(0,H.Z)((function(e){return(0,W.Z)({elements:{marginRight:e.spacing(1),marginTop:e.spacing(1)},form:{display:"flex",flexDirection:"column"},state:{width:300},row:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}})}));const Bt=function(e){var t=e.data,n=e.onSubmit,r=(0,g.useTranslation)().t,o=Zt(),i=a.useState(""),c=(0,l.Z)(i,2),s=c[0],u=c[1];return a.createElement(C.SeamlessPopper,{id:"csv-export",label:r("exportCsv","Export CSV")},a.createElement(se.J9,{initialValues:t,onSubmit:function(e){var t=s.split(",");n({stateNames:t,filters:e.filters})},render:function(e){var t=e.values;return a.createElement(se.l0,{className:o.form},a.createElement(C.SeamlessInput,{placeholder:r("state","State"),className:(0,J.default)(o.elements,o.form,o.state),value:s,onChange:function(e){return u(e.target.value)},helperText:r("addStateHelperText","You can add list of states dilimited by ','")}),a.createElement(se.F2,{name:"filters",render:function(e){return a.createElement(a.Fragment,null,t.filters&&t.filters.length>0?a.createElement(a.Fragment,null,t.filters.map((function(t,n){return a.createElement("div",{key:n},a.createElement(h.Box,{display:"flex",flexDirection:"row"},a.createElement(se.gN,{placeholder:r("key","Key"),className:o.elements,component:C.SeamlessInput,name:"filter[".concat(n,"].key")}),a.createElement(se.gN,{placeholder:r("operation","Operation"),className:o.elements,component:C.SeamlessInput,name:"filter[".concat(n,"].operation")}),a.createElement(se.gN,{placeholder:r("value","Value"),className:o.elements,component:C.SeamlessInput,name:"filter[".concat(n,"].value")}),a.createElement(h.IconButton,{onClick:function(){return e.remove(n)},size:"small",color:"primary"},a.createElement(h.Icon,null,"delete")),a.createElement(h.IconButton,{onClick:function(){return e.insert(n,{key:"",operation:"",value:""})},size:"small",color:"primary"},a.createElement(h.Icon,null,"add"))))}))):a.createElement(C.SeamlessButton,{variant:"contained",type:"button",className:o.elements,onClick:function(){return e.push({key:"",operation:"",value:""})}},r("addFilter","Add Filter")))}}),a.createElement(C.SeamlessButton,{size:"medium",color:"primary",type:"submit",className:(0,J.default)(o.elements,o.form),endIcon:a.createElement(h.Icon,null,"downloading"),style:{marginLeft:1}},r("downloadCsv","Download CSV")))}}))}},39105:(e,t,n)=>{"use strict";n.d(t,{Yz:()=>s,sO:()=>u,_8:()=>d});var r=n(51119),a=n(74315),o=n(2411),l=n(29971);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n=o.useRef();o.useEffect((function(){n.current=e}),[e]),o.useEffect((function(){if(null!==t){var e=setInterval((function(){void 0!==n.current&&n.current()}),t);return function(){clearInterval(e)}}}),[e,t])}var u=function(e){var t=o.useState(e.page),n=(0,a.Z)(t,2),l=n[0],i=n[1],s=o.useState(e.perPage),u=(0,a.Z)(s,2),d=u[0],p=u[1],m=o.useState(e.order),f=(0,a.Z)(m,2),g=f[0],h=f[1],v=o.useState(e.orderBy),y=(0,a.Z)(v,2),b=y[0],x=y[1],E=o.useState({}),S=(0,a.Z)(E,2),C=S[0],w=S[1];return{page:l,perPage:d,order:g,orderBy:b,filter:C,onPageSizeChange:function(e){p(e)},onPageChange:function(e){i(e)},onOrderByChange:function(e){x(e)},onOrderChange:function(e){h(e)},onFilterChange:function(e,t){w(c(c({},C),{},(0,r.Z)({},e,t)))},onReset:function(){i(e.page),p(e.perPage),x(e.orderBy),h(e.order),w(e.filter||{})}}},d=function(){return(0,l.useSelector)((function(e){return void 0===e.inventory?{currentReseller:e.auth.user.requestedPrincipalId,resellers:[],isChild:!0,includeOwnInventory:!0,productSKUs:[]}:{currentReseller:e.auth.user.requestedPrincipalId,resellers:e.inventory.resellers,isChild:e.inventory.isChild,productSKUs:e.inventory.productSKUs,includeOwnInventory:e.inventory.includeOwnInventory}}))}},87516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(74315),a=n(2411),o=n.n(a),l=n(29971);const i=function(e){var t=o().useState(null),n=(0,r.Z)(t,2),a=n[0],i=n[1],c=(0,l.useSelector)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.rbac}),l.shallowEqual);return o().useEffect((function(){var t,n=(null===(t=c.features.find((function(t){return t.module===e})))||void 0===t?void 0:t.features)||[];i(n)}),[c]),a}},11745:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(2411),a=n(23900),o=n(48049),l=n(86353),i=n(54297);const c=function(){var e=(0,o.useParams)().productSku,t=(0,o.useParams)().serialId,n=(0,a.useTranslation)().t;return r.createElement(r.Fragment,null,r.createElement(l.jM,{productSku:e,serialId:t,reload:!0},(function(e){var t=e.inventory;return e.loading,r.createElement(i.SeamlessContainer,{title:n("detailedInventoryPageTitle"),description:n("detailedInventoryPageDescription")},r.createElement(l.lA,{"data-testid":"view-detailed-inventory",data:t[0]}))})))};var s=n(44104),u=n.n(s);const d=function(){var e=(0,a.useTranslation)().t;return(0,o.useParams)().id,r.createElement(i.SeamlessContainer,{title:e("detailedInventoryPageTitle"),description:e("detailedInventoryPageDescription")},r.createElement("div",{style:{height:"600px"}},r.createElement(l.Wq,null)))},p=function(){(0,a.useTranslation)().t;var e=(0,o.useRouteMatch)().path;return u()().AccessControlled,r.createElement(o.Switch,null,r.createElement(o.Route,{path:e+"/view/:productSku/:serialId"},r.createElement(c,null)),r.createElement(o.Route,null,r.createElement(d,null)))}},87804:(e,t,n)=>{"use strict";n.d(t,{b:()=>V,F:()=>A});var r=n(51119),a=n(2411),o=n(48049),l=n(54297),i=n(23900),c=n(86353);const s=function(){var e=(0,i.useTranslation)().t;return a.createElement(l.SeamlessContainer,{title:e("inventoryPageTitle"),description:e("inventoryPageDescription")},a.createElement(c.A,null))};var u=n(39105);const d=function(){var e=(0,i.useTranslation)().t,t=(0,o.useParams)().id,n=(0,u._8)(),r=(n.currentReseller,n.resellers),s=n.isChild,d=n.includeOwnInventory;return a.createElement(l.SeamlessContainer,{title:e("inventoryBoxPageTitle"),description:e("inventoryBoxPageDescription")},a.createElement(c.tv,{fetchOwnStock:d,productSKU:t,childResellerIds:r&&r.map((function(e){return e.resellerId})),fetchChildStock:s}))};var p=n(7560),m=n(55238),f=n(74315),g=n(94079),h=n(6277),v=n(79692),y=n(12420),b=n(23664),x=n(52754),E=n(8526),S=n(77114),C=n(99688),w=n(59456);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const P=function(e){e.name;var t,n,s,u,d,I,P=e.value,k=(e.disabled,e.required,e.onFormSubmit),T=e.data,N=(0,i.useTranslation)().t,F=(0,o.useParams)().id,Z=a.useState([]),B=(0,f.Z)(Z,2),R=B[0],D=B[1],j=a.useState(),M=(0,f.Z)(j,2),z=M[0],A=M[1],U=a.useState(!1),V=(0,f.Z)(U,2),G=V[0],_=V[1],q=a.useState(!1),K=(0,f.Z)(q,2),L=(K[0],K[1]),H=(0,b.Z)().showErrorMessage,W=a.useState([]),J=(0,f.Z)(W,2),Y=J[0],Q=J[1],X=1===R.length?E.Ry().shape({updateFields:E.Ry().shape({status:E.Z_(),updateReason:E.Z_(),inventoryAttributes:E.IX(E.Ry().shape({dataName:E.Z_().required(N("dataNameError")),dataValue:E.Z_().required(N("dataValueError"))}))})}):E.Ry().shape({updateFields:E.Ry().shape({status:E.Z_().required(N("productStatusError")),updateReason:E.Z_().required(N("updateReasonError"))})}),$=(0,S.TA)({initialValues:T,onSubmit:function(e){1===R.map((function(e){return e.state})).filter((function(e,t,n){return n.indexOf(e)===t})).length?(z&&(e.searchFields.ownerId=z.owner.ownerId,e.searchFields.quantity=z.quantity,e.updateFields.ownerId=z.owner.ownerId,e.updateFields.location=z.owner.ownerId),R&&(e.searchFields.serials=R.map((function(e){return e.serial})),e.searchFields.productSKU=R.slice(0,1).map((function(e){return e.productSku})).toString()),k&&k(e,(function(e,t){!e&&_(!1)}))):H(N("itemStatusError"))},validationSchema:X,enableReinitialize:!0}),ee=$.values,te=$.errors,ne=$.handleChange,re=$.handleSubmit,ae=$.validateForm,oe=$.setFieldValue;T.updateFields.inventoryAttributes=a.useMemo((function(){var e=[];if(1===R.length){var t=JSON.parse(R[0].data);if(t)for(var n in t){var r=t[n];"string"==typeof r&&e.push({dataName:n,dataValue:r,showDelete:!1})}oe("updateFields.inventoryAttributes",e)}return e}),[R,G]);var le=(0,v.Z)((function(e){return(0,y.Z)({btnElement:{marginLeft:e.spacing(1),marginRight:e.spacing(1),whiteSpace:"nowrap",paddingLeft:e.spacing(2.5),paddingRight:e.spacing(2.5)},actionButtonSpacing:{marginBottom:e.spacing(2)},flexSpacingJustify:{justifyContent:"space-between"},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},modalSectionSpacing:{marginTop:e.spacing(1.5),marginBottom:e.spacing(1.5)},btnSpace:{marginRight:e.spacing(2)},topSpacing:{marginTop:e.spacing(2.5)},field:{marginRight:e.spacing(2),marginTop:e.spacing(2)},element:{textAlign:"left",marginTop:e.spacing(2),marginRight:e.spacing(2)}})}))(),ie=function(){_(!1)},ce=function(e,t,n){ee.updateFields.inventoryAttributes&&ee.updateFields.inventoryAttributes[n]&&(ee.updateFields.inventoryAttributes[n]=O(O({},ee.updateFields.inventoryAttributes[n]),{},(0,r.Z)({},t,e)),oe("updateFields.inventoryAttributes",ee.updateFields.inventoryAttributes))},se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout((function(){ae().then((function(t){if(e&&null!=t&&t.updateFields){var n=t.updateFields,r=Object.values(n)[0];r&&"string"==typeof r&&H(r)}}))}))};if(a.useEffect((function(){L(!0),(0,x.r1)().then((function(e){return Q(e.states),e.states})).catch((function(e){return H(e)})).finally((function(){return L(!1)}))}),[]),!Y.length)return null;var ue=Y.map((function(e){return{key:e.name,value:e.code}}));return ue.unshift({key:"Select Status",value:"Select Status"}),a.createElement(a.Fragment,null,a.createElement(l.SeamlessContainer,{title:N("inventoryBoxItemPageTitle"),description:N("inventoryBoxItemPageDescription")},a.createElement(g.Box,{display:"flex",flexDirection:"row",justifyContent:"flex-end",className:(0,h.default)(le.actionButtonSpacing,le.flexSpacingJustify)},a.createElement("div",null,R&&R.length>0&&a.createElement(g.Box,{display:"flex",flexDirection:"row",alignItems:"center"},a.createElement(l.SeamlessButton,{color:"primary",variant:"outlined",className:le.btnElement,onClick:function(){return _(!0)}},N("manualInventoryAdjustment"))))),a.createElement(c.M_,{boxId:F},(function(e){var t=e.loading,n=e.items,r=e.box,o=(0,m.Z)(e,["loading","items","box"]);return a.createElement(a.Fragment,null,a.createElement(c.eA,{box:r,loading:t}),a.createElement(c.LD,null,a.createElement(c.dW,{id:F})),a.createElement("div",{style:{height:600}},a.createElement(c.$G,(0,p.Z)({loading:t,items:n},o,{onSelectionModelChange:function(e,t){var n=e.selectionModel,a=t.filter((function(e){return n.includes(e.serial)}));return A(r),D(a)}}))))}))),a.createElement(l.SeamlessDialog,{open:G,onClose:ie,className:le.dialogWrapper,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement("div",{className:le.modalContentSpacing},a.createElement(g.Typography,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:le.fontHeavy},N("productAttributePopupTitle")),a.createElement(l.SeamlessDropDown,{id:"product-status-drop-down",fullWidth:!0,required:R.length>1,label:N("productStatusName"),error:!(null===(t=te.updateFields)||void 0===t||!t.status),helperText:null!==(n=te.updateFields)&&void 0!==n&&n.status?N("productStatusError"):N("selectProductStatus"),options:ue,name:"updateFields.status",value:P,onChange:ne}),a.createElement(l.SeamlessInput,{className:(0,h.default)(le.element),fullWidth:!0,required:R.length>1,name:"updateFields.updateReason",value:null===(s=ee.updateFields)||void 0===s?void 0:s.updateReason,onChange:function(e){return oe("updateFields.updateReason",e.target.value,!1)},label:N("updateReason"),onBlur:function(){return se()},error:!(null===(u=te.updateFields)||void 0===u||!u.updateReason),helperText:null!==(d=te.updateFields)&&void 0!==d&&d.updateReason?N("updateReasonError"):N("updateReasonHelperText")}),a.createElement("div",{className:le.modalSectionSpacing},R.length>1&&a.createElement(C.Z,{severity:"warning"},N("toEditDataPleaseSelectOnlyOneItem")),1===R.length&&(null===(I=ee.updateFields.inventoryAttributes)||void 0===I?void 0:I.map((function(e,t){var n,r,o,i,c,s,u=null===(n=te.updateFields)||void 0===n||null===(r=n.inventoryAttributes)||void 0===r||null===(o=r[t])||void 0===o?void 0:o.dataName,d=null===(i=te.updateFields)||void 0===i||null===(c=i.inventoryAttributes)||void 0===c||null===(s=c[t])||void 0===s?void 0:s.dataValue;return a.createElement(g.Grid,{container:!0},a.createElement(g.Grid,{item:!0,xs:12,sm:5},a.createElement(l.SeamlessInput,{className:le.element,fullWidth:!0,required:!0,value:e.dataName,onChange:function(e){return ce(e.target.value,"dataName",t)},label:N("dataName"),error:!!u,disabled:!e.showDelete,helperText:N(u?"dataNameError":"dataNameHelperText")})),a.createElement(g.Grid,{item:!0,xs:12,sm:5,style:{paddingLeft:10}},a.createElement(l.SeamlessInput,{className:le.element,fullWidth:!0,required:!0,value:e.dataValue,onChange:function(e){return ce(e.target.value,"dataValue",t)},label:N("dataValue"),disabled:!e.showDelete,error:!!d,helperText:N(d?"dataValueError":"dataValueHelperText")})),e.showDelete&&a.createElement(g.Grid,{item:!0,sm:2},a.createElement(g.Button,{style:{marginTop:32},onClick:function(){return function(e){var t;null===(t=ee.updateFields.inventoryAttributes)||void 0===t||t.splice(e,1),oe("updateFields.inventoryAttributes",ee.updateFields.inventoryAttributes)}(t)},variant:"text"},a.createElement(w.DeleteForever,null))))}))),a.createElement(g.Grid,{container:!0},a.createElement(g.Grid,{item:!0,xs:12,sm:12},a.createElement(g.Box,{display:"flex",flexDirection:"row-reverse",className:le.topSpacing,alignItems:"center"},a.createElement(l.SeamlessButton,{variant:"contained",disabled:1!==R.length,onClick:function(e){var t;((null===(t=ee.updateFields)||void 0===t?void 0:t.inventoryAttributes)||[]).push({dataName:"",dataValue:"",showDelete:!0}),oe("updateFields.inventoryAttributes",ee.updateFields.inventoryAttributes)},color:"primary",startIcon:a.createElement(w.Add,null)},N("addData"))))))),a.createElement(l.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:le.btnSpace,onClick:ie},N("closeButton")),a.createElement(l.SeamlessButton,{id:"seamless-inventory-form",variant:"contained",color:"primary",onClick:function(e){se(!0),re()}},N("submitButton")))))};var k=n(44104),T=n.n(k);const N="IMPORT",F="CREATE_IMPORT",Z="IMPORT_LIST",B="UPDATE_INVENTORY",R="BOXES_INVENTORY",D="PRODUCT_INVENTORY",j=function(){var e=(0,i.useTranslation)().t,t=(0,o.useParams)().sku,n=(0,u._8)(),r=n.includeOwnInventory,s=n.resellers;return a.createElement(l.SeamlessContainer,{title:e("nonSerializedPageTitle"),description:e("nonSerializedPageDescription")},a.createElement(c.fG,{fetchOwnStock:r,productSKU:t,childResellerIds:s&&s.map((function(e){return e.resellerId}))}))};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const A=function(){var e=(0,o.useRouteMatch)().path,t={searchFields:{inventoryIDType:"SERIAL",ownerId:"",productSKU:"",quantity:0,serials:[],range:{inventory_From:0,inventory_To:0}},updateFields:{location:"",ownerId:"",status:"",updateReason:""}},n=T()().AccessControlled;return a.createElement(o.Switch,null,a.createElement(o.Route,{path:e+"/boxes/:id/items/:id"},a.createElement(n,{feature:B},a.createElement(c.Rl,null,(function(e){var n=e.updateInventory;return a.createElement(P,{data:t,onFormSubmit:function(e,t){n({searchFields:z({},e.searchFields),updateFields:z({},e.updateFields)},t)}})})))),a.createElement(o.Route,{path:e+"/boxes/:id"},a.createElement(n,{feature:R},a.createElement(d,null))),a.createElement(o.Route,{path:e+"/nonserialized/:sku"},a.createElement(j,null)),a.createElement(o.Route,null,a.createElement(n,{feature:D},a.createElement(s,null))))},U=function(){var e=(0,o.useParams)().id,t=(0,i.useTranslation)().t;return a.createElement(l.SeamlessContainer,{title:t("importInventoryViewPageTitle"),description:t("importInventoryViewPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},a.createElement(c.kO,{id:e})))},V=function(){var e=(0,i.useTranslation)().t,t=(0,o.useRouteMatch)().path,n=T()().AccessControlled;return a.createElement(o.Switch,null,a.createElement(o.Route,{path:t+"/view/:id"},a.createElement(n,{feature:N},a.createElement(U,null))),a.createElement(o.Route,null,a.createElement(l.SeamlessContainer,{title:e("importInventoryPageTitle"),description:e("importInventoryPageDescription")},a.createElement(g.Box,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},a.createElement(n,{feature:F},a.createElement(c.kD,null))),a.createElement("div",{style:{height:600,width:"100%"}},a.createElement(n,{feature:Z},a.createElement(c.n6,null))))))}},33611:(e,t,n)=>{"use strict";n.d(t,{I0:()=>o,Lw:()=>l,ZP:()=>i});var r=(0,n(59257).createSlice)({name:"inventory",initialState:{loading:!1,isChild:!0,includeOwnInventory:!0,resellers:[],productSKUs:null,error:null},reducers:{addResellers:function(e,t){e.resellers=t.payload},addProducts:function(e,t){e.productSKUs=t.payload},selectChildren:function(e,t){e.isChild=t.payload},selectOwnInventory:function(e,t){e.includeOwnInventory=t.payload},removeReseller:function(e,t){e.resellers=e.resellers.filter((function(e){return e.resellerId!==t.payload.resellerId}))}}}),a=r.actions,o=a.addResellers,l=(a.addProducts,a.selectChildren,a.removeReseller,a.selectOwnInventory);const i=r.reducer},23664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(19721),a=n(23900);const o=function(){var e=(0,r.useSnackbar)().enqueueSnackbar,t=(0,a.useTranslation)().t;function n(e){var n=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(n=e[t])})),n}return{showSuccessMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"warning"})}}}},70913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(82609),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,'.apexcharts-canvas {\n    position: relative;\n    user-select: none;\n    /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n  }\n  \n  \n  /* scrollbar is not visible by default for legend, hence forcing the visibility */\n  .apexcharts-canvas ::-webkit-scrollbar {\n    -webkit-appearance: none;\n    width: 6px;\n  }\n  \n  .apexcharts-canvas ::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, .5);\n    box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n    -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  }\n  \n  \n  .apexcharts-inner {\n    position: relative;\n  }\n  \n  .apexcharts-text tspan {\n    font-family: inherit;\n  }\n  \n  .legend-mouseover-inactive {\n    transition: 0.15s ease all;\n    opacity: 0.20;\n  }\n  \n  .apexcharts-series-collapsed {\n    opacity: 0;\n  }\n  \n  .apexcharts-tooltip {\n    border-radius: 5px;\n    box-shadow: 2px 2px 6px -4px #999;\n    cursor: default;\n    font-size: 14px;\n    left: 62px;\n    opacity: 0;\n    pointer-events: none;\n    position: absolute;\n    top: 20px;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 12;\n    transition: 0.15s ease all;\n  }\n  \n  .apexcharts-tooltip.apexcharts-active {\n    opacity: 1;\n    transition: 0.15s ease all;\n  }\n  \n  .apexcharts-tooltip.apexcharts-theme-light {\n    border: 1px solid #e3e3e3;\n    background: rgba(255, 255, 255, 0.96);\n  }\n  \n  .apexcharts-tooltip.apexcharts-theme-dark {\n    color: #fff;\n    background: rgba(30, 30, 30, 0.8);\n  }\n  \n  .apexcharts-tooltip * {\n    font-family: inherit;\n  }\n  \n  \n  .apexcharts-tooltip-title {\n    padding: 6px;\n    font-size: 15px;\n    margin-bottom: 4px;\n  }\n  \n  .apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n    background: #ECEFF1;\n    border-bottom: 1px solid #ddd;\n  }\n  \n  .apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n    background: rgba(0, 0, 0, 0.7);\n    border-bottom: 1px solid #333;\n  }\n  \n  .apexcharts-tooltip-text-y-value,\n  .apexcharts-tooltip-text-goals-value,\n  .apexcharts-tooltip-text-z-value {\n    display: inline-block;\n    font-weight: 600;\n    margin-left: 5px;\n  }\n  \n  .apexcharts-tooltip-text-y-label:empty,\n  .apexcharts-tooltip-text-y-value:empty,\n  .apexcharts-tooltip-text-goals-label:empty,\n  .apexcharts-tooltip-text-goals-value:empty,\n  .apexcharts-tooltip-text-z-value:empty {\n    display: none;\n  }\n  \n  .apexcharts-tooltip-text-y-value,\n  .apexcharts-tooltip-text-goals-value,\n  .apexcharts-tooltip-text-z-value {\n    font-weight: 600;\n  }\n  \n  .apexcharts-tooltip-text-goals-label, \n  .apexcharts-tooltip-text-goals-value {\n    padding: 6px 0 5px;\n  }\n  \n  .apexcharts-tooltip-goals-group, \n  .apexcharts-tooltip-text-goals-label, \n  .apexcharts-tooltip-text-goals-value {\n    display: flex;\n  }\n  .apexcharts-tooltip-text-goals-label:not(:empty),\n  .apexcharts-tooltip-text-goals-value:not(:empty) {\n    margin-top: -6px;\n  }\n  \n  .apexcharts-tooltip-marker {\n    width: 12px;\n    height: 12px;\n    position: relative;\n    top: 0px;\n    margin-right: 10px;\n    border-radius: 50%;\n  }\n  \n  .apexcharts-tooltip-series-group {\n    padding: 0 10px;\n    display: none;\n    text-align: left;\n    justify-content: left;\n    align-items: center;\n  }\n  \n  .apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n    opacity: 1;\n  }\n  \n  .apexcharts-tooltip-series-group.apexcharts-active,\n  .apexcharts-tooltip-series-group:last-child {\n    padding-bottom: 4px;\n  }\n  \n  .apexcharts-tooltip-series-group-hidden {\n    opacity: 0;\n    height: 0;\n    line-height: 0;\n    padding: 0 !important;\n  }\n  \n  .apexcharts-tooltip-y-group {\n    padding: 6px 0 5px;\n  }\n  \n  .apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n    padding: 4px 8px;\n  }\n  \n  .apexcharts-tooltip-boxPlot {\n    display: flex;\n    flex-direction: column-reverse;\n  }\n  \n  .apexcharts-tooltip-box>div {\n    margin: 4px 0;\n  }\n  \n  .apexcharts-tooltip-box span.value {\n    font-weight: bold;\n  }\n  \n  .apexcharts-tooltip-rangebar {\n    padding: 5px 8px;\n  }\n  \n  .apexcharts-tooltip-rangebar .category {\n    font-weight: 600;\n    color: #777;\n  }\n  \n  .apexcharts-tooltip-rangebar .series-name {\n    font-weight: bold;\n    display: block;\n    margin-bottom: 5px;\n  }\n  \n  .apexcharts-xaxistooltip {\n    opacity: 0;\n    padding: 9px 10px;\n    pointer-events: none;\n    color: #373d3f;\n    font-size: 13px;\n    text-align: center;\n    border-radius: 2px;\n    position: absolute;\n    z-index: 10;\n    background: #ECEFF1;\n    border: 1px solid #90A4AE;\n    transition: 0.15s ease all;\n  }\n  \n  .apexcharts-xaxistooltip.apexcharts-theme-dark {\n    background: rgba(0, 0, 0, 0.7);\n    border: 1px solid rgba(0, 0, 0, 0.5);\n    color: #fff;\n  }\n  \n  .apexcharts-xaxistooltip:after,\n  .apexcharts-xaxistooltip:before {\n    left: 50%;\n    border: solid transparent;\n    content: " ";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n  }\n  \n  .apexcharts-xaxistooltip:after {\n    border-color: rgba(236, 239, 241, 0);\n    border-width: 6px;\n    margin-left: -6px;\n  }\n  \n  .apexcharts-xaxistooltip:before {\n    border-color: rgba(144, 164, 174, 0);\n    border-width: 7px;\n    margin-left: -7px;\n  }\n  \n  .apexcharts-xaxistooltip-bottom:after,\n  .apexcharts-xaxistooltip-bottom:before {\n    bottom: 100%;\n  }\n  \n  .apexcharts-xaxistooltip-top:after,\n  .apexcharts-xaxistooltip-top:before {\n    top: 100%;\n  }\n  \n  .apexcharts-xaxistooltip-bottom:after {\n    border-bottom-color: #ECEFF1;\n  }\n  \n  .apexcharts-xaxistooltip-bottom:before {\n    border-bottom-color: #90A4AE;\n  }\n  \n  .apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n    border-bottom-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n    border-bottom-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .apexcharts-xaxistooltip-top:after {\n    border-top-color: #ECEFF1\n  }\n  \n  .apexcharts-xaxistooltip-top:before {\n    border-top-color: #90A4AE;\n  }\n  \n  .apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n    border-top-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n    border-top-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .apexcharts-xaxistooltip.apexcharts-active {\n    opacity: 1;\n    transition: 0.15s ease all;\n  }\n  \n  .apexcharts-yaxistooltip {\n    opacity: 0;\n    padding: 4px 10px;\n    pointer-events: none;\n    color: #373d3f;\n    font-size: 13px;\n    text-align: center;\n    border-radius: 2px;\n    position: absolute;\n    z-index: 10;\n    background: #ECEFF1;\n    border: 1px solid #90A4AE;\n  }\n  \n  .apexcharts-yaxistooltip.apexcharts-theme-dark {\n    background: rgba(0, 0, 0, 0.7);\n    border: 1px solid rgba(0, 0, 0, 0.5);\n    color: #fff;\n  }\n  \n  .apexcharts-yaxistooltip:after,\n  .apexcharts-yaxistooltip:before {\n    top: 50%;\n    border: solid transparent;\n    content: " ";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n  }\n  \n  .apexcharts-yaxistooltip:after {\n    border-color: rgba(236, 239, 241, 0);\n    border-width: 6px;\n    margin-top: -6px;\n  }\n  \n  .apexcharts-yaxistooltip:before {\n    border-color: rgba(144, 164, 174, 0);\n    border-width: 7px;\n    margin-top: -7px;\n  }\n  \n  .apexcharts-yaxistooltip-left:after,\n  .apexcharts-yaxistooltip-left:before {\n    left: 100%;\n  }\n  \n  .apexcharts-yaxistooltip-right:after,\n  .apexcharts-yaxistooltip-right:before {\n    right: 100%;\n  }\n  \n  .apexcharts-yaxistooltip-left:after {\n    border-left-color: #ECEFF1;\n  }\n  \n  .apexcharts-yaxistooltip-left:before {\n    border-left-color: #90A4AE;\n  }\n  \n  .apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n    border-left-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n    border-left-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .apexcharts-yaxistooltip-right:after {\n    border-right-color: #ECEFF1;\n  }\n  \n  .apexcharts-yaxistooltip-right:before {\n    border-right-color: #90A4AE;\n  }\n  \n  .apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n    border-right-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n    border-right-color: rgba(0, 0, 0, 0.5);\n  }\n  \n  .apexcharts-yaxistooltip.apexcharts-active {\n    opacity: 1;\n  }\n  \n  .apexcharts-yaxistooltip-hidden {\n    display: none;\n  }\n  \n  .apexcharts-xcrosshairs,\n  .apexcharts-ycrosshairs {\n    pointer-events: none;\n    opacity: 0;\n    transition: 0.15s ease all;\n  }\n  \n  .apexcharts-xcrosshairs.apexcharts-active,\n  .apexcharts-ycrosshairs.apexcharts-active {\n    opacity: 1;\n    transition: 0.15s ease all;\n  }\n  \n  .apexcharts-ycrosshairs-hidden {\n    opacity: 0;\n  }\n  \n  .apexcharts-selection-rect {\n    cursor: move;\n  }\n  \n  .svg_select_boundingRect, .svg_select_points_rot {\n    pointer-events: none;\n    opacity: 0;\n    visibility: hidden;\n  }\n  .apexcharts-selection-rect + g .svg_select_boundingRect,\n  .apexcharts-selection-rect + g .svg_select_points_rot {\n    opacity: 0;\n    visibility: hidden;\n  }\n  \n  .apexcharts-selection-rect + g .svg_select_points_l,\n  .apexcharts-selection-rect + g .svg_select_points_r {\n    cursor: ew-resize;\n    opacity: 1;\n    visibility: visible;\n  }\n  \n  .svg_select_points {\n    fill: #efefef;\n    stroke: #333;\n    rx: 2;\n  }\n  \n  .apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n    cursor: crosshair\n  }\n  \n  .apexcharts-svg.apexcharts-zoomable.hovering-pan {\n    cursor: move\n  }\n  \n  .apexcharts-zoom-icon,\n  .apexcharts-zoomin-icon,\n  .apexcharts-zoomout-icon,\n  .apexcharts-reset-icon,\n  .apexcharts-pan-icon,\n  .apexcharts-selection-icon,\n  .apexcharts-menu-icon,\n  .apexcharts-toolbar-custom-icon {\n    cursor: pointer;\n    width: 20px;\n    height: 20px;\n    line-height: 24px;\n    color: #6E8192;\n    text-align: center;\n  }\n  \n  .apexcharts-zoom-icon svg,\n  .apexcharts-zoomin-icon svg,\n  .apexcharts-zoomout-icon svg,\n  .apexcharts-reset-icon svg,\n  .apexcharts-menu-icon svg {\n    fill: #6E8192;\n  }\n  \n  .apexcharts-selection-icon svg {\n    fill: #444;\n    transform: scale(0.76)\n  }\n  \n  .apexcharts-theme-dark .apexcharts-zoom-icon svg,\n  .apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n  .apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n  .apexcharts-theme-dark .apexcharts-reset-icon svg,\n  .apexcharts-theme-dark .apexcharts-pan-icon svg,\n  .apexcharts-theme-dark .apexcharts-selection-icon svg,\n  .apexcharts-theme-dark .apexcharts-menu-icon svg,\n  .apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n    fill: #f3f4f5;\n  }\n  \n  .apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n  .apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n  .apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n    fill: #008FFB;\n  }',""]);const o=a}}]);