(self.webpackChunk_unified_notification=self.webpackChunk_unified_notification||[]).push([[4141],{34579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(74315),i=n(2411),r=n.n(i),o=n(29971);const s=function(e){var t=r().useState(null),n=(0,a.Z)(t,2),i=n[0],s=n[1],l=(0,o.useSelector)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.rbac}),o.shallowEqual);return r().useEffect((function(){var t,n=(null===(t=l.features.find((function(t){return t.module===e})))||void 0===t?void 0:t.features)||[];s(n)}),[l]),i}},26694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>zt});var a=n(2411),i=n.n(a),r=n(48049),o=n(54297),s=n(63135),l=n(7560),c=n(55238),u=n(51119),m=n(74315),d=n(13248);const g=function(){var e=(0,d.useSnackbar)().enqueueSnackbar,t=(0,s.useTranslation)().t;function n(e){var n=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(n=e[t])})),n}return{showSuccessMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"warning"})}}};var f=n(41744),p=n.n(f),h=n(61416);const E=n.n(h)();var v=function(e,t,n,a){return E("/nms/api/classifiers?page=".concat(e,"&size=").concat(t,"&sort=").concat(a,":").concat(n))},y=function(e){return E("/nms/api/classifiers/".concat(e))},S=function(e){return E("/nms/api/keywords/".concat(e))},b=function(e,t,n,a){return E("/nms/api/conditions?page=".concat(e,"&size=").concat(t,"&sort=").concat(a,":").concat(n))},Z=function(e,t,n){return E("/nms/api/search/categories?size=".concat(e||10,"&sort=").concat(n||"id",":").concat(t||"desc"))},w=function(e){return E("/nms/api/conditions/".concat(e))},T=function(e){return E("/nms/api/classifiers/".concat(e.classifierId,"/messages"),{method:"POST",body:e})},C=function(e){return E("/nms/api/messages/".concat(e))};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}const x=function(e){var t=e.children,n=a.useState([]),i=(0,m.Z)(n,2),r=i[0],o=i[1],s=a.useState(!1),l=(0,m.Z)(s,2),c=l[0],d=l[1],p=a.useState(0),h=(0,m.Z)(p,2),E=h[0],y=h[1],S=(0,f.useServerTable)({page:0,perPage:20,order:"desc",orderBy:"id",filter:{}}),b=g(),Z=b.showErrorMessage;return b.showSuccessMessage,b.showInfoMessage,b.showWarningMessage,a.useEffect((function(){d(!0),v(S.page,S.perPage,S.order,S.orderBy).then((function(e){y(e.totalElements),o(e.classifiers)})).catch((function(e){Z(e)})).finally((function(){return d(!1)}))}),[S.page,S.perPage,S.order,S.orderBy]),a.createElement(a.Fragment,null,t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({classifiers:r,loading:c,count:E},S)))};var M=n(77277),k=n(38592),P=n(90436),O=n(75696),D=n(64874),N=n(60552),B=n(44104),R=n.n(B),V={messageTag:"messageTag",classifier:"classifier",messageType:"messageType",messageTemplateType:"messageTemplateType",language:"language",activationDate:"activationDate",status:"status"};const F="CREATE_MESSAGE",q="DELETE_MESSAGE",W="CLONE_MESSAGE",j="VIEW_MESSAGE",_="EDIT_MESSAGE",z="MESSAGE",L="CREATE_CLASSIFIER",A="EDIT_CLASSIFIER",H="VIEW_CLASSIFIER",K="CLASSIFIER",G="CREATE_CONDITION",U="EDIT_CONDITION",Y="VIEW_CONDITION",$="CONDITION",J="CREATE_KEYWORD",Q="VIEW_KEYWORD",X="EDIT_KEYWORD",ee="KEYWORD",te="ADHOC_BASED",ne="TRANSACTION_BASED",ae="UTILITY_MESSAGE";var ie=(0,O.makeStyles)((function(e){return(0,O.createStyles)({dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},element:{width:300},button:{width:80,marginRight:e.spacing(1)}})}));const re=function(e){var t=e.loading,n=e.classifiers,i=void 0===n?[]:n,l=e.page,c=e.perPage,u=e.order,d=e.orderBy,f=e.count,h=e.onPageChange,E=e.onPageSizeChange,v=e.onOrderByChange,y=e.onOrderChange,S=(0,s.useTranslation)().t,b=ie(),Z=a.useState(!1),w=(0,m.Z)(Z,2),T=w[0],C=w[1],I=a.useState(0),x=(0,m.Z)(I,2),O=x[0],B=x[1],V=a.useState(""),F=(0,m.Z)(V,2),q=F[0],W=F[1],j=g(),_=(j.showErrorMessage,j.showSuccessMessage,R()().checkPermission),z=function(){C(!1)},L=[{field:"tag",headerName:S("tag"),sortable:!0,width:300},{field:"transactionClassifier",headerName:S("value"),sortable:!0,width:600},{field:"actions",headerName:S("actions"),sortable:!1,renderCell:function(e){return a.createElement("div",null,a.createElement(k.Z,{size:"small",color:"primary","aria-label":"group action buttons"},_(A)&&a.createElement(M.Z,{onClick:function(){C(!0),B(e.getValue("id")),W(e.getValue("tag"))}},a.createElement(D.Z,{fontSize:"small"})),_(H)&&a.createElement(M.Z,{component:r.Link,to:"/home/notification/classifiers/view/"+e.getValue("id")},a.createElement(N.Z,{fontSize:"small"}))))},flex:1}];return a.createElement(a.Fragment,null,a.createElement(p(),{loading:t,onPageSizeChange:function(e){E(e.pageSize)},onPageChange:function(e){h(e.page)},onSortModelChange:function(e){e.sortModel[0]&&e.sortModel[0].sort?(v(e.sortModel[0].field),y(e.sortModel[0].sort)):(v(""),y("asc"))},sortModel:[{field:d,sort:u}],columnBuffer:2,pagination:!0,paginationMode:"server",sortingMode:"server",page:l,rows:i,pageSize:c,getRowId:function(e){return e.id},columns:L,rowCount:f}),a.createElement(o.SeamlessDialog,{open:T,onClose:z,className:b.dialogWrapper,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement("div",{className:b.modalContentSpacing},a.createElement(P.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:b.fontHeavy},S("editClassifiersPageTitle")),a.createElement(P.Z,{id:"transition-modal-description",variant:"body1"},S("EditConditionsConfirmationText")," ",q+" ?"),a.createElement(P.Z,{id:"transition-modal-description",variant:"body2"},S("EditconditionBody1")),a.createElement(P.Z,{id:"transition-modal-description",variant:"body2"},S("EditconditionBody2")),a.createElement(P.Z,{id:"transition-modal-description",variant:"body2"},S("EditconditionBody3"))),a.createElement("div",{className:b.modalContentSpacing},a.createElement(o.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:b.btnSpace,onClick:z},S("noConfirmationButton")),a.createElement(o.SeamlessButton,{type:"button",variant:"contained",color:"primary",component:r.Link,to:"/home/notification/classifiers/edit/"+O},S("yesConfirmationButton"))))))},oe=function(){return i().createElement(x,null,(function(e){var t=e.classifiers,n=e.loading,a=e.count,r=(0,c.Z)(e,["classifiers","loading","count"]);return i().createElement("div",{style:{height:600,marginTop:"1px"}},i().createElement(re,(0,l.Z)({classifiers:t,loading:n,count:a},r)))}))};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}const le=function(e){var t=e.children,n=a.useState([]),i=(0,m.Z)(n,2),r=i[0],o=i[1],s=a.useState(!1),l=(0,m.Z)(s,2),c=l[0],d=l[1],p=a.useState(0),h=(0,m.Z)(p,2),v=h[0],y=h[1],S=(0,f.useServerTable)({page:0,perPage:20,order:"desc",orderBy:"id",filter:{}}),b=g(),Z=b.showErrorMessage;return b.showSuccessMessage,b.showInfoMessage,b.showWarningMessage,a.useEffect((function(){var e,t,n,a;d(!0),(e=S.page,t=S.perPage,n=S.order,a=S.orderBy,E("/nms/api/keywords?page=".concat(e,"&size=").concat(t,"&sort=").concat(a,":").concat(n))).then((function(e){y(e.totalElements),o(e.keywords)})).catch((function(e){Z(e)})).finally((function(){return d(!1)}))}),[S.page,S.perPage,S.order,S.orderBy]),a.createElement(a.Fragment,null,t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({keywords:r,loading:c,count:v},S)))};var ce=(0,O.makeStyles)((function(e){return(0,O.createStyles)({dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},element:{width:300},button:{width:80,marginRight:e.spacing(1)}})}));const ue=function(e){var t=e.loading,n=e.keywords,i=void 0===n?[]:n,l=e.page,c=e.perPage,u=e.order,d=e.orderBy,f=e.count,h=e.onPageChange,E=e.onPageSizeChange,v=e.onOrderByChange,y=e.onOrderChange,S=(0,s.useTranslation)().t,b=ce(),Z=a.useState(!1),w=(0,m.Z)(Z,2),T=w[0],C=w[1],I=a.useState(0),x=(0,m.Z)(I,2),O=x[0],B=x[1],V=a.useState(""),F=(0,m.Z)(V,2),q=F[0],W=F[1],j=R()().checkPermission,_=g(),z=(_.showErrorMessage,_.showSuccessMessage,function(){C(!1)}),L=[{field:"name",headerName:S("name"),sortable:!0,width:200},{field:"templateValue",headerName:S("templateValue"),sortable:!0,width:600},{field:"categoryName",headerName:S("categoryName"),sortable:!0,width:200},{field:"actions",headerName:S("actions"),sortable:!1,renderCell:function(e){return a.createElement("div",null,a.createElement(k.Z,{size:"small",color:"primary","aria-label":"group action buttons"},j(X)&&a.createElement(M.Z,{onClick:function(){C(!0),B(e.getValue("id")),W(e.getValue("name"))}},a.createElement(D.Z,{fontSize:"small"})),j(Q)&&a.createElement(M.Z,{component:r.Link,to:"/home/notification/keywords/view/"+e.getValue("id")},a.createElement(N.Z,{fontSize:"small"}))))},flex:1}];return a.createElement(a.Fragment,null,a.createElement(p(),{loading:t,onPageSizeChange:function(e){E(e.pageSize)},onPageChange:function(e){h(e.page)},onSortModelChange:function(e){e.sortModel[0]&&e.sortModel[0].sort?(v(e.sortModel[0].field),y(e.sortModel[0].sort)):(v(""),y("asc"))},sortModel:[{field:d,sort:u}],columnBuffer:2,disableColumnFilter:!0,pagination:!0,paginationMode:"server",sortingMode:"server",page:l,rows:i,pageSize:c,getRowId:function(e){return e.id},columns:L,rowCount:f}),a.createElement(o.SeamlessDialog,{open:T,onClose:z,className:b.dialogWrapper,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement("div",{className:b.modalContentSpacing},a.createElement(P.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:b.fontHeavy},S("EditKeywordsConfirmationTitle")),a.createElement(P.Z,{id:"transition-modal-description",variant:"body1"},S("EditKeywordsConfirmationText")," ",q+" ?")),a.createElement("div",{className:b.modalContentSpacing},a.createElement(o.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:b.btnSpace,onClick:z},S("noConfirmationButton")),a.createElement(o.SeamlessButton,{type:"button",variant:"contained",color:"primary",component:r.Link,to:"/home/notification/keywords/edit/"+O},S("yesConfirmationButton"))))))},me=function(){return i().createElement(le,null,(function(e){var t=e.keywords,n=e.loading,a=e.count,r=(0,c.Z)(e,["keywords","loading","count"]);return i().createElement("div",{style:{height:600,marginTop:"1px"}},i().createElement(ue,(0,l.Z)({keywords:t,loading:n,count:a},r)))}))};var de=n(60905),ge=n(86619),fe=n(79692),pe=n(12420),he=n(6277),Ee=n(77114),ve=n(8526),ye=n(77954),Se=(0,fe.Z)((function(e){return(0,pe.Z)({button:{marginTop:10},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},elementField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),width:550}})}));const be=function(e){var t=e.data,n=e.categories,i=e.onFormSubmit,c=e.view,u=e.edit,d=e.categoryview,g=Se(),f=a.useState(""),p=(0,m.Z)(f,2),h=p[0],E=p[1],v=(0,s.useTranslation)().t,y=ve.Ry().shape({name:ve.Z_().required(v("valueIsRequired")),templateValue:ve.Z_().required(v("valueIsRequired")),category:ve.Z_().required(v("valueIsRequired"))}),S=(0,Ee.TA)({initialValues:t,onSubmit:function(e){return i&&i(e)},validationSchema:y,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0}),b=S.values,Z=S.errors,w=S.handleChange,T=(S.handleBlur,S.handleSubmit),C=S.handleReset;return a.createElement(a.Fragment,null,a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,error:!!Z.name,helperText:Z.name,className:(0,he.default)(g.element),name:"name",value:b.name,onChange:function(e){c||w({target:{value:e.target.value.trimLeft(),name:"name"}})},label:v("name"),required:!0}))),a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,multiline:!0,rows:10,rowsMax:8,error:!!Z.templateValue,helperText:Z.templateValue,className:(0,he.default)(g.element),name:"templateValue",value:b.templateValue,onChange:function(e){c||w({target:{value:e.target.value.trimLeft(),name:"templateValue"}})},label:v("templateValue"),required:!0}))),a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(ye.ZP,{options:n||[],getOptionLabel:function(e){return(null==e?void 0:e.name)||d},onChange:function(e,t){c||E(t.id)},renderInput:function(e){return a.createElement(ge.Z,(0,l.Z)({},e,{label:v("category"),variant:"standard",required:!0,error:!!Z.category,helperText:null==Z?void 0:Z.category,disabled:u||c}))},value:b.category,autoComplete:!u,disabled:u||c}))),a.createElement(de.Z,{item:!0,xs:12},c?a.createElement(M.Z,{type:"button",component:r.Link,to:"/home/notification/keywords",className:(0,he.default)(g.element,g.button),color:"primary",variant:"contained"},v("back")):a.createElement(a.Fragment,null,a.createElement(M.Z,{type:"button",onClick:function(e){!u&&(b.category=h),T()},className:(0,he.default)(g.element,g.button),color:"primary",variant:"contained"},v("submitButton")),a.createElement(M.Z,{type:"button",onClick:function(e){C(e)},className:(0,he.default)(g.element,g.button),color:"primary",variant:"outlined"},v("resetButton")))))};var Ze=n(18896);const we=function(e){var t=e.disable,n=void 0!==t&&t,i=(0,s.useTranslation)().t;return a.createElement(o.SeamlessButton,{component:r.Link,to:"/home/notification/keywords/create",variant:"contained",color:"primary",disabled:n,endIcon:a.createElement(Ze.Z,null)},i("create"))};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}const Ce=function(e){var t=e.children,n=a.useState([]),i=(0,m.Z)(n,2),r=i[0],o=i[1],s=a.useState(!1),l=(0,m.Z)(s,2),c=l[0],d=l[1],p=a.useState(0),h=(0,m.Z)(p,2),E=h[0],v=h[1],y=(0,f.useServerTable)({page:0,perPage:20,order:"desc",orderBy:"id",filter:{}}),S=g(),Z=S.showErrorMessage;return S.showSuccessMessage,S.showInfoMessage,S.showWarningMessage,a.useEffect((function(){d(!0),b(y.page,y.perPage,y.order,y.orderBy).then((function(e){v(e.totalElements),o(e.conditions)})).catch((function(e){Z(e)})).finally((function(){return d(!1)}))}),[y.page,y.perPage,y.order,y.orderBy]),a.createElement(a.Fragment,null,t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({conditions:r,loading:c,count:E},y)))};var Ie=(0,O.makeStyles)((function(e){return(0,O.createStyles)({dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},element:{width:300},button:{width:80,marginRight:e.spacing(1)}})}));const xe=function(e){var t=e.loading,n=e.conditions,i=void 0===n?[]:n,l=e.page,c=e.perPage,u=e.order,d=e.orderBy,f=e.count,h=e.onPageChange,E=e.onPageSizeChange,v=e.onOrderByChange,y=e.onOrderChange,S=(0,s.useTranslation)().t,b=Ie(),Z=a.useState(!1),w=(0,m.Z)(Z,2),T=w[0],C=w[1],I=a.useState(0),x=(0,m.Z)(I,2),O=x[0],B=x[1],V=a.useState(""),F=(0,m.Z)(V,2),q=F[0],W=F[1],j=g(),_=(j.showErrorMessage,j.showSuccessMessage,R()().checkPermission),z=function(){C(!1)},L=[{field:"tag",headerName:S("tag"),sortable:!0,width:300},{field:"conditionExpression",headerName:S("Expression"),sortable:!0,width:600},{field:"actions",headerName:S("actions"),sortable:!1,renderCell:function(e){return a.createElement("div",null,a.createElement(k.Z,{size:"small",color:"primary","aria-label":"group action buttons"},_(U)&&a.createElement(M.Z,{onClick:function(){C(!0),B(e.getValue("id")),W(e.getValue("tag"))}},a.createElement(D.Z,{fontSize:"small"})),_(Y)&&a.createElement(M.Z,{component:r.Link,to:"/home/notification/conditions/view/"+e.getValue("id")},a.createElement(N.Z,{fontSize:"small"}))))},flex:1}];return a.createElement(a.Fragment,null,a.createElement(p(),{loading:t,onPageSizeChange:function(e){E(e.pageSize)},onPageChange:function(e){h(e.page)},onSortModelChange:function(e){e.sortModel[0]&&e.sortModel[0].sort?(v(e.sortModel[0].field),y(e.sortModel[0].sort)):(v(""),y("asc"))},sortModel:[{field:d,sort:u}],columnBuffer:2,pagination:!0,paginationMode:"server",sortingMode:"server",page:l,rows:i,pageSize:c,getRowId:function(e){return e.id},columns:L,rowCount:f}),a.createElement(o.SeamlessDialog,{open:T,onClose:z,className:b.dialogWrapper,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement("div",{className:b.modalContentSpacing},a.createElement(P.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:b.fontHeavy},S("EditConditionsConfirmationTitle")),a.createElement(P.Z,{id:"transition-modal-description",variant:"body1"},S("EditConditionsConfirmationText")," ",q+" ?"),a.createElement(P.Z,{id:"transition-modal-description",variant:"body2"},S("EditconditionBody1")),a.createElement(P.Z,{id:"transition-modal-description",variant:"body2"},S("EditconditionBody2")),a.createElement(P.Z,{id:"transition-modal-description",variant:"body2"},S("EditconditionBody3"))),a.createElement("div",{className:b.modalContentSpacing},a.createElement(o.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:b.btnSpace,onClick:z},S("noConfirmationButton")),a.createElement(o.SeamlessButton,{type:"button",variant:"contained",color:"primary",component:r.Link,to:"/home/notification/conditions/edit/"+O},S("yesConfirmationButton"))))))},Me=function(){return i().createElement(Ce,null,(function(e){var t=e.conditions,n=e.loading,a=e.count,r=(0,c.Z)(e,["conditions","loading","count"]);return i().createElement("div",{style:{height:600,marginTop:"1px"}},i().createElement(xe,(0,l.Z)({conditions:t,loading:n,count:a},r)))}))};var ke=(0,fe.Z)((function(e){return(0,pe.Z)({button:{marginTop:10},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},elementField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),width:550}})}));const Pe=function(e){var t=e.data,n=e.onFormSubmit,i=e.view,l=ke(),c=(0,s.useTranslation)().t,u=ve.Ry().shape({tag:ve.Z_().required(c("valueIsRequired")).matches(/^[a-zA-Z0-9_]+$/,c("alphaNumeric")).max(255),conditionExpression:ve.Z_().required(c("valueIsRequired")),description:ve.Z_().required(c("valueIsRequired"))}),m=(0,Ee.TA)({initialValues:t,onSubmit:function(e){return n&&n(e)},validationSchema:u,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0}),d=m.values,g=m.errors,f=m.handleChange,p=(m.handleBlur,m.handleSubmit),h=m.handleReset;return a.createElement(a.Fragment,null,a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,error:!!g.tag,helperText:g.tag,className:(0,he.default)(l.element),name:"tag",value:d.tag,onChange:i?void 0:function(e){return f(e)},label:c("tag"),required:!0}))),a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,multiline:!0,rows:10,rowsMax:8,error:!!g.conditionExpression,helperText:g.conditionExpression,className:(0,he.default)(l.element),name:"conditionExpression",value:d.conditionExpression,onChange:i?void 0:function(e){return f(e)},label:c("conditionExpression"),required:!0}))),a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,multiline:!0,rows:10,rowsMax:8,error:!!g.description,helperText:g.description,className:(0,he.default)(l.element),name:"description",value:d.description,onChange:i?void 0:function(e){return f(e)},label:c("description"),required:!0}))),i?a.createElement(M.Z,{type:"button",variant:"contained",color:"primary",component:r.Link,to:"/home/notification/conditions"},c("Back")):a.createElement(de.Z,{item:!0,xs:12},a.createElement(M.Z,{type:"button",onClick:function(e){p()},className:(0,he.default)(l.element,l.button),color:"primary",variant:"contained"},c("submitButton")),a.createElement(M.Z,{type:"button",onClick:h,className:(0,he.default)(l.element,l.button),color:"primary",variant:"outlined"},c("resetButton"))))},Oe=function(e){var t=e.disable,n=void 0!==t&&t,i=(0,s.useTranslation)().t;return a.createElement(o.SeamlessButton,{component:r.Link,to:"/home/notification/conditions/create",variant:"contained",color:"primary",disabled:n,endIcon:a.createElement(Ze.Z,null)},i("create"))};var De=(0,fe.Z)((function(e){return(0,pe.Z)({button:{marginTop:10},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},elementField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),width:550}})}));const Ne=function(e){var t=e.data,n=e.onFormSubmit,i=e.view,l=De(),c=(0,s.useTranslation)().t,u=ve.Ry().shape({tag:ve.Z_().required(c("valueIsRequired")).matches(/^[a-zA-Z0-9_]+$/,c("alphaNumeric")).max(255),transactionClassifier:ve.Z_().required(c("valueIsRequired"))}),m=(0,Ee.TA)({initialValues:t,onSubmit:function(e){return n&&n(e)},validationSchema:u,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0}),d=m.values,g=m.errors,f=m.handleChange,p=(m.handleBlur,m.handleSubmit),h=m.handleReset;return a.createElement(a.Fragment,null,a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,error:!!g.tag,helperText:g.tag,className:(0,he.default)(l.element),name:"tag",value:d.tag,onChange:i?void 0:function(e){return f(e)},label:c("tag"),required:!0}))),a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,multiline:!0,rows:10,rowsMax:8,error:!!g.transactionClassifier,helperText:g.transactionClassifier,className:(0,he.default)(l.element),name:"transactionClassifier",value:d.transactionClassifier,onChange:i?void 0:function(e){return f(e)},label:c("value"),required:!0}))),i?a.createElement(M.Z,{type:"button",variant:"contained",color:"primary",component:r.Link,to:"/home/notification/classifiers"},c("Back")):a.createElement(de.Z,{item:!0,xs:12},a.createElement(M.Z,{type:"button",onClick:function(e){p()},className:(0,he.default)(l.element,l.button),color:"primary",variant:"contained"},c("submitButton")),a.createElement(M.Z,{type:"button",onClick:h,className:(0,he.default)(l.element,l.button),color:"primary",variant:"outlined"},c("resetButton"))))},Be=function(e){var t=e.disable,n=void 0!==t&&t,i=(0,s.useTranslation)().t;return a.createElement(o.SeamlessButton,{component:r.Link,to:"/home/notification/classifiers/create",variant:"contained",color:"primary",disabled:n,endIcon:a.createElement(Ze.Z,null)},i("create"))};var Re=n(11746);const Ve=function(e){var t=e.children,n=(e.refresh,a.useState([])),i=(0,m.Z)(n,2),r=i[0],o=i[1],l=a.useState(!1),c=(0,m.Z)(l,2),u=c[0],d=c[1],f=a.useState(0),p=(0,m.Z)(f,2),h=p[0],v=p[1],y=a.useState([]),S=(0,m.Z)(y,2),b=S[0],Z=S[1],w=a.useState({filters:b}),T=(0,m.Z)(w,2),C=T[0],I=T[1],x=a.useState(0),M=(0,m.Z)(x,2),k=M[0],P=M[1],O=a.useState("asc"),D=(0,m.Z)(O,2),N=D[0],B=D[1],R=a.useState("id"),F=(0,m.Z)(R,2),q=F[0],W=F[1],j=a.useState(30),_=(0,m.Z)(j,2),z=_[0],L=(_[1],a.useCallback((function(e){var t=e.sortModel[0].field,n=e.sortModel[0].sort;W(t),B(n)}),[])),A=((0,s.useTranslation)().t,a.useCallback((function(e){var t,n=e.filterModel.items[0].value,a=e.filterModel.items[0].columnField,i=e.filterModel.items[0].operatorValue,r={key:Object.keys(V)[Object.values(V).indexOf(a)],operation:i,value:n};P(0),n?(Z([].concat((0,Re.Z)(b),[r])),t={filters:[].concat((0,Re.Z)(b),[r])},I(t)):I(t={filters:[]})}),[])),H=a.useCallback((function(e){P(e)}),[]),K=g(),G=K.showErrorMessage;return K.showSuccessMessage,K.showInfoMessage,K.showWarningMessage,a.useEffect((function(){var e,t,n;d(!0),C.filters.length>0?function(e,t,n,a,i,r,o){return E("/nms/api/search/messagesByQueryCriteria?column=".concat(e,"&operator=").concat(t,"&value=").concat(n,"&page=").concat(a,"&size=").concat(i,"&sort=").concat(o,":").concat(r))}(null==C||null===(e=C.filters[0])||void 0===e?void 0:e.key,null==C||null===(t=C.filters[0])||void 0===t?void 0:t.operation,null==C||null===(n=C.filters[0])||void 0===n?void 0:n.value,k,z,N,q).then((function(e){v(e.totalElements),o(e.messages)})).catch((function(e){G(e)})).finally((function(){return d(!1)})):function(e,t,n,a){return E("/nms/api/messages?page=".concat(e,"&size=").concat(t,"&sort=").concat(a,":").concat(n))}(k,z,N,q).then((function(e){v(e.totalElements),o(e.messages)})).catch((function(e){G(e)})).finally((function(){return d(!1)}))}),[k,z,N,q,C]),a.createElement(a.Fragment,null,t({messages:r,loading:u,count:h,page:k,perPage:z,orderBy:q,order:N,onSort:L,setParentPage:H,filter:C,onFilterChange:A}))};var Fe=n(80030),qe=n(89058),We=n(27667),je=n(66054),_e=(0,O.makeStyles)((function(e){return(0,O.createStyles)({dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},element:{width:300},button:{width:80,marginRight:e.spacing(1)}})}));const ze=function(e){var t,n,i,l,u=e.loading,d=e.messages,f=void 0===d?[]:d,h=e.page,v=e.perPage,y=(e.order,e.orderBy,e.count),S=e.onSort,b=e.setParentPage,Z=e.onFilterChange,w=((0,c.Z)(e,["loading","messages","page","perPage","order","orderBy","count","onSort","setParentPage","onFilterChange"]),(0,s.useTranslation)().t),T=_e(),C=a.useState(0),I=(0,m.Z)(C,2),x=I[0],O=I[1],B=a.useState(""),V=(0,m.Z)(B,2),F=V[0],z=V[1],L=a.useState(!1),A=(0,m.Z)(L,2),H=A[0],K=A[1],G=R()().checkPermission,U=g(),Y=U.showErrorMessage,$=U.showSuccessMessage,J=null===(t=null===(n=window)||void 0===n||null===(i=n.config)||void 0===i||null===(l=i.notification)||void 0===l?void 0:l.isUnified)||void 0===t||t,Q=function(){K(!1)},X=[{field:"messageTag",headerName:w("messageTag"),sortable:!0,width:400},{field:"classifier",headerName:w("classifierTag"),sortable:!0,width:200,hide:!J,valueGetter:function(e){return e.row.classifier.tag}},{field:"messageType",headerName:w("messageType"),sortable:!0,width:150,valueGetter:function(e){return e.row.messageType.messageType}},{field:"messageTemplateType",headerName:w("messageTemplateType"),sortable:!0,width:150,hide:J,valueGetter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.messageTemplateType)||void 0===n?void 0:n.messageTemplateType}},{field:"recipient",headerName:w("recipient"),sortable:!0,width:150,hide:!J,filterable:J,valueGetter:function(e){return e.row.recipient.recipientType}},{field:"language",headerName:w("language"),sortable:!0,width:150,valueGetter:function(e){return e.row.language.name}},{field:"activationDate",headerName:w("activatedOn"),sortable:!0,width:200,valueFormatter:function(e){var t=e.row.activationDate;return t.split("T")[0]+" "+t.split("T")[1].slice(0,8)}},{field:"status",headerName:w("status"),sortable:!0,width:150,valueGetter:function(e){return e.row.status.status}},{field:"actions",headerName:w("actions"),sortable:!1,filterable:!1,width:200,renderCell:function(e){var t,n,i;return a.createElement(k.Z,{size:"small",color:"primary","aria-label":"group action buttons"},J?G(q)&&a.createElement(Fe.ZP,{title:"Delete"},a.createElement(M.Z,{onClick:function(){K(!0),O(e.getValue("id")),z(e.getValue("messageTag"))}},a.createElement(qe.Z,{fontSize:"small",style:{color:je.Z[400]}}))):G(q)&&"true"===(null==e||null===(t=e.row)||void 0===t?void 0:t.isDeletable)&&"DEFAULT"!=(null==e||null===(n=e.row)||void 0===n||null===(i=n.messageTemplateType)||void 0===i?void 0:i.messageTemplateType)&&a.createElement(Fe.ZP,{title:"Delete"},a.createElement(M.Z,{onClick:function(){K(!0),O(e.getValue("id")),z(e.getValue("messageTag"))}},a.createElement(qe.Z,{fontSize:"small",style:{color:je.Z[400]}}))),G(_)&&a.createElement(Fe.ZP,{title:"Edit"},a.createElement(M.Z,{component:r.Link,to:"/home/notification/messages/edit/"+e.getValue("id")},a.createElement(D.Z,{fontSize:"small"}))),G(j)&&a.createElement(Fe.ZP,{title:"View"},a.createElement(M.Z,{component:r.Link,to:"/home/notification/messages/view/"+e.getValue("id")},a.createElement(N.Z,{fontSize:"small"}))),G(W)&&a.createElement(Fe.ZP,{title:"Clone"},a.createElement(M.Z,{component:r.Link,to:"/home/notification/messages/clone/"+e.getValue("id")},a.createElement(We.Z,{fontSize:"small"}))))}}];return a.createElement(a.Fragment,null,a.createElement(p(),{loading:u,onPageChange:function(e){b(e.page)},onSortModelChange:S,paginationMode:"server",filterMode:"server",sortingMode:"server",columnBuffer:2,pagination:!0,page:h,rows:f,pageSize:v,getRowId:function(e){return e.id},columns:X,rowCount:y,onFilterModelChange:Z}),a.createElement(o.SeamlessDialog,{open:H,onClose:Q,className:T.dialogWrapper,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement("div",{className:T.modalContentSpacing},a.createElement(P.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6",className:T.fontHeavy},w("deleteMessagesConfirmationTitle")),a.createElement(P.Z,{id:"transition-modal-description",variant:"body1"},w("deleteMessagesConfirmationText")," ",F,"?")),a.createElement("div",{className:T.modalContentSpacing},a.createElement(o.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:T.btnSpace,onClick:Q},w("noConfirmationButton")),a.createElement(o.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:function(){var e;(e=x,E("/nms/api/messages/".concat(e),{method:"DELETE"})).then((function(e){var t;K(!1),$(w("deletedSuccesfully")),null===(t=document.querySelector("[data-id='"+x+"']"))||void 0===t||t.remove()})).catch((function(e){return Y(e)}))}},w("yesConfirmationButton"))))))},Le=function(e,t){return i().createElement(Ve,{refresh:t},(function(t){var n=t.messages,a=t.loading,r=t.count,o=(0,c.Z)(t,["messages","loading","count"]);return i().createElement("div",{style:{height:600,marginTop:"1px"}},i().createElement(ze,(0,l.Z)({},e,{messages:n,loading:a,count:r},o)))}))};var Ae=n(21324),He=n(4614),Ke=n(24276),Ge=n(61564),Ue=n(39590),Ye=n(19258);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=(0,fe.Z)((function(e){return(0,pe.Z)({button:{marginTop:20,"& .MuiButton-label":{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit",textTransform:"none"}},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1),"& .MuiSelect-select.MuiSelect-select":{backgroundColor:"#eeeeee",padding:"10px"}},dateField:{marginTop:e.spacing(1),width:"100%"},elementField:{marginLeft:e.spacing(18),marginBottom:e.spacing(1),"& .MuiSelect-select.MuiSelect-select":{backgroundColor:"#eeeeee",padding:"10px"}},modalContentSpacing:{marginBottom:e.spacing(3)},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"}},fontHeavy:{fontWeight:e.typography.fontWeightBold}})}));const Xe=function(e){var t,n,i,c,u,d,f,p,h,y,S,w,T,C=e.data,I=e.onFormSubmit,x=e.view,k=e.edit,O=Qe(),D=(0,s.useTranslation)().t,N=a.useState(!1),B=(0,m.Z)(N,2),R=B[0],V=B[1],F=null===(t=null===(n=window)||void 0===n||null===(i=n.config)||void 0===i||null===(c=i.notification)||void 0===c?void 0:c.isUnified)||void 0===t||t,q=(null===(u=window)||void 0===u||null===(d=u.config)||void 0===d||null===(f=d.notification)||void 0===f?void 0:f.classifierTag)||"CAMPAIGN_CLASSIFIER",W=(null===(p=window)||void 0===p||null===(h=p.config)||void 0===h||null===(y=h.notification)||void 0===y?void 0:y.recipientTag)||"Reciever",j=(null===(S=window)||void 0===S||null===(w=S.config)||void 0===w||null===(T=w.notification)||void 0===T||T.transactionCategory,ve.Ry().shape({classifierId:F?ve.Z_().required(D("valueIsRequired")):ve.Z_(),messageTag:ve.Z_().trim().required(D("valueIsRequired")).matches(/^[a-zA-Z0-9_]+$/,D("alphaNumeric")).max(255),messageTypeId:ve.Z_().trim().required(D("valueIsRequired")),activationDate:ve.Z_().required(D("valueIsRequired")),templateValue:ve.Z_().required(D("valueIsRequired")),languageId:ve.Z_().trim().required(D("valueIsRequired")),recipientId:F?ve.Z_().trim().required(D("valueIsRequired")):ve.Z_(),statusId:ve.Z_().trim().required(D("valueIsRequired"))})),_=(0,Ee.TA)({initialValues:C,onSubmit:function(e){return I&&I(e)},validationSchema:j,validateOnBlur:!0,validateOnChange:R,enableReinitialize:!0}),z=_.values,L=_.errors,A=_.handleChange,H=(_.handleBlur,_.handleSubmit),K=_.handleReset,G=a.useState([]),U=(0,m.Z)(G,2),Y=U[0],$=U[1],J=a.useState([]),Q=(0,m.Z)(J,2),X=Q[0],ee=Q[1],te=a.useState([]),ne=(0,m.Z)(te,2),ae=ne[0],ie=ne[1],re=a.useState([]),oe=(0,m.Z)(re,2),se=oe[0],le=oe[1],ce=a.useState([]),ue=(0,m.Z)(ce,2),me=ue[0],fe=ue[1],pe=a.useState([]),Se=(0,m.Z)(pe,2),be=Se[0],Ze=Se[1],we=a.useState([]),Te=(0,m.Z)(we,2),Ce=Te[0],Ie=Te[1],xe=a.useState([]),Me=(0,m.Z)(xe,2),ke=Me[0],Pe=Me[1],Oe=a.useState([]),De=(0,m.Z)(Oe,2),Ne=De[0],Be=De[1],Ve=a.useState([]),Fe=(0,m.Z)(Ve,2),qe=Fe[0],We=Fe[1],je=a.useState(!1),_e=(0,m.Z)(je,2),ze=_e[0],Le=_e[1],$e=a.useState(0),Xe=(0,m.Z)($e,2),et=(Xe[0],Xe[1],a.useState(!1)),tt=(0,m.Z)(et,2),nt=tt[0],at=tt[1],it=g(),rt=it.showErrorMessage;it.showSuccessMessage,it.showInfoMessage,it.showWarningMessage,a.useEffect((function(){Le(!0),v(0,1e9,"asc","id").then((function(e){$(e.classifiers)})).catch((function(e){rt(e)})).finally((function(){return Le(!1)})),b(0,1e9,"desc","id").then((function(e){var t=e.conditions.map((function(e){return{key:e.tag,value:e.tag}}));t.unshift({key:D("choose"),value:""}),Be(t)})).catch((function(e){rt(e)})).finally((function(){return Le(!1)}))}),[]),a.useEffect((function(){Le(!0),E("/nms/api/recipients").then((function(e){ie(e)})).catch((function(e){rt(e)})).finally((function(){return Le(!1)}))}),[]),a.useEffect((function(){Le(!0),E("/nms/api/status").then((function(e){ee(e)})).catch((function(e){rt(e)})).finally((function(){return Le(!1)}))}),[]),a.useEffect((function(){Le(!0),E("/nms/api/messageTypes").then((function(e){le(e.messageTypes)})).catch((function(e){rt(e)})).finally((function(){return Le(!1)}))}),[]),a.useEffect((function(){Le(!0),E("/nms/api/messageTemplateTypes").then((function(e){fe(e.messageTemplateTypes)})).catch((function(e){rt(e)})).finally((function(){return Le(!1)}))}),[]),a.useEffect((function(){Le(!0),E("/nms/api/languages").then((function(e){Ze(e.languages)})).catch((function(e){rt(e)})).finally((function(){return Le(!1)}))}),[]),a.useEffect((function(){Le(!0),Z(1e9,"asc","id").then((function(e){Ie(e.categories)})).catch((function(e){rt(e)})).finally((function(){return Le(!1)}))}),[]);var ot=function(){at(!1)},st=window.config.openCalendarWith||"year";return a.createElement(a.Fragment,null,a.createElement(de.Z,{container:!0,spacing:2},x?a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,className:(0,he.default)(O.element),name:"classifierId",value:z.classifierId,label:D("classifier"),required:!0,readOnly:x})):F&&a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessDropDown,{id:"classifierId-drop-down",fullWidth:!0,className:(0,he.default)(O.element),label:D("classifier"),helperText:L.classifierId,options:[{value:" ",key:"Select"}].concat((0,Re.Z)(null==Y?void 0:Y.map((function(e){return{key:e.tag,value:e.id}})))),name:"classifierId",value:z.classifierId,onChange:x?void 0:function(e){return A(e)},error:!!L.classifierId,required:!0,disabled:k}))),a.createElement(de.Z,{container:!0,spacing:2},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,error:!!L.messageTag,helperText:L.messageTag,className:(0,he.default)(O.element),name:"messageTag",value:z.messageTag,onChange:A,label:D("messageTag"),required:!0,readOnly:x}))),a.createElement(de.Z,{container:!0,spacing:3},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},x?a.createElement(o.SeamlessInput,{fullWidth:!0,className:(0,he.default)(O.element),name:"messageTypeId",value:z.messageTypeId,label:D("messageType"),required:!0,readOnly:x}):a.createElement(o.SeamlessDropDown,{id:"messageTypeId-drop-down",fullWidth:!0,className:(0,he.default)(O.element),label:D("messageType"),helperText:L.messageTypeId,options:[{value:" ",key:"Select"}].concat((0,Re.Z)(null==se?void 0:se.map((function(e){return{key:e.messageType,value:e.id}})))),name:"messageTypeId",value:z.messageTypeId,onChange:x?void 0:function(e){return A(e)},error:!!L.messageTypeId,required:!0})),x?a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(o.SeamlessInput,{fullWidth:!0,className:(0,he.default)(O.element),name:"activationDate",value:z.activationDate.toString().split("T")[0],label:D("activationDate"),required:!0,readOnly:x})):a.createElement(Ge.M,{utils:Ye.Z},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(Ue.e,{className:O.dateField,views:["year","month","date"],openTo:st,autoOk:!0,variant:"inline",format:"dd/MM/yyyy",label:D("activationDate"),name:"activationDate",value:z.activationDate||null,onChange:function(e){null!=e&&e.getDate()?A({target:{value:e.toISOString(),name:"activationDate"}}):A({target:{value:"",name:"activationDate"}})},error:!!L.activationDate,helperText:L.activationDate,minDate:new Date,required:!0,readOnly:x})))),a.createElement(de.Z,{container:!0,spacing:2},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,multiline:!0,rows:10,error:!!L.templateValue,helperText:L.templateValue,className:(0,he.default)(O.element),name:"templateValue",value:z.templateValue,onChange:A,label:D("templateValue"),required:!0,readOnly:x})),!x&&a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(M.Z,{onClick:function(){at(!0)},className:(0,he.default)(O.element,O.button),color:"secondary",variant:"text"},D("getKeywords")))),a.createElement(de.Z,{container:!0,spacing:2},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},x?a.createElement(o.SeamlessInput,{fullWidth:!0,className:(0,he.default)(O.element),name:"languageId",value:z.languageId,label:D("language"),required:!0,readOnly:x}):a.createElement(o.SeamlessDropDown,{id:"languageId-drop-down",fullWidth:!0,className:(0,he.default)(O.element),label:D("language"),helperText:L.languageId,options:[{value:" ",key:"Select"}].concat((0,Re.Z)(be.map((function(e){return{key:e.name,value:e.id}})))),name:"languageId",value:z.languageId,onChange:x?void 0:function(e){return A(e)},error:!!L.languageId,required:!0})),x?a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(o.SeamlessInput,{fullWidth:!0,className:(0,he.default)(O.element),name:"recipientId",value:z.recipientId,label:D("recipient"),required:!0,readOnly:x})):F&&a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(o.SeamlessDropDown,{id:"recipientId-drop-down",fullWidth:!0,className:(0,he.default)(O.element),label:D("recipient"),helperText:L.recipientId,options:[{value:" ",key:"Select"}].concat((0,Re.Z)(null==ae?void 0:ae.map((function(e){return{key:e.recipientType,value:e.id}})))),name:"recipientId",value:z.recipientId,onChange:x?void 0:function(e){return A(e)},error:!!L.recipientId,required:!0})),a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},x?a.createElement(o.SeamlessInput,{fullWidth:!0,className:(0,he.default)(O.element),name:"statusId",value:z.statusId,label:D("status"),required:!0,readOnly:x}):a.createElement(o.SeamlessDropDown,{id:"status-drop-down",fullWidth:!0,className:(0,he.default)(O.element),label:D("status"),helperText:L.statusId,options:[{value:" ",key:"Select"}].concat((0,Re.Z)(null==X?void 0:X.map((function(e){return{key:e.status,value:e.id}})))),name:"statusId",value:z.statusId,onChange:x?void 0:function(e){return A(e)},error:!!L.statusId,required:!0})),a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},x?a.createElement(o.SeamlessInput,{fullWidth:!0,className:(0,he.default)(O.element),name:"messageTemplateTypeId",value:z.messageTemplateTypeId,label:D("messageTemplateType"),required:!0,readOnly:x}):a.createElement(o.SeamlessDropDown,{id:"messageTemplateType",fullWidth:!0,className:(0,he.default)(O.element),label:D("messageTemplateType"),helperText:L.messageTemplateTypeId,options:[{value:" ",key:"Select"}].concat((0,Re.Z)(null==me?void 0:me.map((function(e){return{key:e.messageTemplateType,value:e.id}})))),name:"messageTemplateTypeId",value:z.messageTemplateTypeId,onChange:x?void 0:function(e){return A(e)},error:!!L.messageTemplateTypeId,required:!0}))),F&&a.createElement(de.Z,{container:!0,spacing:2},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(o.SeamlessInput,{fullWidth:!0,error:!!L.expressionValue,helperText:L.expressionValue,className:(0,he.default)(O.element),name:"expressionValue",value:z.expressionValue,onChange:x?void 0:function(e){return A(e)},label:D("conditionExpression"),readOnly:x})),a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(ye.ZP,{id:"commissionExpression",disabled:x,fullWidth:!0,className:(0,he.default)(O.element),options:Ne,getOptionLabel:function(e){return e.key||z.conditionExpression||""},defaultValue:z.conditionExpression,getOptionSelected:function(e,t){return e.value==z.conditionExpression},size:"small",value:z.conditionExpression,onChange:function(e,t){A({target:{value:t.value,name:"conditionExpression"}})},disableClearable:ze,renderInput:function(e){return a.createElement(ge.Z,(0,l.Z)({},e,{name:"conditionExpression",error:!!L.conditionExpression,helperText:L.conditionExpression,variant:"filled",label:D("condition"),InputProps:Je(Je({},e.InputProps),{},{endAdornment:a.createElement(a.Fragment,null,ze?a.createElement(He.Z,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))}}))),x?a.createElement(M.Z,{type:"button",variant:"contained",color:"primary",component:r.Link,to:"/home/notification/messages"},D("Back")):a.createElement(de.Z,{item:!0,xs:12},a.createElement(M.Z,{type:"button",onClick:function(e){var t,n;z.classifierId=F?z.classifierId:null==Y||null===(t=Y.filter((function(e){return(null==e?void 0:e.tag)===q}))[0])||void 0===t?void 0:t.id,z.recipientId=F?z.recipientId:null==ae||null===(n=ae.filter((function(e){return(null==e?void 0:e.recipientType)===W}))[0])||void 0===n?void 0:n.id,H(),V(!0)},className:(0,he.default)(O.element,O.button),color:"primary",variant:"contained",disabled:k&&JSON.stringify(z)===JSON.stringify(C)},D("submitButton")),a.createElement(M.Z,{type:"button",onClick:function(e){V(!1),K(e)},className:(0,he.default)(O.element,O.button),color:"primary",variant:"outlined"},D("resetButton"))),a.createElement(o.SeamlessDialog,{open:nt,onClose:ot,className:O.dialogWrapper,fullWidth:!0,maxWidth:"sm"},a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement(P.Z,{gutterBottom:!0,id:"transition-modal-title",variant:"h6"},D("getKeywordsPageTitle"))),a.createElement("div",{className:O.modalContentSpacing},a.createElement(de.Z,{container:!0,spacing:3},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessDropDown,{id:"category-drop-down",fullWidth:!0,className:(0,he.default)(O.elementField),label:D("getTransactionCategory"),options:[{value:" ",key:"Select"}].concat((0,Re.Z)(null==Ce?void 0:Ce.map((function(e){return{key:e.name,value:e.name}})))),name:"categoryId",onChange:function(e){var t;A(e);var n=null===(t=Ce.filter((function(t){return(null==t?void 0:t.name)===e.target.value}))[0])||void 0===t?void 0:t.keywordList;Pe(n)}}))),a.createElement(de.Z,{container:!0,spacing:3},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(ye.ZP,{multiple:!0,fullWidth:!0,className:(0,he.default)(O.elementField),disableCloseOnSelect:!0,options:ke,getOptionLabel:function(e){return e.name},onChange:function(e,t){We(t.map((function(e){return e.templateValue})))},renderInput:function(e){return a.createElement(ge.Z,(0,l.Z)({},e,{variant:"standard",label:D("getTransactionKeyword")}))},renderOption:function(e,t){var n=t.selected;return a.createElement(a.Fragment,null,a.createElement(Ae.Z,{icon:a.createElement(Ke.Z,{color:"primary"},"check_box_outline_blank"),checkedIcon:a.createElement(Ke.Z,{color:"secondary"},"check_box"),style:{marginRight:8},checked:n}),null==e?void 0:e.name)}}))),a.createElement(de.Z,{item:!0,xs:12},a.createElement(M.Z,{type:"button",onClick:function(e){z.templateValue=z.templateValue+qe.join(" "),ot(),Pe([])},className:(0,he.default)(O.element,O.button),color:"primary",variant:"contained"},D("yesConfirmationButton")),a.createElement(M.Z,{type:"button",onClick:function(){ot(),We([]),Pe([])},className:(0,he.default)(O.element,O.button),color:"secondary",variant:"contained"},D("noConfirmationButton")))))))},et=function(e){var t=e.disable,n=void 0!==t&&t,i=(0,s.useTranslation)().t;return a.createElement(o.SeamlessButton,{component:r.Link,to:"/home/notification/messages/create",variant:"contained",color:"primary",disabled:n,endIcon:a.createElement(Ze.Z,null)},i("create"))};var tt=n(33553),nt=(0,fe.Z)((function(e){return(0,pe.Z)({button:{marginTop:10,"& .MuiButton-label":{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit",textTransform:"none"}},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},elementField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),width:550}})}));const at=function(e){var t=e.data,n=e.onFormSubmit,i=e.loading,l=nt(),c=(0,s.useTranslation)().t,u=(0,r.useHistory)(),d=a.useState(!0),g=(0,m.Z)(d,2),f=g[0],p=g[1],h=ve.Ry().shape({message:ve.Z_().required(c("valueIsRequired")),notificationType:ve.Z_().required(c("valueIsRequired")),recipientId:f?ve.Z_().typeError(c("mustBeNumber")).matches(/^[0-9]+$/,c("mustBeNumber")).required(c("valueIsRequired")):ve.Z_().email("Must be a valid email").required(c("valueIsRequired"))}),E=(0,Ee.TA)({initialValues:t,onSubmit:function(e){return n&&n(e)},validationSchema:h,validateOnChange:!1,enableReinitialize:!0}),v=E.values,y=E.errors,S=E.handleChange,b=(E.handleBlur,E.handleSubmit),Z=E.handleReset;return a.createElement(tt.Z,null,a.createElement(de.Z,{container:!0,spacing:2},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(o.SeamlessDropDown,{fullWidth:!0,className:(0,he.default)(l.element),label:c("messageType"),helperText:y.notificationType,options:[{value:"SMS",key:"SMS"},{value:"EMAIL",key:"EMAIL"}],name:"notificationType",value:v.notificationType,onChange:function(e){S(e),"EMAIL"===e.target.value?p(!1):p(!0)},error:!!y.notificationType,required:!0}))),a.createElement(de.Z,{container:!0,spacing:2},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,error:!!y.recipientId,helperText:y.recipientId,className:(0,he.default)(l.element),name:"recipientId",value:v.recipientId,onChange:function(e){return S(e)},label:"SMS"===v.notificationType?c("MSISDN"):c("email"),required:!0}))),a.createElement(de.Z,{container:!0,spacing:2},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:6},a.createElement(o.SeamlessInput,{fullWidth:!0,multiline:!0,rows:10,rowsMax:8,error:!!y.message,helperText:y.message,className:(0,he.default)(l.element),name:"message",value:v.message,onChange:function(e){return S(e)},label:c("message"),required:!0}))),a.createElement(de.Z,{item:!0,xs:12},a.createElement(M.Z,{type:"button",onClick:function(e){b()},className:(0,he.default)(l.element,l.button),color:"primary",variant:"contained",disabled:i},c("submitButton")),a.createElement(M.Z,{type:"button",onClick:function(e){Z(e),u.push("/home/notification/messages")},className:(0,he.default)(l.element,l.button),color:"secondary",variant:"contained"},c("cancel"))))};var it=(0,fe.Z)((function(e){return(0,pe.Z)({button:{marginTop:10,"& .MuiButton-label":{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit",textTransform:"none"}},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},elementField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),width:550}})}));const rt=function(){var e=it(),t=(0,s.useTranslation)().t,n=(0,r.useHistory)(),i=a.useState(!1),l=(0,m.Z)(i,2),c=(l[0],l[1]),u=g(),d=u.showErrorMessage,f=u.showSuccessMessage,p=a.useState(""),h=(0,m.Z)(p,2),v=h[0],y=h[1],S=a.useCallback((function(e){c(!0),function(e){var t={method:"POST"};return t.headers=new Headers,t.headers.append("Content-Type","application/json"),E("/nms/action/send-txe-notification?reference=".concat(e),t)}(e).then((function(e){f(e),n.push("/home/notification/messages")})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);return a.createElement(a.Fragment,null,a.createElement(de.Z,{container:!0},a.createElement(de.Z,{item:!0,xs:12,sm:6,md:3},a.createElement(o.SeamlessInput,{fullWidth:!0,className:(0,he.default)(e.element),helperText:v?"":t("valueIsRequired"),name:"transactionId",onChange:function(e){y(e.target.value)},label:t("transactionId"),required:!0}))),a.createElement(de.Z,{item:!0,xs:12},a.createElement(M.Z,{type:"button",onClick:function(e){S(v)},className:(0,he.default)(e.element,e.button),color:"primary",variant:"contained",disabled:!v},t("submitButton")),a.createElement(M.Z,{type:"button",onClick:function(){y(""),n.push("/home/notification/messages")},className:(0,he.default)(e.element,e.button),color:"secondary",variant:"contained"},t("cancel"))))},ot=function(){var e=(0,s.useTranslation)().t,t=R()().checkPermission;return a.createElement(o.SeamlessContainer,{title:e("viewClassifiersPageTitle"),description:e("viewClassifiersPageDescription")}," ",t(L)&&a.createElement(tt.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},a.createElement(Be,null)),a.createElement(oe,null))},st=function(){var e=(0,s.useTranslation)().t,t=R()().checkPermission;return a.createElement(o.SeamlessContainer,{title:e("viewKeywordsPageTitle"),description:e("viewKeywordsPageDescription")},t(J)&&a.createElement(tt.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},a.createElement(we,null)),a.createElement(me,null))},lt=function(){var e=(0,s.useTranslation)().t,t=R()().checkPermission;return a.createElement(o.SeamlessContainer,{title:e("viewConditionsPageTitle"),description:e("viewConditionsPageDescription")},t(G)&&a.createElement(tt.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},a.createElement(Oe,null)),a.createElement(Me,null))};var ct={tag:"",conditionExpression:"",description:""};const ut=function(){var e=a.useState(!1),t=(0,m.Z)(e,2),n=(t[0],t[1]),i=g(),l=i.showErrorMessage,c=i.showSuccessMessage,u=(0,s.useTranslation)().t,d=(0,r.useHistory)(),f=a.useCallback((function(e){n(!0),function(e){return E("/nms/api/conditions",{method:"POST",body:e})}(e).then((function(){c(u("ConditionCreatedSuccessfully")),d.push("/home/notification/conditions")})).catch((function(e){return l(e)})).finally((function(){return n(!1)}))}),[]);return a.createElement(o.SeamlessContainer,{title:u("createConditions"),description:u("createConditionsPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},a.createElement(Pe,{data:ct,onFormSubmit:function(e){return f(e)},view:!1})))};var mt={name:"",templateValue:"",category:""};const dt=function(){var e=a.useState(!1),t=(0,m.Z)(e,2),n=(t[0],t[1]),i=a.useState([]),l=(0,m.Z)(i,2),c=l[0],u=l[1],d=g(),f=d.showErrorMessage,p=d.showSuccessMessage,h=(0,s.useTranslation)().t,v=(0,r.useHistory)(),y=a.useCallback((function(e){n(!0);var t={};Object.keys(e).forEach((function(n){e["".concat(n)]&&(t["".concat(n)]=e["".concat(n)])})),function(e){return E("/nms/api/categories/".concat(e.category,"/keywords"),{method:"POST",body:e})}(t).then((function(){p(h("KeywordCreatedSuccessfully")),v.push("/home/notification/keywords")})).catch((function(e){return f(e)})).finally((function(){return n(!1)}))}),[]);return a.useEffect((function(){n(!0),Z().then((function(e){u(e.categories)})).catch((function(e){f("There was an error")})).finally((function(){return n(!1)}))}),[]),a.createElement(o.SeamlessContainer,{title:h("createKeywords"),description:h("createKeywordsPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},a.createElement(be,{data:mt,categories:c,edit:!1,view:!1,onFormSubmit:function(e){return y(e)}})))};var gt=n(67358),ft={tag:"",conditionExpression:"",description:""};const pt=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=u.showSuccessMessage,p=(0,r.useHistory)(),h=a.useState(ft),v=(0,m.Z)(h,2),y=v[0],S=v[1];a.useEffect((function(){c(!0),w(t).then((function(e){return S(e)})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);var b=a.useCallback((function(n){var a={tag:n.tag,conditionExpression:n.conditionExpression,description:n.description};c(!0),function(e,t){return E("/nms/api/conditions/".concat(t),{method:"PUT",body:e})}(a,t).then((function(t){f(e("ConditionUpdatedSuccessfully")),p.push("/home/notification/conditions")})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);return a.createElement(o.SeamlessContainer,{title:e("editConditionsPageTitle"),description:e("editConditionsPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},y?a.createElement(Pe,{data:y,onFormSubmit:function(e){return b(e)},view:!1}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var ht={tag:"",conditionExpression:"",description:""};const Et=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=(u.showSuccessMessage,(0,r.useHistory)(),a.useState(ht)),p=(0,m.Z)(f,2),h=p[0],E=p[1];a.useEffect((function(){c(!0),w(t).then((function(e){return E(e)})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);var v=a.useCallback((function(e){e.tag,e.conditionExpression,e.description,c(!0)}),[]);return a.createElement(o.SeamlessContainer,{title:e("viewConditionsPageTitle"),description:e("viewConditionByIdPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},h?a.createElement(Pe,{data:h,onFormSubmit:function(e){return v(e)},view:!0}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var vt={tag:"",transactionClassifier:""};const yt=function(){var e=a.useState(!1),t=(0,m.Z)(e,2),n=(t[0],t[1]),i=g(),l=i.showErrorMessage,c=i.showSuccessMessage,u=(0,s.useTranslation)().t,d=(0,r.useHistory)(),f=a.useCallback((function(e){n(!0),function(e){return E("/nms/api/classifiers",{method:"POST",body:e})}(e).then((function(){c(u("ClassifierCreatedSuccessfully")),d.push("/home/notification/classifiers")})).catch((function(e){return l(e)})).finally((function(){return n(!1)}))}),[]);return a.createElement(o.SeamlessContainer,{title:u("createClassifiers"),description:u("createClassifiersPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},a.createElement(Ne,{data:vt,onFormSubmit:function(e){return f(e)},view:!1})))},St=function(){var e=R()().checkPermission,t=(0,s.useTranslation)().t;return a.createElement(o.SeamlessContainer,{title:t("viewMessagesPageTitle"),description:t("viewMessagesPageDescription")},e(F)&&a.createElement(tt.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},a.createElement(et,null)),a.createElement(Le,null))};var bt={tag:"",transactionClassifier:""};const Zt=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=u.showSuccessMessage,p=(0,r.useHistory)(),h=a.useState(bt),v=(0,m.Z)(h,2),S=v[0],b=v[1];a.useEffect((function(){c(!0),y(t).then((function(e){return b(e)})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);var Z=a.useCallback((function(n){var a={tag:n.tag,transactionClassifier:n.transactionClassifier};c(!0),function(e,t){return E("/nms/api/classifiers/".concat(t),{method:"PUT",body:e})}(a,t).then((function(t){f(e("ClassifierUpdatedSuccessfully")),p.push("/home/notification/classifiers")})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);return a.createElement(o.SeamlessContainer,{title:e("editClassifiersPageTitle"),description:e("editClassifiersPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},S?a.createElement(Ne,{data:S,onFormSubmit:function(e){return Z(e)},view:!1}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var wt={tag:"",transactionClassifier:""};const Tt=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=(u.showSuccessMessage,(0,r.useHistory)(),a.useState(wt)),p=(0,m.Z)(f,2),h=p[0],E=p[1];a.useEffect((function(){c(!0),y(t).then((function(e){return E(e)})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);var v=a.useCallback((function(e){e.tag,e.transactionClassifier,c(!0)}),[]);return a.createElement(o.SeamlessContainer,{title:e("viewClassifiersPageTitle"),description:e("viewClassifiersByIdPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},h?a.createElement(Ne,{data:h,onFormSubmit:function(e){return v(e)},view:!0}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var Ct={name:"",templateValue:"",category:""};const It=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=u.showSuccessMessage,p=(0,r.useHistory)(),h=a.useState(Ct),v=(0,m.Z)(h,2),y=v[0],b=v[1],w=a.useState([]),T=(0,m.Z)(w,2),C=T[0],I=T[1],x=a.useState(""),M=(0,m.Z)(x,2),k=M[0],P=M[1];a.useEffect((function(){c(!0),S(t).then((function(e){P(e.categoryName),b({name:e.name,id:e.id,templateValue:e.templateValue,category:e.categoryName})})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]),a.useEffect((function(){c(!0),Z().then((function(e){I(e.categories)})).catch((function(e){d("There was an error")})).finally((function(){return c(!1)}))}),[]);var O=a.useCallback((function(n){var a={id:t,name:n.name,templateValue:n.templateValue,category:n.category};c(!0),function(e,t){return E("/nms/api/keywords/".concat(t),{method:"PUT",body:e})}(a,t).then((function(){f(e("KeywordUpdatedSuccessfully")),p.push("/home/notification/keywords")})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);return a.createElement(o.SeamlessContainer,{title:e("editKeywordsPageTitle"),description:e("editKeywordsPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},y?a.createElement(be,{data:y,categories:C,categoryview:k,edit:!0,view:!1,onFormSubmit:function(e){return O(e)}}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var xt={name:"",templateValue:"",category:""};const Mt=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=(u.showSuccessMessage,(0,r.useHistory)(),a.useState(xt)),p=(0,m.Z)(f,2),h=p[0],E=p[1],v=a.useState(""),y=(0,m.Z)(v,2),b=y[0],Z=y[1];return a.useEffect((function(){c(!0),S(t).then((function(e){Z(e.categoryName),E({name:e.name,id:e.id,templateValue:e.templateValue,category:e.categoryName})})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]),a.createElement(o.SeamlessContainer,{title:e("viewKeywordsByIdPageTitle"),description:e("viewKeywordsByIdPageDescription")},a.createElement("div",{style:{height:600,width:"100%"}},h?a.createElement(be,{data:h,view:!0,edit:!1,categoryview:b}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var kt={classifierId:" ",recipientId:" ",languageId:" ",activationDate:"",templateValue:"",messageTag:" ",statusId:" ",messageTypeId:" ",expressionValue:"",conditionExpression:"",messageTemplateTypeId:" "};const Pt=function(){var e=a.useState(!1),t=(0,m.Z)(e,2),n=(t[0],t[1]),i=g(),l=i.showErrorMessage,c=i.showSuccessMessage,u=(0,s.useTranslation)().t,d=(0,r.useHistory)(),f=a.useCallback((function(e){n(!0);var t={};Object.keys(e).forEach((function(n){e["".concat(n)]&&(t["".concat(n)]=e["".concat(n)])})),T(t).then((function(){c(u("MessageCreatedSuccessfully")),d.push("/home/notification/messages")})).catch((function(e){return l(e)})).finally((function(){return n(!1)}))}),[]);return a.createElement(o.SeamlessContainer,{title:u("createMessages"),description:u("createMessagesPageDescription")},a.createElement("div",null,a.createElement(Xe,{data:kt,onFormSubmit:function(e){return f(e)},view:!1,edit:!1})))};var Ot={recipientId:"",languageId:"",activationDate:"",templateValue:"",messageTag:"",statusId:"",messageTypeId:"",expressionValue:"",conditionExpression:"",messageTemplateTypeId:" "};const Dt=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=u.showSuccessMessage,p=(0,r.useHistory)(),h=a.useState(Ot),v=(0,m.Z)(h,2),y=v[0],S=v[1];a.useEffect((function(){c(!0),C(t).then((function(e){var t,n;return S({classifierId:e.classifier.id,recipientId:e.recipient.id,languageId:e.language.id,activationDate:e.activationDate,templateValue:e.messageTemplate,messageTag:e.messageTag,statusId:e.status.id,messageTypeId:e.messageType.id,expressionValue:e.expressionValue,conditionExpression:e.conditionExpression,messageTemplateTypeId:null!==(t=null==e||null===(n=e.messageTemplateType)||void 0===n?void 0:n.id)&&void 0!==t?t:" "})})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);var b=a.useCallback((function(n){var a,i={recipientId:n.recipientId,languageId:n.languageId,activationDate:n.activationDate,templateValue:n.templateValue,messageTag:n.messageTag,statusId:n.statusId,messageTypeId:n.messageTypeId,messageTemplateTypeId:null!==(a=null==n?void 0:n.messageTemplateTypeId)&&void 0!==a?a:" ",expressionValue:n.expressionValue,conditionExpression:n.conditionExpression};c(!0);var r={};Object.keys(i).forEach((function(e){i["".concat(e)]&&(r["".concat(e)]=i["".concat(e)])})),function(e,t){return E("/nms/api/messages/".concat(t),{method:"PUT",body:e})}(r,t).then((function(t){f(e("MessageUpdatedSuccessfully")),p.push("/home/notification/messages")})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);return a.createElement(o.SeamlessContainer,{title:e("editMessagesPageTitle"),description:e("editMessagesPageDescription")},a.createElement("div",{style:{width:"100%"}},y?a.createElement(Xe,{data:y,onFormSubmit:function(e){return b(e)},view:!1,edit:!0}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var Nt={recipientId:"",languageId:"",activationDate:"",templateValue:"",messageTag:"",statusId:"",messageTypeId:"",expressionValue:"",conditionExpression:""};const Bt=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=(u.showSuccessMessage,(0,r.useHistory)(),a.useState(Nt)),p=(0,m.Z)(f,2),h=p[0],E=p[1];return a.useEffect((function(){c(!0),C(t).then((function(e){var t;return E({classifierId:e.classifier.tag,recipientId:e.recipient.recipientType,languageId:e.language.name,activationDate:e.activationDate,templateValue:e.messageTemplate,messageTag:e.messageTag,statusId:e.status.status,messageTypeId:e.messageType.messageType,messageTemplateTypeId:null==e||null===(t=e.messageTemplateType)||void 0===t?void 0:t.messageTemplateType,expressionValue:e.expressionValue,conditionExpression:e.conditionExpression})})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]),a.createElement(o.SeamlessContainer,{title:e("ViewMessagesByIdPageTitle"),description:e("editMessagesByIdPageDescription")},a.createElement("div",{style:{width:"100%"}},h?a.createElement(Xe,{data:h,view:!0,edit:!1}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var Rt={recipientId:"",languageId:"",activationDate:"",templateValue:"",messageTag:"",statusId:"",messageTypeId:"",expressionValue:"",conditionExpression:"",messageTemplateTypeId:" "};const Vt=function(){var e=(0,s.useTranslation)().t,t=(0,r.useParams)().id,n=a.useState(!1),i=(0,m.Z)(n,2),l=i[0],c=i[1],u=g(),d=u.showErrorMessage,f=u.showSuccessMessage,p=(0,r.useHistory)(),h=a.useState(Rt),E=(0,m.Z)(h,2),v=E[0],y=E[1];a.useEffect((function(){c(!0),C(t).then((function(e){return y({classifierId:"",recipientId:"",languageId:"",activationDate:"",templateValue:e.messageTemplate,messageTag:"",statusId:"",messageTypeId:"",expressionValue:"",conditionExpression:"",messageTemplateTypeId:" "})})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);var S=a.useCallback((function(t){var n={classifierId:t.classifierId,recipientId:t.recipientId,languageId:t.languageId,activationDate:t.activationDate,templateValue:t.templateValue,messageTag:t.messageTag,statusId:t.statusId,messageTypeId:t.messageTypeId,expressionValue:t.expressionValue,conditionExpression:t.conditionExpression,messageTemplateTypeId:null==t?void 0:t.messageTemplateTypeId};c(!0);var a={};Object.keys(n).forEach((function(e){n["".concat(e)]&&(a["".concat(e)]=n["".concat(e)])})),T(a).then((function(){f(e("MessageCreatedSuccessfully")),p.push("/home/notification/messages")})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]);return a.createElement(o.SeamlessContainer,{title:e("cloneMessagesPageTitle"),description:e("cloneMessagesPageDescription")},a.createElement("div",{style:{width:"100%"}},v?a.createElement(Xe,{data:v,onFormSubmit:function(e){return S(e)},view:!1,edit:!1}):a.createElement("h2",null,e("noDataFound",{itemName:t})),l?a.createElement(gt.Z,null):null))};var Ft=n(31168),qt=n(13737),Wt={recipientId:"",message:"",notificationType:"SMS"};const jt=function(){var e=a.useState(!1),t=(0,m.Z)(e,2),n=t[0],i=t[1],o=g(),l=o.showErrorMessage,c=o.showSuccessMessage,u=((0,s.useTranslation)().t,(0,r.useHistory)()),d=a.useCallback((function(e){i(!0),function(e){var t={method:"POST",body:e};return t.headers=new Headers,t.headers.append("Content-Type","application/json"),E("/nms/action/sendmessage",t)}(e).then((function(e){c(e),u.push("/home/notification/messages")})).catch((function(e){return l(e)})).finally((function(){return i(!1)}))}),[]);return a.createElement("div",{style:{marginTop:"20px",marginLeft:"10px"}},a.createElement(at,{data:Wt,onFormSubmit:function(e){return d(e)},loading:n}))},_t=function(){var e=a.useState("adhoc"),t=(0,m.Z)(e,2),n=t[0],i=t[1],r=(R()().AccessControlled,R()().checkPermission),o=(0,s.useTranslation)().t,l=(0,fe.Z)((function(e){return(0,pe.Z)({toggle:{marginLeft:"10px","& .Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"& .Mui-selected:hover":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText}}})}))();return a.createElement(a.Fragment,null,a.createElement(Ft.Z,{color:"primary",value:n,exclusive:!0,onChange:function(e,t){i(t)},className:l.toggle},r(ne)&&a.createElement(qt.Z,{style:{borderTopLeftRadius:30,borderBottomLeftRadius:30,height:"40px",fontSize:"13px",width:"180px",textTransform:"capitalize"},value:"transaction"},o("transactionBased")),r(te)&&a.createElement(qt.Z,{style:{borderTopRightRadius:30,borderBottomRightRadius:30,height:"40px",fontSize:"13px",width:"180px",textTransform:"capitalize"},value:"adhoc"},o("adhoc"))),"transaction"===n&&a.createElement("div",{style:{marginTop:"20px",marginLeft:"10px"}},a.createElement(rt,null)),"adhoc"===n&&a.createElement(jt,null))},zt=function(){var e=(0,r.useRouteMatch)().path,t=R()(),n=(t.AccessControllProvider,t.AccessControlled);return a.createElement(r.Switch,null,a.createElement(r.Route,{path:e+"/messages/create"},a.createElement(n,{feature:F},a.createElement(Pt,null))),a.createElement(r.Route,{path:e+"/messages/edit/:id"},a.createElement(n,{feature:_},a.createElement(Dt,null))),a.createElement(r.Route,{path:e+"/messages/view/:id"},a.createElement(n,{feature:j},a.createElement(Bt,null))),a.createElement(r.Route,{path:e+"/messages/clone/:id"},a.createElement(n,{feature:W},a.createElement(Vt,null))),a.createElement(r.Route,{path:e+"/messages"},a.createElement(n,{feature:z},a.createElement(St,null))),a.createElement(r.Route,{path:e+"/utilityMessage"},a.createElement(n,{feature:ae},a.createElement(_t,null))),a.createElement(r.Route,{path:e+"/classifiers/create"},a.createElement(n,{feature:L},a.createElement(yt,null))),a.createElement(r.Route,{path:e+"/classifiers/edit/:id"},a.createElement(n,{feature:A},a.createElement(Zt,null))),a.createElement(r.Route,{path:e+"/classifiers/view/:id"},a.createElement(n,{feature:H},a.createElement(Tt,null))),a.createElement(r.Route,{path:e+"/classifiers"},a.createElement(n,{feature:K},a.createElement(ot,null))),a.createElement(r.Route,{path:e+"/keywords/create"},a.createElement(n,{feature:J},a.createElement(dt,null))),a.createElement(r.Route,{path:e+"/keywords/edit/:id"},a.createElement(n,{feature:X},a.createElement(It,null))),a.createElement(r.Route,{path:e+"/keywords/view/:id"},a.createElement(n,{feature:Q},a.createElement(Mt,null))),a.createElement(r.Route,{path:e+"/keywords"},a.createElement(n,{feature:ee},a.createElement(st,null))),a.createElement(r.Route,{path:e+"/conditions/view/:id"},a.createElement(n,{feature:Y},a.createElement(Et,null))),a.createElement(r.Route,{path:e+"/conditions/create"},a.createElement(n,{feature:G},a.createElement(ut,null))),a.createElement(r.Route,{path:e+"/conditions/edit/:id"},a.createElement(n,{feature:U},a.createElement(pt,null))),a.createElement(r.Route,{path:e+"/conditions"},a.createElement(n,{feature:$},a.createElement(lt,null))),a.createElement(r.Route,{path:e},a.createElement(r.Redirect,{to:e+"/messages"})))}}}]);