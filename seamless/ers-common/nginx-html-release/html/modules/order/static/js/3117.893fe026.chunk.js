(self.webpackChunk_unified_order=self.webpackChunk_unified_order||[]).push([[3117],{63117:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>b});var t=r(12783),s=r(2411),a=r.n(s),n=r(6277),o=r(21602),i=r(13268),c=r(33553),u=r(23664),d=r(75696),m=r(54651),p=r(13029),v=r(13432),f=r(48049),S=r(61990),h=r(24235),I=r(63135),N=function(e){var l,r=e.state,t=e.dispatch,s=null!==(l=r.seller)&&void 0!==l&&l.resellerId?[r.seller.resellerId]:[];return a().createElement(v.Z,{onSelectReseller:function(e){t({type:"seller_select",payload:e})},selectedItems:s})},y=function(e){var l,r=e.dispatch,t=e.state;return a().createElement(S.Z,{resellerId:(null==t||null===(l=t.seller)||void 0===l?void 0:l.resellerId)||null,state:t,dispatch:r})},E=(0,d.makeStyles)((function(e){return(0,d.createStyles)({element:{margin:e.spacing(1)}})}));const b=function(e){var l=e.state,r=e.dispatch,d=(0,o.Z)(),v=(0,u.Z)(),S=v.showSuccessMessage,b=v.showErrorMessage,g=E(),k=(0,f.useHistory)(),M=(0,I.useTranslation)().t;(0,s.useEffect)((function(){r({type:"buyer_select",payload:{resellerId:d.requestedPrincipalId,resellerMSISDN:d.targetMSISDN,resellerName:d.targetPrincipalName}})}),[d]);var w=[{label:M("selectSeller")},{label:M("selectStock")},{label:M("previewInfo")}];function C(e){switch(e){case 0:return null===l.seller;case 1:return!(0,h.z3)(l);default:return!1}}var D,Z,_=(0,m.requestHelper)(l);return a().createElement(a().Fragment,null,a().createElement(t.SeamlessStepper,{steps:w,components:{Control:function(e){e.goFirst;var s=e.goNext,o=e.goPrev,i=e.disableFirst,u=e.disableLast,d=e.view;return a().createElement(c.Z,null,a().createElement(t.SeamlessButton,{onClick:o,disabled:i,className:(0,n.default)(g.element),color:"primary",variant:"contained"},M("previous")),a().createElement(t.SeamlessButton,{className:(0,n.default)(g.element),onClick:s,disabled:u||C(d),color:"primary",variant:"contained"},M("next")),u&&a().createElement(t.SeamlessButton,{className:(0,n.default)(g.element),onClick:function(){return function(e){var t=(0,m.requestHelper)(l);(0,p.ry)(t).then((function(e){0===e.resultCode?(S(e),r({type:"reset",payload:null}),k.push("/home/order/orders")):b(e)})).catch((function(e){b(e),k.push("/home/order/orders")}))}()},color:"primary",variant:"contained"},M("submit")))}}},a().createElement(N,{dispatch:r,state:l}),a().createElement(y,{dispatch:r,state:l}),a().createElement(i.Z,{dataAPI:_,state:l,from:(Z=null==l?void 0:l.seller,{resellerId:null==Z?void 0:Z.resellerId,resellerMSISDN:null==Z?void 0:Z.resellerMSISDN,resellerName:null==Z?void 0:Z.resellerName}),to:(D=null==l?void 0:l.buyer,{resellerId:null==D?void 0:D.resellerId,resellerMSISDN:null==D?void 0:D.resellerMSISDN,resellerName:null==D?void 0:D.resellerName}),itemList:(0,h.RH)(l),dispatch:r})))}}}]);