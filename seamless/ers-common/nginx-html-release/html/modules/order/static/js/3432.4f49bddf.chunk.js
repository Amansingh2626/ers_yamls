(self.webpackChunk_unified_order=self.webpackChunk_unified_order||[]).push([[3432],{13432:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(51119),l=n(74315),o=n(61837),i=n(74603),a=n(27556),c=n(21324),s=n(41744),d=n.n(s),u=n(23664),f=n(2411),m=n.n(f),p=n(63135),h=n(21853),b=n(82037),g=n(75696),v=n(12231),y=n(73698);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=(0,g.makeStyles)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},dropdown:{padding:10,color:"grey","&::before":{borderBottom:"none"}}}}));const Z=function(e){var t,n=e.onSelectReseller,r=e.selectedItems,s=e.prefilled,g=void 0===s?"":s,E=(0,f.useState)(),Z=(0,l.Z)(E,2),O=Z[0],S=Z[1],j=(0,f.useState)([]),C=(0,l.Z)(j,2),D=C[0],k=C[1],P=(0,f.useState)(!1),x=(0,l.Z)(P,2),M=x[0],N=x[1],F=m().useState("resellerId"),R=(0,l.Z)(F,2),_=R[0],B=R[1],H=(0,p.useTranslation)().t,K=(0,u.Z)().showErrorMessage,L=w(),T=(0,f.useState)([]),U=(0,l.Z)(T,2),q=U[0],z=U[1],A=(0,f.useCallback)((function(){N(!0),(0,b.EZ)(r[0],"resellerId").then((function(e){var t=I(I({},e.resellerInfo.resellerData),{additionalFields:e.resellerInfo.additionalFields});k([t]),z(r)})).catch((function(e){return K(e)})).finally((function(){return N(!1)}))}),[]);(0,f.useEffect)((function(){r.length>0&&A(),S(g)}),[A,g]);var G=[{field:"checkbox",renderHeader:function(){return m().createElement(c.Z,{disabled:!0,indeterminate:(null==r?void 0:r.length)>0})},width:80,hideSortIcons:!0,disableColumnMenu:!0,renderCell:function(e){var t;return m().createElement(c.Z,{onChange:function(){return J(null==e?void 0:e.row)},checked:r.includes(null==e||null===(t=e.row)||void 0===t?void 0:t.id)})}},{field:"resellerId",headerName:H("resellerId"),sortable:!0,flex:2}];function J(e){n(e.data)}function Q(){N(!0),k([]),(0,b.EZ)(O,_).then((function(e){var t=I(I({},e.resellerInfo.resellerData),{additionalFields:e.resellerInfo.additionalFields});k([t])})).catch((function(e){return K(e)})).finally((function(){return N(!1)}))}return m().createElement("section",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},m().createElement("section",{style:{alignSelf:"center"}},m().createElement(a.Z,{className:L.root},m().createElement(y.Z,{className:L.dropdown,labelId:"demo-simple-select-label",id:"demo-simple-select",value:_,onChange:function(e){B(e.target.value)}},m().createElement(v.Z,{value:"resellerId"},H("resellerID","Reseller ID")),m().createElement(v.Z,{value:"msisdn"},null===(t=H("msisdn","MSISDN"))||void 0===t?void 0:t.toUpperCase())),m().createElement(i.Z,{className:L.input,value:O||"",onChange:function(e){e.preventDefault(),S(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&O&&Q()},placeholder:H("resellerId"===_?"resellerId":"msisdn")}),m().createElement(o.Z,{onClick:Q,type:"submit",disabled:!O,className:L.iconButton,"aria-label":"search"},m().createElement(h.Z,null)))),m().createElement("section",{style:{height:300}},m().createElement(d(),{loading:M,getRowId:function(e){return null==e?void 0:e.resellerId},rows:D,columns:G,hideFooterPagination:!0,onRowSelected:J,onSelectionModelChange:function(e){z(e.selectionModel)},selectionModel:q})))}}}]);