(self.webpackChunk_unified_order=self.webpackChunk_unified_order||[]).push([[4208],{74208:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var l=r(11746),n=r(51119),a=r(74315),o=r(2411),i=r.n(o),s=r(19985),c=r(21324),u=r(61837),d=r(74603),f=r(27556),m=r(12231),p=r(73698),g=r(75696),b=r(82037),h=r(63135),v=r(41744),S=r.n(v),Z=r(23664),w=r(21602),y=r(21853);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=(0,g.makeStyles)((function(e){return(0,g.createStyles)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},element:{margin:e.spacing(1)},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},dropdown:{padding:10,color:"grey","&::before":{borderBottom:"none"}}})}));const E=function(e){e.state,e.dispatch;var t,r=e.onSelect,g=e.loadData,v=e.selectedItems,I=void 0===v?[]:v,E=e.hidden,O=(0,o.useState)(!1),k=(0,a.Z)(O,2),M=k[0],N=k[1],P=(0,o.useState)(10),j=(0,a.Z)(P,2),x=j[0],R=(j[1],(0,o.useState)(1)),F=(0,a.Z)(R,2),B=F[0],G=F[1],_=(0,o.useState)("asc"),H=(0,a.Z)(_,2),K=H[0],L=H[1],T=(0,o.useState)("resellerId"),U=(0,a.Z)(T,2),q=U[0],z=U[1],A=(0,o.useState)({}),J=(0,a.Z)(A,2),Q=J[0],V=J[1],W=(0,o.useState)([]),X=(0,a.Z)(W,2),Y=X[0],$=X[1],ee=(0,o.useState)(0),te=(0,a.Z)(ee,2),re=te[0],le=te[1],ne=(0,o.useState)(),ae=(0,a.Z)(ne,2),oe=ae[0],ie=ae[1],se=(0,o.useState)([]),ce=(0,a.Z)(se,2),ue=(ce[0],ce[1]),de=i().useState("resellerId"),fe=(0,a.Z)(de,2),me=fe[0],pe=fe[1],ge=i().useState(E),be=(0,a.Z)(ge,2),he=be[0],ve=be[1],Se=i().useState([]),Ze=(0,a.Z)(Se,2),we=Ze[0],ye=Ze[1],Ie=C(),De=(0,Z.Z)().showErrorMessage,Ce=(0,h.useTranslation)().t,Ee=((0,w.Z)(),(0,o.useCallback)((function(){N(!0),g({order:K,page:B,perPage:x,orderBy:q,filter:(0,s.Er)(Q)}).then((function(e){$(e.resellers),le(e.totalCount)})).finally((function(){return N(!1)}))}),[K,B,x,q,Q]));function Oe(){N(!0),ue([]),(0,b.EZ)(oe,me).then((function(e){var t=D(D({},e.resellerInfo),{additionalFields:e.resellerInfo.additionalFields});$([t])})).catch((function(e){return De(e)})).finally((function(){ve(!1),N(!1)}))}(0,o.useEffect)((function(){Ee()}),[Ee,!oe]);var ke=[{field:"checkbox",renderHeader:function(){return i().createElement(c.Z,{onClick:function(){},disabled:!0,indeterminate:I.length>0})},width:80,hideSortIcons:!0,disableColumnMenu:!0,renderCell:function(e){return i().createElement(c.Z,{onChange:function(t){if(t.target.checked){we.push(e.row.id);var n=(0,l.Z)(we);if(n.length>1){var a=n.filter((function(t){return t===e.row.id}));ye(a)}else ye(n)}else{var o=we.indexOf(e.row.id);o>-1&&we.splice(o,1)}r(e.row.resellerData)},checked:we.includes(e.row.id)})}},{field:"resellerId",headerName:"Reseller ID",flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return e.row.resellerData.resellerId}},{field:"name",headerName:"Reseller Name",flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return e.row.resellerData.resellerName}},{field:"resellerPath",headerName:"Reseller Path",flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return e.row.resellerData.resellerPath}},{field:"resellerMSISDN",headerName:"Reseller MSISDN",flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return e.row.resellerData.resellerMSISDN}}],Me=(0,o.useCallback)((function(e){var t=e.filterModel.items[0].value,r=e.filterModel.items[0].columnField;V(D(D({},Q),{},(0,n.Z)({},r,t)))}),[]),Ne=(0,o.useCallback)((function(e){var t=e.sortModel[0].field,r=e.sortModel[0].sort;z(t),L(r)}),[]);return i().createElement(i().Fragment,null,i().createElement("section",{style:{alignSelf:"center"}},i().createElement(f.Z,{className:Ie.root},i().createElement(p.Z,{className:Ie.dropdown,labelId:"demo-simple-select-label",id:"demo-simple-select",value:me,onChange:function(e){pe(e.target.value)}},i().createElement(m.Z,{value:"resellerId"},Ce("resellerID","Reseller ID")),i().createElement(m.Z,{value:"msisdn"},null===(t=Ce("msisdn","MSISDN"))||void 0===t?void 0:t.toUpperCase())),i().createElement(d.Z,{className:Ie.input,value:oe,onChange:function(e){e.preventDefault(),""==e.target.value&&ue([]),ie(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&oe&&Oe()},placeholder:"resellerId"===me?"Reseller ID":"MSISDN"}),i().createElement(u.Z,{onClick:Oe,type:"submit",disabled:!oe,className:Ie.iconButton,"aria-label":"search"},i().createElement(y.Z,null)))),!0!==he?i().createElement("div",{style:{height:400}},i().createElement(S(),{loading:M,rows:Y,columns:ke,getRowId:function(e){return e.resellerData.resellerId},disableColumnSelector:!0,disableSelectionOnClick:!0,pagination:!0,rowCount:re,page:B-1,onPageChange:function(e){G(e.page+1)},filterMode:"server",onFilterModelChange:Me,onSortModelChange:Ne,sortingMode:"server"})):null)}}}]);