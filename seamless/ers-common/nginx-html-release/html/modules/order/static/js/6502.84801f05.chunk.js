(self.webpackChunk_unified_order=self.webpackChunk_unified_order||[]).push([[6502],{36502:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var l=r(74315),n=r(2411),a=r.n(n),o=r(33553),i=r(21324),s=r(77277),c=r(82037),u=r(34859),d=r(63135),f=r(41744),b=r.n(f),m=r(51119),h=r(19985);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=window.config.resellerAdditionalConfig.BasicResellerInfoAPILimit||100;const v=function(e){e.state;var t=e.loadData,r=e.onSelect,o=e.selectedItems,s=void 0===o?[]:o,c=(0,n.useState)(!1),u=(0,l.Z)(c,2),d=u[0],f=u[1],p=(0,n.useState)(S),v=(0,l.Z)(p,2),g=v[0],w=(v[1],(0,n.useState)(1)),C=(0,l.Z)(w,2),I=C[0],D=C[1],O=(0,n.useState)("asc"),Z=(0,l.Z)(O,2),E=Z[0],k=Z[1],N=(0,n.useState)("resellerId"),M=(0,l.Z)(N,2),P=M[0],j=M[1],R=(0,n.useState)({}),x=(0,l.Z)(R,2),_=x[0],B=x[1],F=(0,n.useState)([]),L=(0,l.Z)(F,2),G=L[0],A=L[1],H=(0,n.useState)(0),T=(0,l.Z)(H,2),W=T[0],q=T[1],z=(0,n.useCallback)((function(){f(!0),t({order:E,page:I,perPage:g,orderBy:P,filter:(0,h.Er)(_)}).then((function(e){A(e.resellers),q(e.totalCount)})).finally((function(){return f(!1)}))}),[E,I,g,P,_]);(0,n.useEffect)((function(){z()}),[z]);var J=[{field:"checkbox",renderHeader:function(){return a().createElement(i.Z,{onClick:function(){},disabled:!0,indeterminate:s.length>0})},width:80,hideSortIcons:!0,disableColumnMenu:!0,renderCell:function(e){return a().createElement(i.Z,{onChange:function(){return r(e.row.resellerData)},checked:s.includes(e.row.id)})}},{field:"resellerId",headerName:"Reseller ID",flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return e.row.resellerData.resellerId}},{field:"name",headerName:"Reseller Name",flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return e.row.resellerData.resellerName}},{field:"resellerPath",headerName:"Reseller Path",flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return e.row.resellerData.resellerPath}},{field:"resellerMSISDN",headerName:"Reseller MSISDN",flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return e.row.resellerData.resellerMSISDN}}],K=(0,n.useCallback)((function(e){var t=e.filterModel.items[0].value,r=e.filterModel.items[0].columnField;B(y(y({},_),{},(0,m.Z)({},r,t)))}),[]),Q=(0,n.useCallback)((function(e){var t=e.sortModel[0].field,r=e.sortModel[0].sort;j(t),k(r)}),[]);return a().createElement("div",{style:{height:400}},a().createElement(b(),{loading:d,rows:G,columns:J,getRowId:function(e){return e.resellerData.resellerId},disableColumnSelector:!0,disableDensitySelector:!0,disableSelectionOnClick:!0,pagination:!0,rowCount:W,page:I-1,onPageChange:function(e){D(e.page+1)},filterMode:"server",onFilterModelChange:K,onSortModelChange:Q,sortingMode:"server"}))},g=function(e){var t,r=e.dispatch,n=e.state,f=a().useState("select"),m=(0,l.Z)(f,2),h=m[0],p=m[1],y=null==n||null===(t=n.buyer)||void 0===t?void 0:t.resellerId,S=(0,d.useTranslation)().t;return a().createElement(a().Fragment,null,a().createElement(s.Z,{style:{visibility:"hidden"}}),a().createElement(o.Z,{style:{display:"flex",justifyContent:"center"}},a().createElement(u.Z,{options:[{label:S("Buyer warehouses","Buyer warehouses"),value:"select"},{label:S("buyerLocaiton","Buyer Location"),value:y}],value:h,onSelect:function(e){p(e),"select"!==e&&r({type:"drop_location_select",payload:[n.buyer]})}})),a().createElement("br",null),"select"===h?a().createElement(v,{dispatch:r,state:n,loadData:function(e){var t={additionalFields:[{name:"snic_category",value:"Warehouse"}],resellerData:{parentResellerId:n.buyer.resellerId,status:"Active"}};return(0,c.ml)(t,e)},selectedItems:(null==n?void 0:n.dropLocation.length)>0?null==n?void 0:n.dropLocation.map((function(e){return e.resellerId})):[],onSelect:function(e){r({type:"drop_location_select",payload:[e]})}}):a().createElement("div",{style:{height:420}},a().createElement(b(),{rows:[n.buyer],columns:[{field:"checkbox",renderHeader:function(){return a().createElement(i.Z,{onClick:function(){},disabled:!0,checked:!0})},width:80,hideSortIcons:!0,disableColumnMenu:!0,renderCell:function(e){return a().createElement(i.Z,{onChange:function(){},checked:!0})}},{field:"resellerId",headerName:"Reseller ID",flex:1,filterable:!1,sortable:!1},{field:"resellerName",headerName:"Reseller Name",flex:1,filterable:!1,sortable:!1},{field:"resellerMSISDN",headerName:"Reseller MSISDN",flex:1,filterable:!1,sortable:!1}],getRowId:function(e){return e.resellerId},disableDensitySelector:!0,disableColumnFilter:!0,disableSelectionOnClick:!0,disableColumnSelector:!0})))}}}]);