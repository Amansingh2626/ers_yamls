(self.webpackChunk_unified_order=self.webpackChunk_unified_order||[]).push([[8240],{61990:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(74315),r=n(2411),o=n.n(r),l=n(75696),i=n(90436),c=n(42195),d=n(52495),s=n(63771),u=n(24235),p=n(12783),m=n(28868),g=n(63135),S=n(44104),f=n.n(S),v=n(37033),h=window.config.order.freeSelectInventoryNoProductDropdown||["non-serialised","services-topup","serialised","services-b2b"],E=window.config.order.quantityEnabledOrderType||["IPO_ST"],b=(0,l.makeStyles)((function(e){return{groupLabel:{fontWeight:"bolder"},sectionWrapper:{width:"50%",float:"left",paddingRight:5,paddingLeft:5},scanSectionWrapper:{width:"40%",float:"left",paddingRight:5,paddingLeft:5,textAlign:"right",paddingTop:18},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}}}));const y=function(e){var t=e.resellerId,n=(e.disabled,e.dispatch),l=e.state,S=b(),y=(0,r.useState)(),C=(0,a.Z)(y,2),Z=C[0],_=C[1],N=o().useState(!1),w=(0,a.Z)(N,2),I=w[0],k=w[1],x=(0,r.useState)("serialised"),B=(0,a.Z)(x,2),P=B[0],T=B[1],W=o().useState(""),K=(0,a.Z)(W,2),U=K[0],O=K[1],A=o().useState(""),D=(0,a.Z)(A,2),L=D[0],R=D[1],F=o().useState(""),M=(0,a.Z)(F,2),q=M[0],X=M[1],j=o().useState(0),z=(0,a.Z)(j,2),G=z[0],H=z[1],J=(0,g.useTranslation)().t,Q=f()().checkPermission;return(0,r.useEffect)((function(){}),[Z]),o().createElement(o().Fragment,null,o().createElement("section",{className:S.sectionWrapper},t&&o().createElement(c.Z,{resellerId:null==t?void 0:t.toString(),onSelect:function(e){return r=(null==(t=e)?void 0:t.productSKU)||null,o=(0,u.NO)(l.products,r),n({type:"add_selected_product_price",payload:{productSKUName:r,price:null==t||null===(a=t.unitPrice)||void 0===a?void 0:a.price}}),_(t),void T(o);var t,a,r,o},orderType:l.orderType,dispatch:n})),Q(v.Z.SCAN_BOX)&&o().createElement("section",{className:S.scanSectionWrapper},o().createElement(p.SeamlessButton,{onClick:function(e){k(!0)},color:"primary",variant:"contained"},J("scanBox","Scan Box"))),h.includes(P)&&E.includes(l.orderType)?o().createElement(d.Z,{resellerId:null==t?void 0:t.toString(),dispatch:n,state:l,selectedProduct:Z}):o().createElement(s.Z,{resellerId:null==t?void 0:t.toString(),dispatch:n,state:l,selectedProduct:Z}),o().createElement(p.SeamlessDialog,{open:I,onClose:function(e){return k(!1)},className:S.dialogWrapper,maxWidth:"sm"},o().createElement(o().Fragment,null,o().createElement(i.Z,null,"Scan Now"),o().createElement("div",{className:S.modalContentSpacing,style:{marginTop:"20px"}},o().createElement(p.SeamlessInput,{value:U,name:"batchId",onChange:function(e){O(e.target.value)},label:"Batch Id"}),o().createElement(p.SeamlessInput,{value:L,name:"productSku",onChange:function(e){R(e.target.value)},label:"Product SKU"}),o().createElement(p.SeamlessInput,{value:q,name:"serial",onChange:function(e){X(e.target.value)},label:"Serial"})),I&&o().createElement(m.Z,{onScan:function(e){var t=e.replace("\n","");if(t.indexOf("*")>-1){var n=t.split("*");if(n.length>2){var a=l.products,r=!1;a.map((function(e){var t;(null==e||null===(t=e.variant)||void 0===t?void 0:t.productSKU)===n[1]&&(r=!0)})),r?(O(n[0]),R(n[1]),X(n[2]),H(n[3])):console.log("Scanned Product SKU not found in dropdown list")}else console.log("Please rescan the barcode")}},onError:function(e){console.log("Error Scan - ",e)}}),o().createElement("div",{className:S.modalContentSpacing},o().createElement(p.SeamlessButton,{type:"button",variant:"outlined",color:"primary",onClick:function(e){return n({type:"box_item_selected",payload:{items:[q],boxId:U,productSKU:L}}),n({type:"add_selected_product_price",payload:{productSKUName:L,price:G}}),void k(!1)},className:S.btnSpace},"Add"),o().createElement(p.SeamlessButton,{type:"button",variant:"outlined",color:"primary",onClick:function(e){return k(!1)},className:S.btnSpace},"Close")))))}}}]);