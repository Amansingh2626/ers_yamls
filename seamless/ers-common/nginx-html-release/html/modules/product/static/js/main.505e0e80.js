(()=>{"use strict";var e,t,a,n,r,l={70620:(e,t,a)=>{var n=a(2411),r=a.n(n),l=a(28316),i=a(48049),o=a(7560),c=a(55238),s=a(11746),u=a(74315),d=a(17563),m=a(61416);const f=a.n(m)();var p="/pms/v1",g="/pms/v1",v=function(){return f("".concat(g,"/workflow/transition"))},E=function(e){return f("".concat(g,"/workflow/transition/").concat(e),{method:"DELETE"})},h="/pms/v1",Z="/pms/v1",b=function(){return f("".concat(Z,"/tax"))},y=function(){return f("/acms/fetch-products-variants")},_=function(e){return f("/acms/concerted-rule-info/".concat(e))},w=a(13248),x=a(63135);const S=function(){var e=(0,w.useSnackbar)().enqueueSnackbar,t=(0,x.useTranslation)().t;function a(e){var a=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(a=e[t])})),a}return{showSuccessMessage:function(t){e("string"!=typeof t?a(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?a(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?a(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?a(t):t,{variant:"warning"})}}};var N={productIds:"id",productName:"name",productCode:"code",productType:"productType"};const k="VIEW_PRODUCT",T="CREATE_PRODUCT",C="PRODUCT_LIST",O="EDIT_PRODUCT",P="DELETE_PRODUCT",D="VIEW_PRODUCT_VARIANT",V="CREATE_PRODUCT_VARIANT",I="PRODUCT_VARIANT_LIST",j="EDIT_PRODUCT_VARIANT",M="ADD_UNIT_PRODUCT",F="VIEW_PRODUCT_CATEGORY",R="CREATE_PRODUCT_CATEGORY",B="PRODUCT_CATEGORY_LIST",U="EDIT_PRODUCT_CATEGORY",H="DELETE_PRODUCT_CATEGORY",W="VIEW_TAXES",q="VIEW_TAX",A="CREATE_TAX",z="EDIT_TAX",L="DELETE_TAX",K="CREATE_PRODUCT_RULE",Q="EDIT_PRODUCT_RULE",G="VIEW_PRODUCT_RULE",X="VIEW_ALL_PRODUCT_RULES",$=function(e){var t=e.children,a=e.refresh,r=n.useState([]),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),m=(0,u.Z)(c,2),g=m[0],v=m[1],E=n.useState(0),h=(0,u.Z)(E,2),Z=h[0],b=h[1],y=n.useState(0),_=(0,u.Z)(y,2),w=_[0],x=_[1],k=n.useState("asc"),T=(0,u.Z)(k,2),C=T[0],O=T[1],P=n.useState("id"),D=(0,u.Z)(P,2),V=D[0],I=D[1],j=n.useState(0),M=(0,u.Z)(j,2),F=M[0],R=M[1],B=n.useState([]),U=(0,u.Z)(B,2),H=U[0],W=U[1],q=n.useState({filters:H}),A=(0,u.Z)(q,2),z=A[0],L=A[1],K=n.useCallback((function(e){var t=e.sortModel[0].field,a=e.sortModel[0].sort;I(t),O(a)}),[]),Q=n.useCallback((function(e){var t,a=e.filterModel.items[0].value,n=e.filterModel.items[0].columnField,r=e.filterModel.items[0].operatorValue,l={key:Object.keys(N)[Object.values(N).indexOf(n)],operation:r,value:a};a?(W([].concat((0,s.Z)(H),[l])),t={filters:[].concat((0,s.Z)(H),[l])},L(t),x(0)):L(t={filters:[]})}),[]),G={order:"".concat(C),orderBy:"".concat(V),page:w,perPage:Z},X=S().showErrorMessage;return n.useEffect((function(){v(!0),function(e,t){return f("".concat(p,"/product/filter?").concat(d.stringify(e)),{method:"POST",body:t})}(G,z).then((function(e){var t;o(e.products),R(null==e||null===(t=e.metaData)||void 0===t?void 0:t.totalCount)})).catch((function(e){return X(e)})).finally((function(){return v(!1)}))}),[a,V,C,w,Z,z]),n.createElement(n.Fragment,null,t({products:i,loading:g,page:w,perPage:Z,orderBy:V,order:C,onSort:K,setPerPage:b,setPage:x,totalCount:F,filter:z,onFilterChange:Q}))};var Y,J=a(41744),ee=a.n(J),te=a(77277),ae=a(38592),ne=a(80030),re=a(42375),le=a(21270),ie=a(76945),oe=a(85919),ce=a(66054),se=a(44104),ue=a.n(se);null===(Y=window.config)||void 0===Y||Y.defaultPerPageItems;const de=function(e){var t=e.products,a=e.loading,r=e.page,l=e.perPage,o=(e.orderBy,e.order,e.onSort),s=e.setPage,d=e.setPerPage,m=e.handleDelete,f=e.totalCount,p=e.onFilterChange,g=((0,c.Z)(e,["products","loading","page","perPage","orderBy","order","onSort","setPage","setPerPage","handleDelete","totalCount","onFilterChange"]),(0,x.useTranslation)().t),v=ue()().checkPermission,E=n.useState(!1),h=(0,u.Z)(E,2),Z=h[0],b=h[1],y=n.useState([]),_=(0,u.Z)(y,2),w=_[0],S=_[1],N=n.useState(),T=(0,u.Z)(N,2),C=T[0],V=T[1],I=[{field:"code",headerName:g("code"),sortable:!0,flex:1},{field:"name",headerName:g("name"),sortable:!0,flex:1},{field:"productType",headerName:g("productType"),sortable:!0,flex:1},{field:"actions",headerName:g("actions"),sortable:!1,filterable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"password policy action buttons"},v(D)&&n.createElement(ne.ZP,{title:"Variants"},n.createElement(te.Z,{component:i.Link,to:"/home/product/"+e.getValue("id")+"/variants"},n.createElement(oe.Z,{fontSize:"small"}))),v(O)&&n.createElement(ne.ZP,{title:"Edit"},n.createElement(te.Z,{component:i.Link,to:"/home/product/products/edit/"+e.getValue("id")},n.createElement(re.Z,{fontSize:"small"}))),v(k)&&n.createElement(ne.ZP,{title:"View"},n.createElement(te.Z,{component:i.Link,to:"/home/product/products/view/"+e.getValue("id")},n.createElement(le.Z,{fontSize:"small"}))),v(P)&&n.createElement(ne.ZP,{title:"Delete"},n.createElement(te.Z,{onClick:function(){b(!0)}},n.createElement(ie.Z,{fontSize:"small",style:{color:ce.Z[400]}})))))},flex:1}];return n.createElement(n.Fragment,null,n.createElement(_n,{open:Z,onClose:function(){S([]),b(!1)},onOk:function(){m(null==C?void 0:C.id),b(!1)},dialogTitle:g("deleteProductConfirmationTitle"),dialogDescription:"".concat(g("deleteProductConfirmationDescription")," ").concat(null==C?void 0:C.code)}),n.createElement(ee(),{loading:a,columnBuffer:2,rows:t,getRowId:function(e){return e.id},columns:I,checkboxSelection:!1,page:r,pageSize:l,rowCount:f,disableMultipleSelection:!0,onRowSelected:function(e){var t=e.data;return V(t)},onSelectionModelChange:function(e){var t=e.selectionModel;return S(t)},selectionModel:w,onPageChange:function(e){s(e.page)},onPageSizeChange:function(e){s(0),d(e.pageSize)},paginationMode:"server",filterMode:"server",sortingMode:"server",onSortModelChange:o,onFilterModelChange:p}))},me=function(e){var t=e.children,a=S(),r=a.showSuccessMessage,l=a.showErrorMessage,i=n.useState(!1),o=(0,u.Z)(i,2),c=o[0],s=o[1];return n.createElement(n.Fragment,null,t({handleDelete:function(e){var t;s(!0),(t=e,f("".concat(p,"/product/").concat(t),{method:"DELETE"})).then((function(e){r(e)})).catch((function(e){return l(e)})).finally((function(){return s(!1)}))},loading:c}))},fe=function(e){return n.createElement(me,null,(function(t){var a=t.handleDelete,r=t.loading;return n.createElement($,{refresh:r},(function(t){var r=t.products,l=t.loading,i=t.totalCount,s=(0,c.Z)(t,["products","loading","totalCount"]);return n.createElement(de,(0,o.Z)({handleDelete:a},e,{products:r,loading:l,totalCount:i},s))}))}))};var pe=a(9699),ge=a(79692),ve=a(12420),Ee=a(70773),he=a(19258),Ze=a(94106),be=a(77790),ye=a.n(be),_e=a(9692);(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},dividerSpacing:{marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",flexWrap:"wrap"},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},skeleton:{height:80},fullWidth:{width:"100%"},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},imageBox:{position:"sticky",top:"10%"},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"}})}));var we=a(33553),xe=a(60905),Se=a(90436),Ne=a(84278),ke=a(6277),Te=a(98069),Ce=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));const Oe=function(e){var t,a,r,l=e.data,i=Ce(),o=(0,x.useTranslation)().t;return n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:i.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},o("productFormTitle")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("productName"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},l.name)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("productCode"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},l.code))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("description"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},l.description||o("emptyValueMark"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("productType"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},l.productType))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("availableFrom"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},l.availableFrom&&(0,Ne.Z)(new Date(l.availableFrom),"MM/dd/yyyy"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("availableUntil"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},l.availableUntil&&(0,Ne.Z)(new Date(l.availableUntil),"MM/dd/yyyy")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("productWorkflow"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},l.workflowId?n.createElement(wn,null,(function(e){var t,a=e.workflows;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});if(!a.length)return null;var r=null===(t=a.filter((function(e){return e.id===l.workflowId}))[0])||void 0===t?void 0:t.name;return n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},r)})):o("emptyValueMark")),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("productCategory"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},l.categoryId?n.createElement(Kt,null,(function(e){var t,a=e.categories;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});if(!a.length)return null;var r=null===(t=a.filter((function(e){return e.id===l.categoryId}))[0])||void 0===t?void 0:t.name;return n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},r)})):o("emptyValueMark"))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("categoryPath"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},l.categoryPath||o("emptyValueMark"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("productVendor"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},l.supplierId||o("emptyValueMark")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("productTaxes"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},null!==(t=l.taxIds)&&void 0!==t&&t.length?n.createElement(xn,null,(function(e){var t,a=e.taxes;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});if(!a.length)return null;var r=null===(t=l.taxIds)||void 0===t?void 0:t.map((function(e){var t;return null===(t=a.filter((function(t){return t.id===e}))[0])||void 0===t?void 0:t.description}));return n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},null==r?void 0:r.join(", "))})):o("emptyValueMark"))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(i.spacingBottom,i.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},o("data")))),null!==(a=l.data)&&void 0!==a&&a.length?null===(r=l.data)||void 0===r?void 0:r.map((function(e,t){return n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing),key:t,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("dataName"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},e.dataName)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},o("dataValue"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},e.dataValue)))})):n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldValue)},o("noDataLabel"))))),n.createElement(xe.Z,{item:!0,xs:12,sm:2},Boolean(l.imageUrl)?n.createElement(we.Z,{border:.2,borderColor:"grey.200",p:2},n.createElement("img",{style:{borderRadius:6},src:l.imageUrl,height:200,className:(0,ke.default)(i.responsiveImage)})):null),n.createElement(xe.Z,{item:!0,xs:12,sm:12,className:(0,ke.default)(i.spacingTop)},n.createElement(xe.Z,{container:!0,spacing:3,className:i.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},o("productVariantFormTitle")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.rowSpacing)},n.createElement(xe.Z,{item:!0,xs:12,sm:12},n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(_t,{disableActions:!0}))))))};var Pe=a(73430);const De=function(e){var t=e.disable,a=void 0!==t&&t;return(0,ue()().checkPermission)(T)?n.createElement(Ee.SeamlessButton,{component:i.Link,to:"/home/product/products/create",variant:"contained",color:"primary",disabled:a,endIcon:n.createElement(Pe.Z,null)},"Create Product"):null};var Ve=function(e){var t=e.children,a=e.productId,r=e.reload,l=n.useState({}),i=(0,u.Z)(l,2),o=i[0],c=i[1],s=n.useState(!1),d=(0,u.Z)(s,2),m=d[0],g=d[1],v=S(),E=v.showErrorMessage;return v.showSuccessMessage,v.showInfoMessage,v.showWarningMessage,n.useEffect((function(){g(!0),function(e){return f("".concat(p,"/product/").concat(e))}(a).then((function(e){return c(e.product)})).catch((function(e){return E(e)})).finally((function(){return g(!1)}))}),[r]),n.createElement(n.Fragment,null,t({product:o,loading:m}))};const Ie=n.memo(Ve,(function(e,t){return e.productId===t.productId}));var je=a(76635),Me=a.n(je);const Fe=function(e){var t,a,r=(0,x.useTranslation)().t,l=((null===(t=window.config)||void 0===t||null===(a=t.product)||void 0===a?void 0:a.productTypes)||[]).map((function(e){return{key:r(Me().camelCase(e)),value:e}}));return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({},e,{options:l}))};var Re=a(51119),Be=a(56470),Ue=a(77162),He=a.n(Ue);function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Ae=function(e){var t=e.children,a=n.useState(!1),r=(0,u.Z)(a,2),l=r[0],o=r[1],c=S(),s=c.showSuccessMessage,d=c.showErrorMessage,m=(0,i.useHistory)(),g=n.useCallback(function(){var e=(0,Be.Z)(He().mark((function e(t){var a,n;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.product.variants=null==t||null===(a=t.product)||void 0===a||null===(n=a.variants)||void 0===n?void 0:n.map((function(e){return qe(qe({},e),{},{upSellProducts:"static"===(null==e?void 0:e.upsell)?null==e?void 0:e.upSellProducts.map((function(e){return e.productSKU})):null==e?void 0:e.upSellProducts})})),o(!0),(r=t,f("".concat(p,"/product"),{method:"POST",body:r})).then((function(e){s(e),m.goBack()})).catch((function(e){return d(e)})).finally((function(){o(!1)}));case 3:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return n.createElement(n.Fragment,null,t({saveProduct:g,loading:l}))};var ze=a(86619),Le=a(61837),Ke=a(67358),Qe=a(24276),Ge=a(77954),Xe=a(61564),$e=a(75958),Ye=a(46491);const Je=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=((0,x.useTranslation)().t,S().showErrorMessage);return n.useEffect((function(){f("".concat(p,"/supplier")).then((function(e){0===e.resultCode?i(e.suppliers):m(e)})).catch((function(e){return m(e)})).finally((function(){return d(!1)}))}),[]),n.createElement(n.Fragment,null,t({suppliers:l,loading:s}))},et=function(e){var t=e.name,a=e.value,r=e.handleChange,l=e.label,i=e.helperText,o=e.required,c=void 0!==o&&o,u=e.disabled,d=void 0!==u&&u,m=e.classes,f=(0,x.useTranslation)().t;return l=l||f("selectSupplier","Select supplier"),i=i||f("selectContractType"),n.createElement(Je,null,(function(e){var o=e.suppliers,u=e.loading,p=[{id:"",name:f("pleaseSelect_","Select ",{fieldName:"supplier"})}].concat((0,s.Z)(o)).map((function(e){return{value:e.id,key:"".concat(e.name)}}));return n.createElement(n.Fragment,null,u?n.createElement(Te.Z,null):n.createElement(Ee.SeamlessDropDown,{id:"reseller-contract-drop-down",required:c,name:t,fullWidth:!0,disabled:d,value:a,label:l,helperText:i,onChange:r,options:p,className:m&&(0,ke.default)(m.element)}))}))};function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var nt=(0,ge.Z)((function(e){return(0,ve.Z)({elements:{marginRight:e.spacing(2)},keyboardpicker:{width:"100%"},delete:{color:e.palette.error.main},button:{width:300},lowOpacity:{border:"none",width:"100%",opacity:.7,cursor:"default"},fullWidth:{border:"none",width:"100%"}})})),rt=function(e){return"Invalid Date"===e};const lt=function(e){var t,a,r,l=e.data,i=e.onFormSubmit,s=e.loading,d=e.onReset,m=e.edit,f=void 0!==m&&m,p=nt(),g=(0,x.useTranslation)().t,v=n.useState(),E=(0,u.Z)(v,2),h=(E[0],E[1],n.useState("")),Z=(0,u.Z)(h,2),b=Z[0],y=Z[1],_=n.useState(""),w=(0,u.Z)(_,2),S=w[0],N=w[1],k=(null===(t=window)||void 0===t||null===(a=t.config)||void 0===a||null===(r=a.product)||void 0===r?void 0:r.disableProductFormFieldsOnEdit)||[],T=pe.Ry({name:f&&null!=k&&k.includes("name")?pe.Z_():pe.Z_().required(g("productNameError")),code:f&&null!=k&&k.includes("code")?pe.Z_():pe.Z_().required(g("productCodeError")),productType:f&&null!=k&&k.includes("productType")?pe.Z_():pe.Z_().required(g("productTypeError")),categoryId:pe.Rx().nullable(),workflowId:pe.Rx().nullable(),taxIds:pe.IX(pe.Rx()).nullable(),imageUrl:pe.Z_().nullable(),availableFrom:pe.Z_().required(g("availableFromError")),availableUntil:pe.Z_().required(g("availableUntilError")),data:pe.IX(pe.Ry({dataName:pe.Z_(),dataValue:pe.Z_().when("dataName",{is:function(e){return""!==e},then:pe.Z_().required()})}))}),C=(0,Ze.cI)({mode:"onSubmit",defaultValues:at({},l),resolver:(0,Ye.X)(T),reValidateMode:"onChange"}),O=C.register,P=C.getValues,D=C.errors,V=C.control,I=C.handleSubmit,j=(C.setValue,C.reset),M=C.setError,F=C.clearErrors,R=(0,Ze.Dq)({name:"data",control:V}),B=R.fields,U=R.append,H=R.remove,W=P(),q=new Date;new Date(new Date(W.availableFrom).getTime()+864e5),n.useEffect((function(){l.id&&j(l),O({name:"taxIds",type:"custom"})}),[l]),n.useEffect((function(){l.supplierId&&N(l.supplierId)}),[l.supplierId]);var A=window.config.openCalendarWith||"year";return n.createElement(we.Z,{display:"flex",flexDirection:"column"},s?n.createElement(Ke.Z,null):null,n.createElement(te.Z,{style:{visibility:"hidden"}}),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{display:"flex",flexDirection:"column",width:"70%"},n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement("fieldset",{className:f&&null!=k&&k.includes("name")?(0,ke.default)(p.lowOpacity):(0,ke.default)(p.fullWidth),disabled:f&&(null==k?void 0:k.includes("name"))},n.createElement(Ee.SeamlessInput,{required:!0,fullWidth:!0,name:"name",error:!!D.name,helperText:D.name?g("productNameError"):g("productNameHelperText"),className:(0,ke.default)(p.elements),label:g("productName"),inputRef:O({required:!0})})),n.createElement("fieldset",{className:f&&null!=k&&k.includes("code")?(0,ke.default)(p.lowOpacity):(0,ke.default)(p.fullWidth),disabled:f&&(null==k?void 0:k.includes("code"))},n.createElement(Ee.SeamlessInput,{required:!0,fullWidth:!0,error:!!D.code,helperText:D.code?g("productCodeError"):g("productCodeHelperText"),name:"code",className:(0,ke.default)(p.elements),label:g("productCode"),inputRef:O({required:!0})})),n.createElement(et,{name:"supplierId",helperText:D.description?g("supplierId","Supplier Id"):g("productSupplierIdHelperText","Enter Product Supplier Id"),value:S,handleChange:function(e){var t=e.target;return N(t.value)}})),n.createElement(we.Z,{mb:4,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement("fieldset",{className:f&&null!=k&&k.includes("description")?(0,ke.default)(p.lowOpacity):(0,ke.default)(p.fullWidth),disabled:f&&(null==k?void 0:k.includes("description"))},n.createElement(Ee.SeamlessInput,{fullWidth:!0,error:!!D.description,helperText:g("productdescriptionHelperText"),className:(0,ke.default)(p.elements),name:"description",multiline:!0,rows:4,rowsMax:4,inputRef:O(),label:g("description")})))),n.createElement(we.Z,{m:3,p:2,width:"30%"},Boolean(b||l.imageUrl)?n.createElement("img",{style:{borderRadius:6,width:"100%"},src:b||l.imageUrl,height:200}):null)),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{display:"flex",flexDirection:"column",width:"70%"},n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement("fieldset",{className:f&&null!=k&&k.includes("productType")?(0,ke.default)(p.lowOpacity):(0,ke.default)(p.fullWidth),disabled:f&&(null==k?void 0:k.includes("productType"))},n.createElement(Fe,{required:!0,fullWidth:!0,id:"create-policy-drop-down",error:!!D.productType,helperText:D.productType?g("productTypeError"):g("productTypeHelperText"),className:(0,ke.default)(p.elements),label:g("productType"),name:"productType",inputRef:O({required:!0})})),n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:V,name:"availableFrom",defaultValue:W.availableFrom,rules:{required:!0},render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:A,required:!0,fullWidth:!0,autoOk:!0,error:Boolean(D.availableFrom||rt(W.availableFrom)),className:(0,ke.default)(p.keyboardpicker,p.elements),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableFrom",label:g("availableFrom"),helperText:D.availableFrom||rt(W.availableFrom)?g("dateError"):g("availableFromHelperText"),onChange:function(e){null!=e&&e.getDate()?(D.availableFrom&&F("availableFrom"),t((0,Ne.Z)(e,"yyyy-MM-dd"))):(M("availableFrom",{type:"manual",message:null==e?void 0:e.toString()}),t(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:a},r,{minDate:q}))}})),n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:V,name:"availableUntil",rules:{required:!0},defaultValue:W.availableUntil,render:function(e){var t,a,r=e.onChange,i=e.ref,s=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:A,required:!0,fullWidth:!0,autoOk:!0,error:Boolean(D.availableUntil||"Invalid Date"===(null===(t=W.availableUntil)||void 0===t?void 0:t.toString())),className:(0,ke.default)(p.keyboardpicker,p.elements),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableUntil",label:g("availableUntil"),helperText:D.availableUntil||"Invalid Date"===(null===(a=W.availableUntil)||void 0===a?void 0:a.toString())?g("dateError"):g("availableUntilHelperText"),onChange:function(e){null!=e&&e.getDate()?(D.availableUntil&&F("availableUntil"),r((0,Ne.Z)(e,"yyyy-MM-dd"))):(M("availableUntil",{type:"manual",message:null==e?void 0:e.toString()}),r(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:i},s,{minDate:new Date(new Date(l.availableFrom).getTime()+864e5)}))}}))),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(wn,null,(function(e){var t=e.workflows;if(e.loading)return n.createElement(Te.Z,{className:(0,ke.default)(p.elements),width:"100%",animation:"wave",height:80});if(!t.length)return null;var a=t.map((function(e){return{key:e.name,value:e.id}}));return a.unshift({key:"Choose",value:null}),n.createElement(Ze.Qr,{control:V,name:"workflowId",render:function(e){var t=e.onChange,r=e.ref,l=(0,c.Z)(e,["onChange","ref"]);return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({fullWidth:!0,className:(0,ke.default)(p.elements),id:"create-policy-drop-down",label:g("workflowTitle"),helperText:g("workflowHelperText"),options:a,onChange:function(e){var a=e.target.value;t("Choose"===a?null:a)},inputRef:r},l))}})})),n.createElement(Kt,null,(function(e){var t=e.categories;if(e.loading)return n.createElement(Te.Z,{className:(0,ke.default)(p.elements),width:"100%",animation:"wave",height:80});var a=t.map((function(e){return{key:e.name,value:e.id}}));return a.unshift({key:"Choose",value:null}),n.createElement(Ze.Qr,{control:V,name:"categoryId",render:function(e){var t=e.onChange,r=e.ref,l=(0,c.Z)(e,["onChange","ref"]);return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({fullWidth:!0,id:"create-policy-drop-down",className:(0,ke.default)(p.elements),label:g("categoryTitle"),helperText:g("categoryHelperText"),disabled:f&&(null==k?void 0:k.includes("category")),options:a,onChange:function(e){var a=e.target.value;t("Choose"===a?null:a)},inputRef:r},l))}})})),n.createElement(xn,null,(function(e){var t=e.taxes;if(e.loading)return n.createElement(Te.Z,{className:(0,ke.default)(p.elements),width:"100%",animation:"wave",height:80});var a=t.map((function(e){return{key:e.taxType,taxValue:e.id}})),r=[],l=W.taxIds;return l&&l.length&&a.length&&(r=l.map((function(e){return a.filter((function(t){return t.taxValue===e}))[0]}))),n.createElement(Ze.Qr,{control:V,name:"taxIds",render:function(e){var t=e.onChange,l=(0,c.Z)(e,["onChange"]);return n.createElement(Ge.ZP,{multiple:!0,fullWidth:!0,className:(0,ke.default)(p.elements),id:"tags-standard",disabled:f&&(null==k?void 0:k.includes("tax")),options:a,getOptionLabel:function(e){return e.key},defaultValue:r,filterSelectedOptions:!0,onChange:function(e,a){var n=a.map((function(e){return e.taxValue}));t(n.length?n:null)},getOptionSelected:function(e,t){return e.taxValue===t.taxValue},renderInput:function(e){return n.createElement(ze.Z,(0,o.Z)({},e,{variant:"standard",label:g("taxesTitle"),helperText:g("taxesHelperText")},l))}})}})})))),n.createElement(we.Z,{width:"30%",m:3,p:2},n.createElement(Ze.Qr,{control:V,name:"imageUrl",defaultValue:"",render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement(ye(),(0,o.Z)({onChange:function(e){var a="".concat((0,_e.getSrc)(e.target.value,"inventory"));t(a),y(a)},resourceType:"inventory",label:g("uploadProductImage"),inputRef:a},r))}}))),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"column",width:"70%"},B.map((function(e,t){return n.createElement(we.Z,{key:e.id,width:"70%",flexDirection:"row",display:"flex"},n.createElement(Ze.Qr,{name:"data.".concat(t,".dataName"),ref:O,control:V,defaultValue:e.dataName,render:function(e){var a,r,l,i;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==D||null===(a=D.data)||void 0===a||null===(r=a[t])||void 0===r||!r.dataName),helperText:null!=D&&null!==(l=D.data)&&void 0!==l&&null!==(i=l[t])&&void 0!==i&&i.dataName?g("dataNameError"):g("dataNameHelperText"),placeholder:g("dataName","Name"),fullWidth:!0,className:(0,ke.default)(p.elements)},e))}}),n.createElement(Ze.Qr,{name:"data.".concat(t,".dataValue"),ref:O,defaultValue:e.dataValue,control:V,render:function(e){var a,r,l,i;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==D||null===(a=D.data)||void 0===a||null===(r=a[t])||void 0===r||!r.dataValue),helperText:null!=D&&null!==(l=D.data)&&void 0!==l&&null!==(i=l[t])&&void 0!==i&&i.dataValue?g("dataValueError"):g("dataValueHelperText"),placeholder:g("dataValue","Value"),fullWidth:!0,className:(0,ke.default)(p.elements)},e))}}),n.createElement(Le.Z,{"aria-label":"delete",className:p.delete,onClick:function(){return H(t)}},n.createElement(Qe.Z,null,"delete")))})),n.createElement(Ee.SeamlessButton,{color:"primary",variant:"outlined",size:"small",onClick:function(e){return U({dataName:"",dataValue:""})},className:(0,ke.default)(p.elements,p.button),endIcon:n.createElement(Qe.Z,null,"add")},g("addDataItems","Add Data")))),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(Ee.SeamlessButton,{id:"seamless-product-form",className:(0,ke.default)(p.elements),onClick:I((function(e){e.supplierId=S;var t=e.availableFrom,a=e.availableUntil;if(t>=a&&rt(a)&&M("availableUntil",{type:"manual",message:"Invalid Date"}),rt(t)||rt(a))rt(t)&&M("availableFrom",{type:"manual",message:"Invalid Date"}),rt(a)&&M("availableUntil",{type:"manual",message:"Invalid Date"});else if(!Object.keys(D).length){delete l.data;var n=at(at({},l),e);i&&i(n)}})),color:"primary",variant:"contained"},g("submitButton","Submit")),n.createElement(Ee.SeamlessButton,{id:"seamless-product-form",onClick:function(){return function(e){e.id&&j(e),d&&d()}(l)},className:(0,ke.default)(p.elements),variant:"contained",color:"secondary"},g("resetButton","reset"))))};var it=a(8629),ot=a(38724),ct=a(70331),st=a(15223),ut=a(99688);function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ft=(0,ge.Z)((function(e){return(0,ve.Z)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},alert:{marginLeft:e.spacing(3)}})})),pt={productSKU:"",supplierReference:"",EANCode:"",status:"available",unitPrice:{price:0,variablePrice:!1,currency:""},imageUrl:"",unitOfMeasure:{unit:"",quantity:0},weight:{unit:"",value:0},volume:{unit:"",value:0},warrantyPeriod:{unit:"",value:0},termsAndConditions:"",availableFrom:(0,Ne.Z)(new Date,"yyyy-MM-dd"),availableUntil:(0,Ne.Z)(new Date,"yyyy-MM-dd"),createdAt:"",updatedAt:"",data:[]};const gt=function(){var e=(0,x.useTranslation)().t,t=ft(),a=n.useState(pt),r=(0,u.Z)(a,2),l=r[0],o=r[1],c={code:"",name:"",description:"",supplierId:"",workflowId:null,taxIds:null,categoryId:null,productType:"serialised",imageUrl:"",availableFrom:(0,Ne.Z)(new Date,"yyyy-MM-dd"),availableUntil:(0,Ne.Z)(new Date,"yyyy-MM-dd"),data:[],variants:[]},s=(0,i.useHistory)(),d=n.useState(!1),m=(0,u.Z)(d,2),f=m[0],p=m[1],g=function(){p(!0)},v=function(){p(!1)},E=function(){return s.push("/home/product/products/create")};return n.createElement(Ae,null,(function(a){var r=a.saveProduct,i=a.loading;return n.createElement(n.Fragment,null,n.createElement(we.Z,{display:"flex",flexDirection:"row",mb:2},n.createElement(Ee.SeamlessButton,{id:"product-variant-form-button",variant:"contained",color:"primary",onClick:g},l.productSKU?e("updateProductVariantForm","Update Product Variant"):e("fillProductVariantForm","Create Product Variant")),l.productSKU?n.createElement(ut.Z,{className:t.alert,severity:"info"},e("productVariantCreationInfo","Product Variant has been Added")):n.createElement(ut.Z,{className:t.alert,severity:"error"},e("productVariantCreationError","Please create a product variant!!"))),n.createElement(lt,{onFormSubmit:function(e){var t,a;l&&(null!=l&&l.unitProducts&&(null==l||null===(t=l.unitProducts)||void 0===t?void 0:t.length)>=1&&(e.data?e.data.some((function(e){return"isBatch"===e.dataName}))||null==e||null===(a=e.data)||void 0===a||a.push({dataName:"isBatch",dataValue:"true"}):e.data=[{dataName:"isBatch",dataValue:"isTrue"}]),r({product:mt(mt({},e),{},{variants:[l]})}))},data:c,loading:i,onReset:E}),n.createElement(it.Z,{fullWidth:!0,maxWidth:"lg",open:f,disableEnforceFocus:!0,onClose:v,"aria-labelledby":"product-variant-dialog"},n.createElement(ct.Z,{className:t.appBar},n.createElement(st.Z,null,n.createElement(Le.Z,{edge:"start",color:"inherit",onClick:v,"aria-label":"close"},n.createElement(Qe.Z,null,"close")),n.createElement(Se.Z,{variant:"h6",className:t.title},e("productVariant","Product Variant")))),n.createElement(ot.Z,null,n.createElement(Bt,{id:""},(function(e){e.saveProductVariant;var t=e.loading;return n.createElement(Rt,{onFormSubmit:function(e){v(),o(e)},data:l,loading:t,edit:!1})})))))}))},vt=function(e){var t=e.children,a=n.useState(!1),r=(0,u.Z)(a,2),l=r[0],o=r[1],c=S(),s=c.showErrorMessage,d=c.showSuccessMessage,m=(0,i.useHistory)(),g=n.useCallback((function(e){var t;o(!0),(t=e,f("".concat(p,"/product"),{method:"PUT",body:t})).then((function(e){d(e),m.goBack()})).catch((function(e){return s(e)})).finally((function(){o(!1)}))}),[]);return n.createElement(n.Fragment,null,t({editProduct:g,loading:l}))},Et=function(e){var t=e.id,a=(0,i.useHistory)(),r=function(){return a.push("/home/product/products/edit/".concat(t))};return n.createElement(vt,null,(function(e){var a=e.editProduct,l=e.loading;return n.createElement(Ie,{productId:t,reload:l},(function(e){var t=e.product,l=e.loading;return n.createElement(lt,{onFormSubmit:function(e){return a({product:e})},data:t,loading:l,onReset:r,edit:!0})}))}))};var ht=function(e){var t=e.children,a=e.productId,r=n.useState([]),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=S().showErrorMessage;return n.useEffect((function(){m(!0),function(e){return f("/pms/v1/product/".concat(e,"/variant"))}(a).then((function(e){return o(e.variants||[])})).catch((function(e){return p(e)})).finally((function(){return m(!1)}))}),[]),n.createElement(n.Fragment,null,t({productVariants:i,loading:d}))};const Zt=n.memo(ht,(function(e,t){return e.productId===t.productId}));(0,ge.Z)((function(e){return(0,ve.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},formWrapper:{padding:"".concat(e.spacing(1.5)," 0")},formWidget:{marginTop:e.spacing(5),"& .MuiFormControl-root":{marginBottom:e.spacing(1.5),marginRight:e.spacing(1.5)},"& .MuiTypography-root":{marginBottom:e.spacing(1)}},saveBtn:{marginTop:e.spacing(3)},modalImageSize:{maxWidth:70},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const bt=function(e){var t=e.productVariants,a=e.loading,r=e.productId,l=e.disableActions,o=((0,c.Z)(e,["productVariants","loading","productId","disableActions"]),(0,x.useTranslation)().t),s=(0,i.useHistory)(),d=ue()().checkPermission,m=n.useState(!1),p=(0,u.Z)(m,2),g=p[0],v=p[1],E=n.useState(0),h=(0,u.Z)(E,2),Z=h[0],b=h[1],y=n.useState(""),_=(0,u.Z)(y,2),w=_[0],N=_[1],k=n.useState([]),T=(0,u.Z)(k,2),C=T[0],O=T[1],P=S(),D=P.showErrorMessage,V=P.showSuccessMessage,I=function(){(function(e,t){return f("/pms/v1/product/".concat(e,"/variant/").concat(t),{method:"DELETE"})})(r,Z).then((function(e){v(!1),V(e),s.push("/home/product/".concat(r,"/variants"))})).catch((function(e){return D(e)}))},j=function(){O([]),v(!1)},M=[{field:"variantId",headerName:o("variantId"),sortable:!0,flex:1},{field:"productSKU",headerName:o("productSKU"),sortable:!0,flex:1},{field:"supplierReference",headerName:o("supplierReference"),sortable:!0,flex:1},{field:"status",headerName:o("status"),sortable:!0,flex:1},{field:"price",headerName:o("price"),sortable:!0,flex:1,valueGetter:function(e){var t=e.getValue("unitPrice");return t.price?t.price.toString():o("emptyValueMark")}},{field:"currency",headerName:o("currency"),sortable:!0,flex:1,valueGetter:function(e){var t,a,n=e.getValue("unitPrice");return null!==(t=n.currency)&&void 0!==t&&t.toString()?null===(a=n.currency)||void 0===a?void 0:a.toString():o("emptyValueMark")}},{field:"termsAndConditions",headerName:o("termsAndConditions"),sortable:!0,flex:1,valueGetter:function(e){var t=e.row.termsAndConditions;return null!=t&&t.toString()?null==t?void 0:t.toString():o("emptyValueMark")}},{field:"actions",headerName:o("actions"),filterable:!1,sortable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"product variant action buttons"},!l&&d(U)&&n.createElement(ne.ZP,{title:"Edit"},n.createElement(te.Z,{style:{minWidth:"10px"},component:i.Link,to:"/home/product/".concat(r,"/variants/edit/")+e.getValue("variantId")},n.createElement(re.Z,{fontSize:"small"}))),d(F)&&n.createElement(ne.ZP,{title:"View"},n.createElement(te.Z,{style:{minWidth:"10px"},component:i.Link,to:"/home/product/".concat(r,"/variants/view/")+e.getValue("variantId")},n.createElement(le.Z,{fontSize:"small"}))),!l&&d(H)&&n.createElement(ne.ZP,{title:"Delete"},n.createElement(te.Z,{style:{minWidth:"10px"},onClick:function(){return v(!0)}},n.createElement(ie.Z,{fontSize:"small",style:{color:ce.Z[400]}})))),n.createElement(_n,{open:g,onClose:j,onOk:I,dialogTitle:o("deleteProductVariantConfirmationTitle"),dialogDescription:"".concat(o("deleteProductVariantConfirmationDescription")," ").concat(w)}))},flex:1}];return n.createElement(ee(),{loading:a,columnBuffer:2,rows:t,getRowId:function(e){return e.productSKU},columns:M,checkboxSelection:!1,onRowSelected:function(e){var t=e.data;b(t.variantId),N(t.productSKU)},onSelectionModelChange:function(e){var t=e.selectionModel;return O(t)},selectionModel:C})};var yt=function(e){var t=(0,i.useParams)().productId,a=ue()().AccessControlled;return n.createElement(a,{feature:I},n.createElement(Zt,{productId:t},(function(a){var r=a.productVariants,l=a.loading;return n.createElement(bt,{productVariants:r,loading:l,productId:t,disableActions:e.disableActions||!1})})))};const _t=n.memo(yt,(function(e,t){return e.children===t.children}));(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},dividerSpacing:{marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",flexWrap:"wrap"},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},fullWidth:{width:"100%"},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},imageBox:{position:"sticky",top:"10%"},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"}})}));var wt=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));const xt=function(e){var t,a,r,l,i,o,c,s,u,d,m,f,p,g,v,E,h=e.data,Z=(0,x.useTranslation)().t,b=wt(),y=null===(t=null===(a=window.config)||void 0===a||null===(r=a.product)||void 0===r?void 0:r.showUnits)||void 0===t||t;return n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:b.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},Z("productVariantFormTitle")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("productSku"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},h.productSKU)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("supplierReference"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},h.supplierReference))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("termsAndConditions"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},h.termsAndConditions)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("status"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},h.status))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("eanCode"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},h.EANCode)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("availableFrom"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},h.availableFrom&&(0,Ne.Z)(new Date(h.availableFrom),"MM/dd/yyyy")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("availableUntil"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},h.availableUntil&&(0,Ne.Z)(new Date(h.availableUntil),"MM/dd/yyyy")))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(b.spacingBottom,b.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},Z("data")))),null!==(l=h.data)&&void 0!==l&&l.length?null===(i=h.data)||void 0===i?void 0:i.map((function(e,t){return n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),key:t,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("dataName"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},e.dataName)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("dataValue"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},e.dataValue)))})):n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},Z("noDataLabel")))),y&&n.createElement(n.Fragment,null,n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(b.spacingBottom,b.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},Z("unit")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("currency"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(o=h.unitPrice)||void 0===o?void 0:o.currency)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("unitPrice"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(c=h.unitPrice)||void 0===c?void 0:c.price))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("variablePrice"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(s=h.unitPrice)||void 0===s?void 0:s.variablePrice.toString()))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(b.spacingBottom,b.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},Z("measure")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("unit"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(u=h.unitOfMeasure)||void 0===u?void 0:u.unit)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("quantity"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(d=h.unitOfMeasure)||void 0===d?void 0:d.quantity))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(b.spacingBottom,b.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},Z("weight")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("unit"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(m=h.weight)||void 0===m?void 0:m.unit)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("value"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(f=h.weight)||void 0===f?void 0:f.value))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(b.spacingBottom,b.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},Z("volume")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("unit"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(p=h.volume)||void 0===p?void 0:p.unit)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("value"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(g=h.volume)||void 0===g?void 0:g.value))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(b.spacingBottom,b.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},Z("warranty")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(b.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("unit"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(v=h.warrantyPeriod)||void 0===v?void 0:v.unit)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldHeading)},Z("value"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(b.fieldValue)},null===(E=h.warrantyPeriod)||void 0===E?void 0:E.value))))),n.createElement(xe.Z,{item:!0,xs:12,sm:2},Boolean(h.imageUrl)?n.createElement(we.Z,{border:.2,borderColor:"grey.200",p:2},n.createElement("img",{style:{borderRadius:6},src:h.imageUrl,height:200,className:(0,ke.default)(b.responsiveImage)})):null))},St=function(e){var t=e.disable,a=void 0!==t&&t,r=(0,i.useParams)().productId;return(0,ue()().checkPermission)(V)?n.createElement(Ee.SeamlessButton,{component:i.Link,to:"/home/product/".concat(r,"/variants/create"),variant:"contained",color:"primary",disabled:a,endIcon:n.createElement(Pe.Z,null)},"Create Product Variant"):null},Nt=function(e){var t=e.children,a=e.productId,r=e.variantId,l=n.useState({}),i=(0,u.Z)(l,2),o=i[0],c=i[1],s=n.useState(!1),d=(0,u.Z)(s,2),m=d[0],p=d[1],g=S().showErrorMessage;return n.useEffect((function(){p(!0),function(e,t){return f("/pms/v1/product/".concat(e,"/variant/").concat(t))}(a,r).then((function(e){return c(e.productVariant)})).catch((function(e){return g(e)})).finally((function(){return p(!1)}))}),[]),n.createElement(n.Fragment,null,t({productVariant:o,loading:m}))};var kt=a(21324),Tt=a(7089),Ct=a(59816),Ot=a(16218);function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Vt=n.createElement(Ot.Z,{fontSize:"small"}),It=n.createElement(Ct.Z,{fontSize:"small"}),jt=function(e){return"Invalid Date"===e},Mt=(0,ge.Z)((function(e){return(0,ve.Z)({elements:{marginRight:e.spacing(2),marginTop:e.spacing(.5)},quantityInput:{marginRight:e.spacing(2),marginTop:"10px"},keyboardpicker:{width:"100%"},delete:{color:e.palette.error.main},button:{width:300},input:{marginTop:"16px"},dialogWrapper:{textAlign:"left","& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},primaryButton:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,padding:"".concat(e.spacing(1),"px ").concat(e.spacing(3),"px"),borderRadius:e.shape.borderRadius},lowOpacity:{border:"none",width:"100%",opacity:.7,cursor:"default"},fullWidth:{border:"none",width:"100%"}})})),Ft=function(e){e.target.value.length>16&&(e.target.value=e.target.value.slice(0,16))};const Rt=function(e){var t,a,r,l,i,s,d,m,g,v,E,h,Z,b,y,_,w,N,k=e.data,T=e.loading,C=e.onFormSubmit,O=e.edit,P=(0,x.useTranslation)().t,D=Mt(),V=n.useState(""),I=(0,u.Z)(V,2),j=I[0],F=I[1],R=n.useState("no"),B=(0,u.Z)(R,2),U=B[0],H=B[1],W=n.useState([]),q=(0,u.Z)(W,2),A=q[0],z=q[1],L=S().showErrorMessage,K=n.useState([]),Q=(0,u.Z)(K,2),G=Q[0],X=Q[1],$=n.useState([]),Y=(0,u.Z)($,2),J=(Y[0],Y[1],n.useState([])),ee=(0,u.Z)(J,2),ae=ee[0],ne=ee[1],re=ue()().checkPermission,le=pe.Ry().shape({productSKU:pe.Z_().required(P("productSKUError")),status:pe.Z_().required(P("statusError")),termsAndConditions:pe.Z_(),availableFrom:pe.Z_().required(P("availableFromError")),availableUntil:pe.Z_().required(P("availableUntilError")),EANCode:pe.Z_().nullable(),imageUrl:pe.Z_().nullable(),data:pe.IX(pe.Ry({dataName:pe.Z_(),dataValue:pe.Z_().when("dataName",{is:function(e){return""!==e},then:pe.Z_().required()})})),unitProducts:pe.IX(pe.Ry({productSKU:pe.Z_(),quantity:pe.Rx().when("productSKU",{is:function(e){return""!==e},then:pe.Rx().required()})})),unitPrice:pe.Ry({variablePrice:pe.O7(),currency:pe.Z_().nullable()}).nullable(),unitOfMeasure:pe.Ry({unit:pe.Z_().nullable()}).nullable(),weight:pe.Ry({unit:pe.Z_().nullable()}).nullable(),volume:pe.Ry({unit:pe.Z_().nullable()}).nullable(),warrantyPeriod:pe.Ry({unit:pe.Z_().nullable()}).nullable()}),ie=null===(t=window)||void 0===t||null===(a=t.config)||void 0===a?void 0:a.product,oe=(null==ie?void 0:ie.singleSelectProductSKUDropdown)||!1,ce=(null==ie?void 0:ie.disableVariantsFormFieldsOnEdit)||[],se=(0,Ze.cI)({mode:"onSubmit",defaultValues:k,resolver:(0,Ye.X)(le),reValidateMode:"onChange"}),de=se.register,me=se.getValues,fe=se.setValue,ge=se.errors,ve=se.control,be=se.handleSubmit,xe=se.reset,Se=se.setError,Te=se.clearErrors,Ce=(0,Ze.Dq)({name:"data",control:ve}),Oe=Ce.fields,Pe=Ce.append,De=Ce.remove,Ve=(0,Ze.Dq)({name:"unitProducts",control:ve}),Ie=Ve.fields,je=Ve.append,Me=Ve.remove,Fe=me(),Re=new Date,Be=n.useState(null===(r=Fe.unitPrice)||void 0===r?void 0:r.variablePrice),Ue=(0,u.Z)(Be,2),He=Ue[0],We=Ue[1];n.useEffect((function(){if(ae.length>0){var e,t,a,n=null==k||null===(e=k.data)||void 0===e?void 0:e.filter((function(e){return"UpsellProductOption"===e.dataName}))[0];if(n&&(H(n.dataValue),fe("upsell",n.dataValue),(null==k||null===(a=k.upSellProducts)||void 0===a?void 0:a.length)>0)){var r=ae.filter((function(e){return null==k?void 0:k.upSellProducts.includes(e.productSKU)}));X(r)}k.unitProducts||(k.unitProducts=[]),xe(k),null!==(t=k.unitPrice)&&void 0!==t&&t.variablePrice&&We(!0)}}),[k,ae]),n.useEffect((function(){var e=[];f("".concat(p,"/product")).then((function(t){z(t.products),t.products.map((function(t){t.variants.map((function(t){e.push(t)}))})),ne(e)})).catch((function(e){return L(e)}))}),[]);var qe=window.config.openCalendarWith||"year",Ae=null===(l=null===(i=window.config)||void 0===i||null===(s=i.product)||void 0===s?void 0:s.showUnits)||void 0===l||l;return n.createElement(we.Z,{display:"flex",flexDirection:"column"},T?n.createElement(Ke.Z,null):null,n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{display:"flex",flexDirection:"column",width:"70%"},n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("productSKU")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("productSKU"))},n.createElement(Ee.SeamlessInput,{required:!0,fullWidth:!0,name:"productSKU",error:!(null==ge||!ge.productSKU),helperText:null!=ge&&ge.productSKU?P("productSKUError"):P("productSKUHelperText"),className:(0,ke.default)(D.elements),inputRef:de({required:!0}),label:P("productSku")})),n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"supplierReference",error:!(null==ge||!ge.supplierReference),helperText:P("supplierReferenceHelperText"),className:(0,ke.default)(D.elements),inputRef:de(),label:P("supplierReference")}),n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"termsAndConditions",className:(0,ke.default)(D.elements),error:!(null==ge||!ge.termsAndConditions),helperText:null!=ge&&ge.termsAndConditions?P("termsAndConditionError"):P("termsAndConditionHelperText"),label:P("termsAndConditions"),inputRef:de({required:!0})})),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("status")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("status"))},n.createElement(Ee.SeamlessDropDown,{required:!0,fullWidth:!0,className:(0,ke.default)(D.elements),name:"status",id:"create-policy-drop-down",error:!(null==ge||!ge.status),helperText:null!=ge&&ge.status?P("statusError"):P("statusHelperText"),label:P("status"),options:["available","decommissioned","blocked"].map((function(e){return{value:e,key:P(e)}})),inputRef:de({required:!0})})),n.createElement(Ee.SeamlessInput,{fullWidth:!0,className:(0,ke.default)(D.elements),name:"EANCode",helperText:P("eanCodeHelperText"),label:P("eanCode"),inputRef:de()}))),n.createElement(we.Z,{m:3,p:2,width:"30%"},Boolean(j||k.imageUrl)?n.createElement("img",{style:{borderRadius:6,width:"100%"},src:j||k.imageUrl,height:200}):null)),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{display:"flex",flexDirection:"column",width:"70%"},n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:ve,name:"availableFrom",rules:{required:!0},render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:qe,required:!0,autoOk:!0,fullWidth:!0,error:Boolean((null==ge?void 0:ge.availableFrom)||jt(Fe.availableFrom)),className:(0,ke.default)(D.elements,D.keyboardpicker),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableFrom",label:P("availableFrom"),helperText:null!=ge&&ge.availableFrom||jt(Fe.availableFrom)?P("dateError"):P("availableFromHelperText"),onChange:function(e){null!=e&&e.getDate()?((null==ge?void 0:ge.availableFrom)&&Te("availableFrom"),t((0,Ne.Z)(e,"yyyy-MM-dd"))):(Se("availableFrom",{type:"manual",message:null==e?void 0:e.toString()}),t(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:a},r,{minDate:Re}))}})),n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:ve,name:"availableUntil",defaultValue:Fe.availableUntil,rules:{required:!0},render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:qe,required:!0,fullWidth:!0,autoOk:!0,error:Boolean((null==ge?void 0:ge.availableUntil)||jt(Fe.availableUntil)),className:(0,ke.default)(D.elements,D.keyboardpicker),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableUntil",label:P("availableUntil"),helperText:null!=ge&&ge.availableUntil||jt(Fe.availableUntil)?P("dateError"):P("availableUntilHelperText"),onChange:function(e){null!=e&&e.getDate()?((null==ge?void 0:ge.availableUntil)&&Te("availableUntil"),t((0,Ne.Z)(e,"yyyy-MM-dd"))):(Se("availableUntil",{type:"manual",message:null==e?void 0:e.toString()}),t(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:a},r,{minDate:new Date(new Date(k.availableFrom).getTime()+864e5)}))}}))),!(null!=ce&&ce.includes("upsellOptions"))&&n.createElement(we.Z,{mb:3},n.createElement(Ee.SeamlessDropDown,{required:!0,fullWidth:!0,className:(0,ke.default)(D.elements),name:"upsell",id:"upsell-option",error:!(null==ge||!ge.status),helperText:null!=ge&&ge.status?P("upsellOptionsError"):P("upsellOptionsHelper"),label:P("upsellOptions"),options:["no","static","dynamic"].map((function(e){return{value:e,key:P(e)}})),inputRef:de({required:!0}),onChange:function(e){var t;t=e.target.value,H(t),"static"!==e.target.value&&X([])}}),"static"===U&&n.createElement(Ge.ZP,{multiple:!oe,limitTags:3,id:"product-sku",className:(0,ke.default)(D.elements),options:ae.map((function(e){return e})),disableCloseOnSelect:!0,value:oe?G[0]:G,getOptionLabel:function(e){return e.productSKU},getOptionSelected:function(e,t){return e.variantId===t.variantId},onChange:function(e,t){var a=[];oe?a.push(t):t.map((function(e){a.push(e)})),X(a)},renderTags:function(e,t){return G.map((function(e,a){return n.createElement(Tt.Z,(0,o.Z)({label:e.productSKU,key:a,color:"primary"},t({index:a})))}))},renderOption:function(e,t){return t.selected,n.createElement("div",null,!oe&&n.createElement(kt.Z,{icon:Vt,checkedIcon:It,className:D.dialogWrapper,checked:G.some((function(t){return e.variantId===t.variantId}))}),e.productSKU)},renderInput:function(e){return n.createElement(ze.Z,(0,o.Z)({},e,{label:P("productSku"),placeholder:P("productSku")}))}})),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"column"},Ie.map((function(e,t){var a=A.map((function(e){if(e.variants.length>=1)return{key:e.variants[0].productSKU,value:e.variants[0].productSKU}}));return a.unshift({key:"Choose",value:""}),n.createElement(we.Z,{key:e.id,width:"70%",flexDirection:"row",display:"flex"},n.createElement(Ze.Qr,{name:"unitProducts.".concat(t,".productSKU"),ref:de,control:ve,render:function(r){var l=r.onChange,i=(0,c.Z)(r,["onChange"]);return n.createElement(Ge.ZP,{fullWidth:!0,className:(0,ke.default)(D.elements),id:"unit-products-product-sku",defaultValue:null!=e&&e.productSKU?{key:null==e?void 0:e.productSKU,value:null==e?void 0:e.productSKU}:{},options:a,getOptionLabel:function(e){return e.key},getOptionSelected:function(e,t){return(null==e?void 0:e.value)===(null==t?void 0:t.value)},filterSelectedOptions:!0,onChange:function(e,t){l(t.key)},renderInput:function(a){var r,l,c,s;return n.createElement(ze.Z,(0,o.Z)({},a,{variant:"standard",label:P("productSKUSearchTitle"),defaultValue:e.productSKU,error:!(null==ge||null===(r=ge.unitProducts)||void 0===r||null===(l=r[t])||void 0===l||!l.productSKU),helperText:null!=ge&&null!==(c=ge.unitProducts)&&void 0!==c&&null!==(s=c[t])&&void 0!==s&&s.productSKU?P("unitProductsProductSKUError"):P("productSKUSearchHelperText")},i))}})}}),n.createElement(Ze.Qr,{name:"unitProducts.".concat(t,".quantity"),ref:de,defaultValue:e.quantity,control:ve,render:function(e){var a,r,l,i;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==ge||null===(a=ge.unitProducts)||void 0===a||null===(r=a[t])||void 0===r||!r.quantity),helperText:null!=ge&&null!==(l=ge.unitProducts)&&void 0!==l&&null!==(i=l[t])&&void 0!==i&&i.quantity?P("unitProductsProductQuantityError"):P("unitProductsProductQuantityHelperText"),placeholder:P("quantity","Quantity"),fullWidth:!0,className:(0,ke.default)(D.quantityInput)},e))}}),n.createElement(Le.Z,{"aria-label":"delete",className:D.delete,onClick:function(){return Me(t)}},n.createElement(Qe.Z,null,"delete")))})),re(M)&&n.createElement(Ee.SeamlessButton,{color:"primary",variant:"outlined",size:"small",onClick:function(e){return je({productSKU:"",quantity:""})},className:(0,ke.default)(D.elements,D.button),endIcon:n.createElement(Qe.Z,null,"add")},P("addUnitProductsItems","Add Unit Products"))),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"column"},null==Oe||null===(d=Oe.filter((function(e){return"UpsellProductOption"!==(null==e?void 0:e.dataName)})))||void 0===d?void 0:d.map((function(e,t){return n.createElement(we.Z,{key:t,width:"70%",flexDirection:"row",display:"flex"},n.createElement(Ze.Qr,{name:"data.".concat(t,".dataName"),ref:de,control:ve,defaultValue:e.dataName,render:function(e){var a,r,l,i;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==ge||null===(a=ge.data)||void 0===a||null===(r=a[t])||void 0===r||!r.dataName),helperText:null!=ge&&null!==(l=ge.data)&&void 0!==l&&null!==(i=l["".concat(t)])&&void 0!==i&&i.dataName?P("dataNameError"):P("dataNameHelperText"),placeholder:P("dataName","Name"),fullWidth:!0,className:(0,ke.default)(D.elements)},e))}}),n.createElement(Ze.Qr,{name:"data.".concat(t,".dataValue"),ref:de,defaultValue:e.dataValue,control:ve,render:function(e){var a,r,l,i;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==ge||null===(a=ge.data)||void 0===a||null===(r=a[t])||void 0===r||!r.dataValue),helperText:null!=ge&&null!==(l=ge.data)&&void 0!==l&&null!==(i=l[t])&&void 0!==i&&i.dataValue?P("dataValueError"):P("dataValueHelperText"),placeholder:P("dataValue","Value"),fullWidth:!0,className:(0,ke.default)(D.elements)},e))}}),n.createElement(Le.Z,{"aria-label":"delete",className:D.delete,onClick:function(){return De(t)}},n.createElement(Qe.Z,null,"delete")))})),n.createElement(Ee.SeamlessButton,{color:"primary",variant:"outlined",size:"small",onClick:function(e){return Pe({dataName:"",dataValue:""})},className:(0,ke.default)(D.elements,D.button),endIcon:n.createElement(Qe.Z,null,"add")},P("addDataItems","Add Data")))),n.createElement(we.Z,{m:3,p:2,width:"30%"},n.createElement(Ze.Qr,{control:ve,name:"imageVariantUrl",defaultValue:Fe.imageUrl,render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement(ye(),(0,o.Z)({onChange:function(e){var a="".concat((0,_e.getSrc)(e.target.value,"inventory"));t(a),F(a)},resourceType:"inventory",label:P("uploadProductVariantImage"),inputRef:a},r))}}))),Ae&&n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{display:"flex",flexDirection:"column",width:"70%"},n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("unitPrice.currency")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("unitPrice.currency"))},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"unitPrice.currency",className:(0,ke.default)(D.elements),defaultValue:null===(m=Fe.unitPrice)||void 0===m?void 0:m.currency,label:P("currency"),helperText:P("currencyHelperText"),inputRef:de})),n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("unitPrice.price")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("unitPrice.price"))},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"unitPrice.price",className:(0,ke.default)(D.elements),defaultValue:null===(g=Fe.unitPrice)||void 0===g?void 0:g.price,label:P("unitPrice"),helperText:P("unitPriceHelperText"),type:"number",inputRef:de,onInput:Ft,readOnly:He})),!(null!=ce&&ce.includes("variablePrice"))&&n.createElement(we.Z,{width:200},n.createElement("label",{htmlFor:"unitPrice.variablePrice"},P("variablePrice")),n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("unitPrice.variablePrice")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("unitPrice.variablePrice"))},n.createElement("input",{id:"unitPrice.variablePrice",style:{zoom:2.5},name:"unitPrice.variablePrice",type:"checkbox",defaultChecked:null===(v=Fe.unitPrice)||void 0===v?void 0:v.variablePrice,ref:de,onChange:function(e){return We(e.target.checked)}})))),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("unitOfMeasure.unit")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("unitOfMeasure.unit"))},n.createElement(Ee.SeamlessInput,{name:"unitOfMeasure.unit",fullWidth:!0,className:(0,ke.default)(D.elements),defaultValue:null===(E=Fe.unitOfMeasure)||void 0===E?void 0:E.unit,label:P("unit"),helperText:P("measureUnitHelperText"),inputRef:de()})),n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("unitOfMeasure.quantity")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("unitOfMeasure.quantity"))},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"unitOfMeasure.quantity",className:(0,ke.default)(D.elements),defaultValue:null===(h=Fe.unitOfMeasure)||void 0===h?void 0:h.quantity,label:P("quantity"),helperText:P("measureQuantityHelperText"),type:"number",inputRef:de()}))),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("weight.unit")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("weight.unit"))},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"weight.unit",className:(0,ke.default)(D.elements),defaultValue:null===(Z=Fe.weight)||void 0===Z?void 0:Z.unit,label:P("unit"),helperText:P("weightUnitHelperText"),inputRef:de()})),n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("weight.value")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("weight.value"))},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"weight.value",className:(0,ke.default)(D.elements),defaultValue:null===(b=Fe.weight)||void 0===b?void 0:b.value,label:P("value"),helperText:P("weightValueHelperText"),type:"number",inputRef:de()}))),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("volume.unit")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("volume.unit"))},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"volume.unit",className:(0,ke.default)(D.elements),defaultValue:null===(y=Fe.volume)||void 0===y?void 0:y.unit,label:P("unit"),helperText:P("volumeUnitHelperText"),inputRef:de()})),n.createElement("fieldset",{className:O&&null!=ce&&ce.includes("volume.value")?(0,ke.default)(D.lowOpacity):(0,ke.default)(D.fullWidth),disabled:O&&(null==ce?void 0:ce.includes("volume.value"))},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"volume.value",className:(0,ke.default)(D.elements),defaultValue:null===(_=Fe.volume)||void 0===_?void 0:_.value,label:P("value"),helperText:P("volumeValueHelperText"),type:"number",inputRef:de()}))),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"warrantyPeriod.unit",className:(0,ke.default)(D.elements),defaultValue:null===(w=Fe.warrantyPeriod)||void 0===w?void 0:w.unit,label:P("unit"),helperText:P("warrantyUnitHelperText"),inputRef:de()}),n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"warrantyPeriod.value",className:(0,ke.default)(D.elements),defaultValue:null===(N=Fe.warrantyPeriod)||void 0===N?void 0:N.value,label:P("value"),helperText:P("warrantyValueHelperText"),type:"number",inputRef:de()})))),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(te.Z,{className:(0,ke.default)(D.elements),onClick:be((function(e){var t=e.availableFrom,a=e.availableUntil;if(t>=a&&jt(a)&&Se("availableUntil",{type:"manual",message:"Invalid Date"}),jt(t)||jt(a))jt(t)&&Se("availableFrom",{type:"manual",message:"Invalid Date"}),jt(a)&&Se("availableUntil",{type:"manual",message:"Invalid Date"});else if(!Object.keys(ge).length){var n;e.imageUrl=e.imageVariantUrl,delete e.imageVariantUrl,e.data?e.data.some((function(e){return"UpsellProductOption"===e.dataName}))||null===(n=e.data)||void 0===n||n.push({dataName:"UpsellProductOption",dataValue:U}):e.data=[{dataName:"UpsellProductOption",dataValue:U}],e.upSellProducts=G;var r=Dt(Dt({},k),e);C&&C(r)}})),color:"primary",variant:"contained"},P("submitButton","Submit")),n.createElement(te.Z,{onClick:function(){return xe(k)},className:(0,ke.default)(D.elements),color:"secondary",variant:"contained"},P("resetButton","reset"))))},Bt=function(e){var t=e.children,a=e.id,r=n.useState(!1),l=(0,u.Z)(r,2),o=l[0],c=l[1],s=S(),d=s.showErrorMessage,m=s.showSuccessMessage,p=(0,i.useHistory)(),g=n.useCallback((function(e){var t,n,r;if(c(!0),"static"===(null==e||null===(t=e.productVariant)||void 0===t?void 0:t.upsell)){var l,i,o=null==e||null===(l=e.productVariant)||void 0===l||null===(i=l.upSellProducts)||void 0===i?void 0:i.map((function(e){return e.productSKU}));e.productVariant.upSellProducts=o}(n=a,r=e,f("/pms/v1/product/".concat(n,"/variant"),{method:"POST",body:r})).then((function(e){m(e.resultDescription),p.goBack()})).catch((function(e){return d(e.message||e.resultDescription)})).finally((function(){c(!1)}))}),[a]);return n.createElement(n.Fragment,null,t({saveProductVariant:g,loading:o}))},Ut=function(e){var t=e.id,a={productSKU:"",supplierReference:"",EANCode:"",status:"available",unitPrice:{price:0,variablePrice:!1,currency:""},imageUrl:"",unitOfMeasure:{unit:"",quantity:0},weight:{unit:"",value:0},volume:{unit:"",value:0},warrantyPeriod:{unit:"",value:0},termsAndConditions:"",availableFrom:(0,Ne.Z)(new Date,"yyyy-MM-dd"),availableUntil:(0,Ne.Z)(new Date,"yyyy-MM-dd"),createdAt:"",updatedAt:"",data:[]};return n.createElement(Bt,{id:t},(function(e){var t=e.saveProductVariant,r=e.loading;return n.createElement(Rt,{onFormSubmit:function(e){return t({productVariant:e})},data:a,loading:r,edit:!1})}))},Ht=function(e){var t=e.children,a=e.id,r=n.useState(!1),l=(0,u.Z)(r,2),o=l[0],c=l[1],s=S(),d=s.showErrorMessage,m=s.showSuccessMessage,p=(0,i.useHistory)(),g=n.useCallback((function(e,t){var a;if(c(!0),"static"===(null==e||null===(a=e.productVariant)||void 0===a?void 0:a.upsell)){var n,r,l=null==e||null===(n=e.productVariant)||void 0===n||null===(r=n.upSellProducts)||void 0===r?void 0:r.map((function(e){return e.productSKU}));e.productVariant.upSellProducts=l}(function(e,t){return f("/pms/v1/product/".concat(e,"/variant"),{method:"PUT",body:t})})(t,e).then((function(e){m(e),p.goBack()})).catch((function(e){return d(e)})).finally((function(){c(!1)}))}),[a]);return n.createElement(n.Fragment,null,t({editProductVariant:g,loading:o}))},Wt=function(e){var t=e.id,a=e.productId;return n.createElement(Ht,{id:t},(function(e){var r=e.editProductVariant;return e.loading,n.createElement(Nt,{productId:a,variantId:t},(function(e){var t=e.productVariant,l=e.loading;return n.createElement(Rt,{onFormSubmit:function(e){return r({productVariant:e},a)},data:t,loading:l,edit:!0})}))}))};function qt(e,t){return e instanceof Blob?e:new Blob([e],t)}function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Lt="";const Kt=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],m=c[1],p=n.useState(0),g=(0,u.Z)(p,2),v=g[0],E=g[1],Z=n.useState(20),b=(0,u.Z)(Z,2),y=b[0],_=b[1],w=n.useState(1),x=(0,u.Z)(w,2),N=x[0],k=x[1],T=n.useState("desc"),C=(0,u.Z)(T,2),O=C[0],P=C[1],D=n.useState("name"),V=(0,u.Z)(D,2),I=V[0],j=V[1],M=n.useState({}),F=(0,u.Z)(M,2),R=F[0],B=F[1],U=S().showErrorMessage,H=n.useCallback((function(e){var t=e.sortModel[0].field,a=e.sortModel[0].sort;j(t),P(a)}),[]),W=n.useCallback((function(e){var t=e.filterModel.items[0].value,a=e.filterModel.items[0].columnField;B(zt(zt({},R),{},(0,Re.Z)({},a,t))),k(1)}),[]),q=n.useCallback((function(e){k(e)}),[]),A=n.useCallback((function(e){_(e)}),[]);return n.useEffect((function(){m(!0);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return e[n]?"".concat(a?"".concat(a.trim(),","):"").concat(n,":").concat(null===(t=e[n])||void 0===t?void 0:t.trim()):a.trim()}),"")}(R),t={sort:"".concat(I,"_").concat(null==O?void 0:O.toLowerCase()),page:e===Lt?N:1,perPage:y,filter:e};setTimeout((function(){(function(e){return f("".concat(h,"/productCategory?").concat(d.stringify(e)))})(t).then((function(t){var a;i(t.productCategories||[]),E(null==t||null===(a=t.metaData)||void 0===a?void 0:a.totalCount),Lt=e})).catch((function(e){return U(e)})).finally((function(){return m(!1)}))}),1e3)}),[I,O,N,y,R]),n.createElement(n.Fragment,null,t({categories:l,loading:s,totalCount:v,page:N,perPage:y,orderBy:I,order:O,filter:R,onSort:H,setParentPage:q,setParentPerPage:A,onFilterChange:W}))};function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xt=(0,ge.Z)((function(e){return(0,ve.Z)({root:{display:"inline-flex",flexDirection:"row",alignItems:"center",height:48,paddingLeft:20}})}));function $t(e){var t=Xt(),a=e.item,r=e.applyValue;return n.createElement("div",{className:t.root},n.createElement(ze.Z,{className:t.root,name:a.field,value:a.value,onChange:function(e){r(Gt(Gt({},a),{},{value:e.target.value}))}}))}const Yt=function(e){var t=e.categories,a=e.loading,r=e.totalCount,l=e.page,o=e.perPage,s=(e.orderBy,e.order,e.filter,e.onSort),d=e.setParentPage,m=e.setParentPerPage,p=e.onFilterChange,g=((0,c.Z)(e,["categories","loading","totalCount","page","perPage","orderBy","order","filter","onSort","setParentPage","setParentPerPage","onFilterChange"]),(0,x.useTranslation)().t),v=ue()().checkPermission,E=n.useState(!1),Z=(0,u.Z)(E,2),b=Z[0],y=Z[1],_=n.useState(),w=(0,u.Z)(_,2),N=w[0],k=w[1],T=n.useState([]),C=(0,u.Z)(T,2),O=C[0],P=C[1],D=S(),V=D.showErrorMessage,I=D.showSuccessMessage,j=(0,i.useHistory)(),M=l>=1?l-1:1,R=[{label:"Equal",value:"equal",getApplyFilterFn:function(e){return e.columnField&&e.value&&e.operatorValue?function(t){return t.value==e.value}:null},InputComponent:$t}],B=[{field:"name",headerName:g("name"),sortable:!0,flex:1,filterOperators:R},{field:"description",headerName:g("description"),sortable:!0,flex:1,filterOperators:R},{field:"status",headerName:g("status"),sortable:!0,flex:1,filterOperators:R},{field:"actions",headerName:g("actions"),filterable:!1,sortable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"password policy action buttons"},v(U)&&n.createElement(ne.ZP,{title:"Edit"},n.createElement(te.Z,{component:i.Link,to:"/home/product/categories/edit/"+e.getValue("id")},n.createElement(re.Z,{fontSize:"small"}))),v(F)&&n.createElement(ne.ZP,{title:"View"},n.createElement(te.Z,{component:i.Link,to:"/home/product/categories/view/"+e.getValue("id")},n.createElement(le.Z,{fontSize:"small"}))),v(H)&&n.createElement(ne.ZP,{title:"Delete"},n.createElement(te.Z,{onClick:function(){return y(!0)}},n.createElement(ie.Z,{fontSize:"small",style:{color:ce.Z[400]}})))))},flex:1}];return n.createElement(n.Fragment,null,n.createElement(_n,{open:b,onClose:function(){P([]),y(!1)},onOk:function(){var e;N&&N.id&&(e=N.id,f("".concat(h,"/productCategory/").concat(e),{method:"DELETE"})).then((function(e){y(!1),I(e),j.push("/home/product/categories")})).catch((function(e){return V(e)}))},dialogTitle:g("deleteProductCategoryConfirmationTitle"),dialogDescription:"".concat(g("deleteProductCategoryConfirmationDescription")," ").concat(null==N?void 0:N.name)}),n.createElement(ee(),{loading:a,columnBuffer:2,rows:t,getRowId:function(e){return e.id},columns:B,checkboxSelection:!0,onRowSelected:function(e){var t=e.data;k(t)},onSelectionModelChange:function(e){var t=e.selectionModel;return P(t)},selectionModel:O,onPageChange:function(e){d(e.page+1)},onPageSizeChange:function(e){d(1),m(e.pageSize)},pagination:!0,paginationMode:"server",filterMode:"server",sortingMode:"server",page:M,pageSize:o,rowCount:r,onFilterModelChange:p,onSortModelChange:s}))},Jt=function(e){return n.createElement(Kt,null,(function(t){var a=t.categories,r=t.loading,l=t.totalCount,i=(0,c.Z)(t,["categories","loading","totalCount"]);return n.createElement(Yt,(0,o.Z)({},e,{categories:a,loading:r,totalCount:l},i))}))};var ea=(0,ge.Z)((function(e){return(0,ve.Z)({elements:{marginRight:e.spacing(2)},spacingTop:{marginTop:e.spacing(3)},dividerSpacing:{marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",flexWrap:"wrap"},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},skeleton:{height:80},fullWidth:{width:"100%"},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},imageBox:{position:"sticky",top:"10%"},delete:{color:e.palette.error.main},button:{width:300},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"}})})),ta=function(e){return"Invalid Date"===e},aa=(new Date).getTime();const na=function(e){var t=e.data,a=e.onFormSubmit,r=e.edit,l=e.onReset,i=ea(),s=(0,x.useTranslation)().t,d=n.useState(""),m=(0,u.Z)(d,2),f=m[0],p=m[1],g=[{key:s("available"),value:"available"},{key:s("decommissioned"),value:"decommissioned"},{key:s("blocked"),value:"blocked"}],v=pe.Ry({name:pe.Z_().required(s("productNameError")),status:pe.Z_().required(s("statusError")),workflowId:pe.Rx().nullable(),taxIds:pe.IX(pe.Rx()).nullable(),imageUrl:pe.Z_().nullable(),availableFrom:pe.Z_().required(s("availableFromError")),availableUntil:pe.Z_().required(s("availableUntilError")),data:pe.IX(pe.Ry({dataName:pe.Z_(),dataValue:pe.Z_().when("dataName",{is:function(e){return""!==e},then:pe.Z_().required()})}))}),E=(0,Ze.cI)({mode:"onSubmit",defaultValues:t,resolver:(0,Ye.X)(v),reValidateMode:"onChange"}),h=E.register,Z=E.getValues,b=E.errors,y=E.control,_=E.handleSubmit,w=E.reset,S=E.setError,N=E.clearErrors,k=(0,Ze.Dq)({name:"data",control:y}),T=k.fields,C=k.append,O=k.remove;n.useEffect((function(){w(t),h({name:"taxIds",type:"custom"})}),[t]);var P=window.config.openCalendarWith||"year",D=Z();return n.createElement(we.Z,null,n.createElement(Ee.SeamlessContainer,{title:s("productCategoryFormTitle"),description:s("productCategoryFormDescription")},n.createElement(te.Z,{style:{visibility:"hidden"}}),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.spacingTop),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Ee.SeamlessInput,{required:!0,fullWidth:!0,name:"name",error:!!b.name,helperText:b.name?s("categoryNameError"):s("categoryNameHelperText"),className:(0,ke.default)(i.input),label:s("categoryName"),inputRef:h({required:!0})})),n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Ee.SeamlessDropDown,{required:!0,fullWidth:!0,className:(0,ke.default)(i.input),name:name+"status",id:"create-policy-drop-down",error:!(null==b||!b.status),helperText:null!=b&&b.status?s("statusError"):s("statusHelperText"),label:s("status"),options:g.map((function(e){return{value:e.value,key:e.key}})),inputRef:h({required:!0})}))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:8},n.createElement(Ee.SeamlessInput,{fullWidth:!0,error:!!b.description,helperText:s("categoryDescriptionHelperText"),className:(0,ke.default)(i.input),name:"description",multiline:!0,rows:4,rowsMax:4,label:s("description"),inputRef:h()}))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Kt,null,(function(e){var a=e.categories;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});r&&(a=a.filter((function(e){return e.id!==t.id})));var l=a.map((function(e){return{key:e.name,value:e.id}}));return l.unshift({key:"Choose",value:null}),n.createElement(Ze.Qr,{control:y,name:"parentId",render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({fullWidth:!0,id:"create-policy-drop-down",className:(0,ke.default)(i.input),label:s("parentCategoryTitle"),helperText:s("parentCategoryHelperText"),options:l,onChange:function(e){var a=e.target.value;t("Choose"===a?null:a)},inputRef:a},r))}})}))),n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(wn,null,(function(e){var t=e.workflows;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});if(!t.length)return null;var a=t.map((function(e){return{key:e.name,value:e.id}}));return a.unshift({key:"Choose",value:null}),n.createElement(Ze.Qr,{control:y,name:"workflowId",render:function(e){var t=e.onChange,r=e.ref,l=(0,c.Z)(e,["onChange","ref"]);return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({fullWidth:!0,className:(0,ke.default)(i.input),id:"create-policy-drop-down",label:s("workflowTitle"),helperText:s("workflowHelperText"),options:a,onChange:function(e){var a=e.target.value;t("Choose"===a?null:a)},inputRef:r},l))}})})))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(xn,null,(function(e){var t=e.taxes;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});var a=t.map((function(e){return{key:e.description,taxValue:e.id}})),r=[],l=D.taxIds;return l&&l.length&&a.length&&(r=l.map((function(e){return a.filter((function(t){return t.taxValue===e}))[0]}))),n.createElement(Ze.Qr,{control:y,name:"taxIds",render:function(e){var t=e.onChange,l=(0,c.Z)(e,["onChange"]);return n.createElement(Ge.ZP,{multiple:!0,fullWidth:!0,className:(0,ke.default)(i.input),id:"tags-standard",options:a,getOptionLabel:function(e){return e.key},defaultValue:r,filterSelectedOptions:!0,onChange:function(e,a){var n=a.map((function(e){return e.taxValue}));t(n.length?n:null)},getOptionSelected:function(e,t){return e.taxValue===t.taxValue},renderInput:function(e){return n.createElement(ze.Z,(0,o.Z)({},e,{variant:"standard",label:s("taxesTitle"),helperText:s("taxesHelperText")},l))}})}})}))),n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:y,name:"availableFrom",defaultValue:D.availableFrom,rules:{required:!0},render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:P,required:!0,fullWidth:!0,autoOk:!0,error:Boolean(b.availableFrom||ta(D.availableFrom)),className:(0,ke.default)(i.fullWidth,i.input),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableFrom",label:s("availableFrom"),helperText:b.availableFrom||ta(D.availableFrom)?s("dateError"):s("availableFromHelperText"),onChange:function(e){null!=e&&e.getDate()?(b.availableFrom&&N("availableFrom"),t((0,Ne.Z)(e,"yyyy-MM-dd"))):(S("availableFrom",{type:"manual",message:null==e?void 0:e.toString()}),t(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:a},r,{minDate:aa}))}})))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:y,name:"availableUntil",rules:{required:!0},defaultValue:D.availableUntil,render:function(e){var a,r,l=e.onChange,u=e.ref,d=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:P,required:!0,fullWidth:!0,autoOk:!0,error:Boolean(b.availableUntil||"Invalid Date"===(null===(a=D.availableUntil)||void 0===a?void 0:a.toString())),className:(0,ke.default)(i.fullWidth,i.input),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableUntil",label:s("availableUntil"),helperText:b.availableUntil||"Invalid Date"===(null===(r=D.availableUntil)||void 0===r?void 0:r.toString())?s("dateError"):s("availableUntilHelperText"),onChange:function(e){null!=e&&e.getDate()?(b.availableUntil&&N("availableUntil"),l((0,Ne.Z)(e,"yyyy-MM-dd"))):(S("availableUntil",{type:"manual",message:null==e?void 0:e.toString()}),l(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:u},d,{minDate:new Date(new Date(null==t?void 0:t.availableFrom).getTime()+864e5)}))}}))),n.createElement(xe.Z,{item:!0,xs:12,sm:4,className:(0,ke.default)(i.input)},n.createElement(Ze.Qr,{control:y,name:"imageUrl",defaultValue:"",render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement(ye(),(0,o.Z)({onChange:function(e){var a="".concat((0,_e.getSrc)(e.target.value,"inventory"));t(a),p(a)},resourceType:"inventory",label:s("uploadCategoryImage"),inputRef:a},r))}})))),n.createElement(xe.Z,{item:!0,xs:12,sm:2},Boolean(f||t.imageUrl)?n.createElement(we.Z,{border:.2,borderColor:"grey.200",p:2,className:(0,ke.default)(i.imageBox)},n.createElement("img",{style:{borderRadius:6},src:f||t.imageUrl,height:200,className:(0,ke.default)(i.responsiveImage)})):null))),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{display:"flex",flexDirection:"column",width:"80%",p:2},T.map((function(e,t){return n.createElement(we.Z,{mb:3,key:e.id,width:"70%",flexDirection:"row",display:"flex"},n.createElement(Ze.Qr,{name:"data.".concat(t,".dataName"),ref:h,control:y,defaultValue:e.dataName,render:function(e){var a,r,l,c;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==b||null===(a=b.data)||void 0===a||null===(r=a[t])||void 0===r||!r.dataName),helperText:null!=b&&null!==(l=b.data)&&void 0!==l&&null!==(c=l[t])&&void 0!==c&&c.dataName?s("dataNameError"):s("dataNameHelperText"),placeholder:s("dataName","Name"),fullWidth:!0,className:(0,ke.default)(i.elements)},e))}}),n.createElement(Ze.Qr,{name:"data.".concat(t,".dataValue"),ref:h,defaultValue:e.dataValue,control:y,render:function(e){var a,r,l,c;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==b||null===(a=b.data)||void 0===a||null===(r=a[t])||void 0===r||!r.dataValue),helperText:null!=b&&null!==(l=b.data)&&void 0!==l&&null!==(c=l[t])&&void 0!==c&&c.dataValue?s("dataValueError"):s("dataValueHelperText"),placeholder:s("dataValue","Value"),fullWidth:!0,className:(0,ke.default)(i.elements)},e))}}),n.createElement(Le.Z,{"aria-label":"delete",className:i.delete,onClick:function(){return O(t)}},n.createElement(Qe.Z,null,"delete")))})),n.createElement(Ee.SeamlessButton,{color:"primary",variant:"outlined",size:"small",onClick:function(e){return C({dataName:"",dataValue:""})},className:(0,ke.default)(i.elements,i.button),endIcon:n.createElement(Qe.Z,null,"add")},s("addDataItems","Add Data")))),n.createElement(xe.Z,{item:!0,className:(0,ke.default)(i.input)},n.createElement(Ee.SeamlessButton,{className:(0,ke.default)(i.btnSpacing),onClick:_((function(e){var t=e.availableFrom,n=e.availableUntil;t>=n&&ta(n)&&S("availableUntil",{type:"manual",message:"Invalid Date"}),ta(t)||ta(n)?(ta(t)&&S("availableFrom",{type:"manual",message:"Invalid Date"}),ta(n)&&S("availableUntil",{type:"manual",message:"Invalid Date"})):Object.keys(b).length||a&&a(e)})),color:"primary",variant:"contained"},s(r?"updateButton":"submitButton")),n.createElement(Ee.SeamlessButton,{onClick:function(){return function(e){w(e),l&&l()}(t)},className:(0,ke.default)(i.btnSpacing),color:"primary",variant:"outlined"},s("resetButton"))))};var ra=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));const la=function(e){var t,a,r,l,i=e.data,o=(0,x.useTranslation)().t,c=ra(),s=i&&(null===(t=i.path)||void 0===t?void 0:t.split("/"));return n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,className:(0,ke.default)(c.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},i.name)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("status"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},i.status))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(c.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("description"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},i.description)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("parentCategory"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},i.parentId?n.createElement(Kt,null,(function(e){var t=e.categories;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:c.skeleton});if(!t.length)return null;var a=t.filter((function(e){return e.id===i.parentId}))[0].name;return n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},a)})):null)),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(c.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("productWorkflow"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},i.workflowId?n.createElement(wn,null,(function(e){var t=e.workflows;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:c.skeleton});if(!t.length)return null;var a=t.filter((function(e){return e.id===i.workflowId}))[0].name;return n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},a)})):null),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("productTaxes"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},null!==(a=i.taxIds)&&void 0!==a&&a.length?n.createElement(xn,null,(function(e){var t,a=e.taxes;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:c.skeleton});if(!a.length)return null;var r=null===(t=i.taxIds)||void 0===t?void 0:t.map((function(e){return a.filter((function(t){return t.id===e}))[0].description}));return n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},null==r?void 0:r.join(", "))})):null)),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(c.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("categoryHierarchy"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},s&&s.map((function(e,t){return t>0&&e?" ▶︎ ".concat(e):e})))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("availableFrom"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},i.availableFrom&&(0,Ne.Z)(new Date(i.availableFrom),"MM/dd/yyyy"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("availableUntil"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},i.availableUntil&&(0,Ne.Z)(new Date(i.availableUntil),"MM/dd/yyyy"))))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(c.spacingBottom,c.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},o("addtionalInformation","Additional Information")))),null!==(r=i.data)&&void 0!==r&&r.length?null===(l=i.data)||void 0===l?void 0:l.map((function(e,t){return n.createElement(xe.Z,{container:!0,className:(0,ke.default)(c.rowSpacing),key:t,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("Key"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},e.dataName)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldHeading)},o("dataValue"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},e.dataValue)))})):n.createElement(xe.Z,{container:!0,className:(0,ke.default)(c.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(c.fieldValue)},o("noDataLabel")))),n.createElement(xe.Z,{item:!0,xs:12,sm:2},Boolean(i.imageUrl)?n.createElement(we.Z,{border:.2,borderColor:"grey.200",p:2},n.createElement("img",{style:{borderRadius:6},src:i.imageUrl,height:200,className:(0,ke.default)(c.responsiveImage)})):null))},ia=function(e){var t=e.disable,a=void 0!==t&&t;return(0,ue()().checkPermission)(R)?n.createElement(Ee.SeamlessButton,{component:i.Link,to:"/home/product/categories/create",variant:"contained",color:"primary",disabled:a,endIcon:n.createElement(Pe.Z,null)},"Create Product Category"):null},oa=function(e){var t=e.children,a=e.categoryId,r=n.useState({}),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=S().showErrorMessage;return n.useEffect((function(){m(!0),function(e){return f("".concat(h,"/productCategory/").concat(e))}(a).then((function(e){return o(e.productCategory)})).catch((function(e){return p(e)})).finally((function(){return m(!1)}))}),[]),n.createElement(n.Fragment,null,t({productCategory:i,loading:d}))},ca=function(e){var t=e.children,a=e.refresh,r=n.useState([]),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],f=S().showErrorMessage;return n.useEffect((function(){m(!0),b().then((function(e){return o(e.taxes)})).catch((function(e){return f(e.message)})).finally((function(){return m(!1)}))}),[a]),n.createElement(n.Fragment,null,t({taxes:i,loading:d}))},sa=function(e){var t=e.taxes,a=e.loading,r=e.handleDelete,l=((0,c.Z)(e,["taxes","loading","handleDelete"]),(0,x.useTranslation)().t),o=ue()().checkPermission,s=n.useState(!1),d=(0,u.Z)(s,2),m=d[0],f=d[1],p=n.useState([]),g=(0,u.Z)(p,2),v=g[0],E=g[1],h=n.useState(),Z=(0,u.Z)(h,2),b=Z[0],y=Z[1],_=[{field:"id",headerName:l("taxId"),sortable:!0,flex:1},{field:"taxType",headerName:l("taxType"),sortable:!0,flex:1},{field:"percentValue",headerName:l("percentValue"),sortable:!0,flex:1},{field:"fixedValue",headerName:l("fixedValue"),sortable:!0,flex:1},{field:"actions",headerName:l("actions"),sortable:!1,filterable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"password policy action buttons"},o(z)&&n.createElement(ne.ZP,{title:"Edit"},n.createElement(te.Z,{component:i.Link,to:"/home/product/taxes/edit/"+e.getValue("id")},n.createElement(re.Z,{fontSize:"small"}))),o(q)&&n.createElement(ne.ZP,{title:"View"},n.createElement(te.Z,{component:i.Link,to:"/home/product/taxes/view/"+e.getValue("id")},n.createElement(le.Z,{fontSize:"small"}))),o(L)&&n.createElement(ne.ZP,{title:"Delete"},n.createElement(te.Z,{onClick:function(){f(!0)}},n.createElement(ie.Z,{fontSize:"small",style:{color:ce.Z[400]}})))))},flex:1}];return n.createElement(n.Fragment,null,n.createElement(_n,{open:m,onClose:function(){E([]),f(!1)},onOk:function(){r(null==b?void 0:b.id),f(!1)},dialogTitle:l("deleteTaxConfirmationTitle"),dialogDescription:"".concat(l("deleteTaxConfirmationDescription")," ").concat(null==b?void 0:b.id)}),n.createElement(ee(),{loading:a,columnBuffer:2,rows:t,getRowId:function(e){return e.id},columns:_,checkboxSelection:!0,onRowSelected:function(e){var t=e.data;return y(t)},onSelectionModelChange:function(e){var t=e.selectionModel;return E(t)},selectionModel:v}))},ua=function(e){var t=e.children,a=S(),r=a.showErrorMessage,l=a.showSuccessMessage,i=n.useState(!1),o=(0,u.Z)(i,2),c=o[0],s=o[1];return n.createElement(n.Fragment,null,t({handleDelete:function(e){var t;s(!0),(t=e,f("".concat(Z,"/tax/").concat(t),{method:"DELETE"})).then((function(e){l(e)})).catch((function(e){return r(e)})).finally((function(){return s(!1)}))},loading:c}))},da=function(e){return n.createElement(ua,null,(function(t){var a=t.handleDelete,r=t.loading;return n.createElement(ca,{refresh:r},(function(t){var r=t.taxes,l=t.loading;return n.createElement(sa,(0,o.Z)({handleDelete:a},e,{taxes:r,loading:l}))}))}))},ma=function(e){var t=e.disable,a=void 0!==t&&t,r=(0,x.useTranslation)().t;return(0,ue()().checkPermission)(A)?n.createElement(Ee.SeamlessButton,{component:i.Link,to:"/home/product/taxes/create",variant:"contained",color:"primary",disabled:a,endIcon:n.createElement(Pe.Z,null)},r("taxesBtn")):null};var fa=(0,ge.Z)((function(e){return(0,ve.Z)({elements:{marginRight:e.spacing(2)},spacingTop:{marginTop:e.spacing(3)},dividerSpacing:{marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",flexWrap:"wrap"},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},skeleton:{height:80},fullWidth:{width:"100%"},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},imageBox:{position:"sticky",top:"10%"},delete:{color:e.palette.error.main},button:{width:300},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"}})}));const pa=function(e){var t=e.data,a=e.onFormSubmit,r=e.edit,l=e.onReset,i=fa(),c=(0,x.useTranslation)().t,s=pe.Ry({taxType:pe.Z_().required(c("taxTypeError")),percentValue:pe.Rx().moreThan(0,c("percentValueError")).max(100,c("percentValueError")),fixedValue:pe.Z_().required(c("fixedValueError")),data:pe.IX(pe.Ry({dataName:pe.Z_(),dataValue:pe.Z_().when("dataName",{is:function(e){return""!==e},then:pe.Z_().required()})}))}),u=(0,Ze.cI)({mode:"onSubmit",defaultValues:t,resolver:(0,Ye.X)(s),reValidateMode:"onChange"}),d=u.register,m=u.getValues,f=u.errors,p=u.control,g=u.handleSubmit,v=u.reset,E=(u.setError,u.clearErrors,(0,Ze.Dq)({name:"data",control:p})),h=E.fields,Z=E.append,b=E.remove,y=function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()};return n.useEffect((function(){v(t)}),[t]),m(),n.createElement(we.Z,null,n.createElement(Ee.SeamlessContainer,{title:c("taxesFormTitle"),description:c("taxesFormDescription")},n.createElement(te.Z,{style:{visibility:"hidden"}}),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{display:"flex",flexDirection:"column",width:"70%"},n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(Ee.SeamlessInput,{required:!0,fullWidth:!0,name:"taxType",error:!!f.taxType,helperText:f.taxType?c("taxTypeError"):c("taxTypeHelperText"),className:(0,ke.default)(i.elements),label:c("taxType"),inputRef:d({required:!0})}),n.createElement(Ee.SeamlessInput,{type:"number",required:!0,fullWidth:!0,onKeyDown:y,name:"percentValue",error:!!f.percentValue,helperText:f.percentValue?c("percentValueError"):c("percentValueHelperText"),className:(0,ke.default)(i.elements),label:c("percentValue"),inputRef:d({required:!0})})),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(Ee.SeamlessInput,{type:"number",required:!0,fullWidth:!0,onKeyDown:y,name:"fixedValue",error:!!f.fixedValue,helperText:f.fixedValue?c("fixedValueError"):c("fixedValueHelperText"),className:(0,ke.default)(i.elements),label:c("fixedValue"),inputRef:d({required:!0})})),n.createElement(we.Z,{mb:3,display:"flex",flexDirection:"row",justifyContent:"space-between"},n.createElement(Ee.SeamlessInput,{fullWidth:!0,error:!!f.description,helperText:c("taxDescriptionHelperText"),className:(0,ke.default)(i.elements),name:"description",multiline:!0,rows:4,rowsMax:4,label:c("description"),inputRef:d()}))))),n.createElement(we.Z,{display:"flex",flexDirection:"row"},n.createElement(we.Z,{display:"flex",flexDirection:"column",width:"80%",p:2},h.map((function(e,t){return n.createElement(we.Z,{mb:3,key:e.id,width:"70%",flexDirection:"row",display:"flex"},n.createElement(Ze.Qr,{name:"data.".concat(t,".dataName"),ref:d,control:p,defaultValue:e.dataName,render:function(e){var a,r,l,s;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==f||null===(a=f.data)||void 0===a||null===(r=a[t])||void 0===r||!r.dataName),helperText:null!=f&&null!==(l=f.data)&&void 0!==l&&null!==(s=l[t])&&void 0!==s&&s.dataName?c("dataNameError"):c("dataNameHelperText"),placeholder:c("dataName","Name"),fullWidth:!0,className:(0,ke.default)(i.elements)},e))}}),n.createElement(Ze.Qr,{name:"data.".concat(t,".dataValue"),ref:d,defaultValue:e.dataValue,control:p,render:function(e){var a,r,l,s;return n.createElement(Ee.SeamlessInput,(0,o.Z)({error:!(null==f||null===(a=f.data)||void 0===a||null===(r=a[t])||void 0===r||!r.dataValue),helperText:null!=f&&null!==(l=f.data)&&void 0!==l&&null!==(s=l[t])&&void 0!==s&&s.dataValue?c("dataValueError"):c("dataValueHelperText"),placeholder:c("dataValue","Value"),fullWidth:!0,className:(0,ke.default)(i.elements)},e))}}),n.createElement(Le.Z,{"aria-label":"delete",className:i.delete,onClick:function(){return b(t)}},n.createElement(Qe.Z,null,"delete")))})),n.createElement(Ee.SeamlessButton,{color:"primary",variant:"outlined",size:"small",onClick:function(e){return Z({dataName:"",dataValue:""})},className:(0,ke.default)(i.elements,i.button),endIcon:n.createElement(Qe.Z,null,"add")},c("addDataItems","Add Data")))),n.createElement(xe.Z,{item:!0,className:(0,ke.default)(i.input)},n.createElement(Ee.SeamlessButton,{className:(0,ke.default)(i.btnSpacing),onClick:g((function(e){a&&a(e)})),color:"primary",variant:"contained"},c(r?"updateButton":"submitButton")),n.createElement(Ee.SeamlessButton,{onClick:function(){return function(e){v(e),l&&l()}(t)},className:(0,ke.default)(i.btnSpacing),color:"primary",variant:"outlined"},c("resetButton"))))};var ga=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));const va=function(e){var t,a,r=e.data,l=ga(),i=(0,x.useTranslation)().t;return n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:l.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},i("taxFormTitle")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(l.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldHeading)},i("taxType"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldValue)},r.taxType)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldHeading)},i("percentValue"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldValue)},r.percentValue))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(l.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldHeading)},i("fixedValue"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldValue)},r.fixedValue)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldHeading)},i("description"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldValue)},r.description))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(l.spacingBottom,l.spacingTop)},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},i("data")))),null!==(t=r.data)&&void 0!==t&&t.length?null===(a=r.data)||void 0===a?void 0:a.map((function(e,t){return n.createElement(xe.Z,{container:!0,className:(0,ke.default)(l.rowSpacing),key:t,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldHeading)},i("dataName"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldValue)},e.dataName)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldHeading)},i("dataValue"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldValue)},e.dataValue)))})):n.createElement(xe.Z,{container:!0,className:(0,ke.default)(l.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(l.fieldValue)},i("noDataLabel"))))))},Ea=function(e){var t=e.children,a=e.taxId,r=n.useState({}),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=S().showErrorMessage;return n.useEffect((function(){m(!0),function(e){return f("".concat(Z,"/tax/").concat(e))}(a).then((function(e){return o(e.tax)})).catch((function(e){return p(e)})).finally((function(){return m(!1)}))}),[]),n.createElement(n.Fragment,null,t({tax:i,loading:d}))},ha=function(e){var t=e.children,a=e.refresh,r=n.useState([]),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],f=S().showErrorMessage;return n.useEffect((function(){var e,t,a;m(!0),(t=window.config,a=(null==t||null===(e=t.product)||void 0===e?void 0:e.policyTypes)||[],Promise.resolve(a)).then((function(e){return o(e)})).catch((function(e){return f(e)})).finally((function(){return m(!1)}))}),[a]),n.createElement(n.Fragment,null,t({policyList:i,loading:d}))};var Za=[];const ba=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=S().showErrorMessage;return n.useEffect((function(){if(Za.length>0)return i(Za),Za;d(!0),f("".concat(g,"/workflow/state")).then((function(e){Za=e.states||[],i(e.states||[])})).catch((function(e){return m(e)})).finally((function(){return d(!1)}))}),[]),n.createElement(n.Fragment,null,t({states:l,loading:s}))},ya=function(e){var t=e.states,a=e.loading,r=((0,c.Z)(e,["states","loading"]),(0,x.useTranslation)().t),l=n.useState(!1),o=(0,u.Z)(l,2),s=(o[0],o[1],n.useState()),d=(0,u.Z)(s,2),m=(d[0],d[1]),f=n.useState([]),p=(0,u.Z)(f,2),g=p[0],v=p[1],E=S(),h=(E.showErrorMessage,E.showSuccessMessage,E.showInfoMessage,E.showWarningMessage,(0,i.useHistory)(),[{field:"id",headerName:r("id"),sortable:!0,flex:1},{field:"code",headerName:r("code"),sortable:!0,flex:1},{field:"name",headerName:r("name"),sortable:!0,flex:1},{field:"description",headerName:r("description"),sortable:!0,flex:1},{field:"actions",headerName:r("actions"),filterable:!1,sortable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"password policy action buttons"},n.createElement(ne.ZP,{title:"Edit"},n.createElement(te.Z,{component:i.Link,to:"/home/product/workflow/state/edit/"+e.getValue("id")},n.createElement(re.Z,{fontSize:"small"}))),n.createElement(ne.ZP,{title:"View"},n.createElement(te.Z,{component:i.Link,to:"/home/product/workflow/view/"+e.getValue("id")},n.createElement(le.Z,{fontSize:"small"})))))},flex:1}]);return n.createElement(n.Fragment,null,n.createElement(ee(),{loading:a,columnBuffer:2,rows:t,getRowId:function(e){return e.id},columns:h,checkboxSelection:!0,onRowSelected:function(e){var t=e.data;m(t)},onSelectionModelChange:function(e){var t=e.selectionModel;return v(t)},selectionModel:g}))},_a=function(e){return n.createElement(ba,null,(function(t){var a=t.states,r=t.loading;return n.createElement(ya,(0,o.Z)({},e,{states:a,loading:r}))}))},wa=function(e){var t=e.children,a=e.stateId,r=n.useState([]),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=S().showErrorMessage;return n.useEffect((function(){m(!0),function(e){return f("".concat(g,"/workflow/state/?stateIds=").concat(e))}(a).then((function(e){return o(e.states)})).catch((function(e){return p(e)})).finally((function(){return m(!1)}))}),[]),n.createElement(n.Fragment,null,t({state:i,loading:d}))};var xa=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));const Sa=function(e){var t,a,r,l,i,o,c,s=e.data,u=(0,x.useTranslation)().t,d=xa();return n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,className:(0,ke.default)(d.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldHeading)},u("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldValue)},null===(t=s[0])||void 0===t?void 0:t.name)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldHeading)},u("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldValue)},null===(a=s[0])||void 0===a?void 0:a.code)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,className:(0,ke.default)(d.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldHeading)},u("description"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldValue)},null===(r=s[0])||void 0===r?void 0:r.description)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,className:(0,ke.default)(d.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldHeading)},u("availableFrom"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldValue)},(null===(l=s[0])||void 0===l?void 0:l.availableFrom)&&(0,Ne.Z)(new Date(null===(i=s[0])||void 0===i?void 0:i.availableFrom),"MM/dd/yyyy"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldHeading)},u("availableUntil"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(d.fieldValue)},(null===(o=s[0])||void 0===o?void 0:o.availableUntil)&&(0,Ne.Z)(new Date(null===(c=s[0])||void 0===c?void 0:c.availableUntil),"MM/dd/yyyy"))))))},Na=function(e){var t=e.disable,a=void 0!==t&&t;return n.createElement(Ee.SeamlessButton,{component:i.Link,to:"/home/product/workflow/state/create",variant:"contained",color:"primary",disabled:a,endIcon:n.createElement(Pe.Z,null)},"Create State")},ka=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=S().showErrorMessage;return n.useEffect((function(){d(!0),f("".concat(g,"/workflow/state/code")).then((function(e){return i(e.stateCodes||[])})).catch((function(e){return m(e)})).finally((function(){return d(!1)}))}),[]),n.createElement(n.Fragment,null,t({stateCodes:l,loading:s}))};var Ta=(0,ge.Z)((function(e){return(0,ve.Z)({elements:{marginRight:e.spacing(2)},spacingTop:{marginTop:e.spacing(3)},dividerSpacing:{marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",flexWrap:"wrap"},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},skeleton:{height:80},fullWidth:{width:"100%"},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},imageBox:{position:"sticky",top:"10%"},delete:{color:e.palette.error.main},button:{width:300},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"}})})),Ca=function(e){return"Invalid Date"===e},Oa=function(e){e.target.value.length>1e3&&(e.target.value=e.target.value.slice(0,1e3))},Pa=(new Date).getTime();const Da=function(e){var t=e.data,a=e.onFormSubmit,r=e.edit,l=e.onReset,i=Ta(),s=(0,x.useTranslation)().t,u=pe.Ry({code:pe.Z_().required(s("stateCodeError")),name:pe.Z_().required(s("stateNameError")),availableFrom:pe.Z_().required(s("availableFromError")),availableUntil:pe.Z_().required(s("availableUntilError"))}),d=(0,Ze.cI)({mode:"onSubmit",defaultValues:t,resolver:(0,Ye.X)(u),reValidateMode:"onChange"}),m=d.register,f=d.getValues,p=d.errors,g=d.control,v=d.handleSubmit,E=d.reset,h=d.setError,Z=d.clearErrors,b=(0,Ze.Dq)({name:"data",control:g});b.fields,b.append,b.remove,n.useEffect((function(){E(t)}),[t]);var y=f(),_=window.config.openCalendarWith||"year";return n.createElement(we.Z,null,n.createElement(Ee.SeamlessContainer,{title:s("statesFormTitle"),description:s("statesFormDescription")},n.createElement(te.Z,{style:{visibility:"hidden"}}),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.spacingTop),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(ka,null,(function(e){var t=e.stateCodes;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});var a=t.map((function(e){return{key:e,value:e}}));return a.unshift({key:"Choose",value:""}),n.createElement(Ze.Qr,{control:g,name:"code",render:function(e){var t=e.onChange,l=e.ref,u=(0,c.Z)(e,["onChange","ref"]);return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({id:"code",required:!0,fullWidth:!0,className:(0,ke.default)(i.input),label:s("code"),disabled:r,error:!(null==p||!p.code),helperText:null!=p&&p.code?s("stateCodeError"):s("stateCodeHelperText"),options:a,onChange:function(e){var a=e.target.value;t("Choose"===a?null:a)},inputRef:l},u))}})}))),n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Ee.SeamlessInput,{required:!0,fullWidth:!0,name:"name",error:!!p.name,helperText:p.name?s("stateNameError"):s("stateNameHelperText"),className:(0,ke.default)(i.input),label:s("name"),inputRef:m({required:!0})}))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:8},n.createElement(Ee.SeamlessInput,{fullWidth:!0,error:!!p.description,helperText:s("stateDescriptionHelperText"),className:(0,ke.default)(i.input),name:"description",multiline:!0,onInput:Oa,rows:4,rowsMax:4,label:s("description"),inputRef:m()}))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:g,name:"availableFrom",defaultValue:y.availableFrom,rules:{required:!0},render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:_,required:!0,fullWidth:!0,autoOk:!0,error:Boolean(p.availableFrom||Ca(y.availableFrom)),className:(0,ke.default)(i.fullWidth,i.input),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableFrom",label:s("availableFrom"),helperText:p.availableFrom||Ca(y.availableFrom)?s("dateError"):s("availableFromHelperText"),onChange:function(e){null!=e&&e.getDate()?(p.availableFrom&&Z("availableFrom"),t((0,Ne.Z)(e,"yyyy-MM-dd"))):(h("availableFrom",{type:"manual",message:null==e?void 0:e.toString()}),t(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:a},r,{minDate:Pa}))}}))),n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:g,name:"availableUntil",rules:{required:!0},defaultValue:y.availableUntil,render:function(e){var t,a,r=e.onChange,l=e.ref,u=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:_,required:!0,fullWidth:!0,autoOk:!0,error:Boolean(p.availableUntil||"Invalid Date"===(null===(t=y.availableUntil)||void 0===t?void 0:t.toString())),className:(0,ke.default)(i.fullWidth,i.input),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableUntil",label:s("availableUntil"),helperText:p.availableUntil||"Invalid Date"===(null===(a=y.availableUntil)||void 0===a?void 0:a.toString())?s("dateError"):s("availableUntilHelperText"),onChange:function(e){null!=e&&e.getDate()?(p.availableUntil&&Z("availableUntil"),r((0,Ne.Z)(e,"yyyy-MM-dd"))):(h("availableUntil",{type:"manual",message:null==e?void 0:e.toString()}),r(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:l},u,{minDate:new Date(new Date(y.availableFrom).getTime()+864e5)}))}}))))))),n.createElement(xe.Z,{item:!0,className:(0,ke.default)(i.input)},n.createElement(Ee.SeamlessButton,{className:(0,ke.default)(i.btnSpacing),onClick:v((function(e){var t=e.availableFrom,n=e.availableUntil;t>=n&&Ca(n)&&h("availableUntil",{type:"manual",message:"Invalid Date"}),Ca(t)||Ca(n)?(Ca(t)&&h("availableFrom",{type:"manual",message:"Invalid Date"}),Ca(n)&&h("availableUntil",{type:"manual",message:"Invalid Date"})):Object.keys(p).length||a&&a(e)})),color:"primary",variant:"contained"},s(r?"updateButton":"submitButton")),n.createElement(Ee.SeamlessButton,{onClick:function(){return function(e){E(e),l&&l()}(t)},className:(0,ke.default)(i.btnSpacing),color:"primary",variant:"outlined"},s("resetButton"))))},Va=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=S().showErrorMessage;return n.useEffect((function(){d(!0),f("".concat(g,"/workflow/operation")).then((function(e){return i(e.operations||[])})).catch((function(e){return m(e)})).finally((function(){return d(!1)}))}),[]),n.createElement(n.Fragment,null,t({operations:l,loading:s}))},Ia=function(e){var t=e.operations,a=e.loading,r=((0,c.Z)(e,["operations","loading"]),(0,x.useTranslation)().t),l=n.useState(!1),o=(0,u.Z)(l,2),s=o[0],d=o[1],m=n.useState(),p=(0,u.Z)(m,2),v=p[0],E=p[1],h=n.useState([]),Z=(0,u.Z)(h,2),b=Z[0],y=Z[1],_=S(),w=_.showErrorMessage,N=_.showSuccessMessage,k=(_.showInfoMessage,_.showWarningMessage,(0,i.useHistory)()),T=[{field:"id",headerName:r("id"),sortable:!0,flex:1},{field:"code",headerName:r("code"),sortable:!0,flex:1},{field:"name",headerName:r("name"),sortable:!0,flex:1},{field:"description",headerName:r("description"),sortable:!0,flex:1},{field:"actions",headerName:r("actions"),filterable:!1,sortable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"password policy action buttons"},n.createElement(ne.ZP,{title:"View"},n.createElement(te.Z,{component:i.Link,to:"/home/product/workflow/view/operation/"+e.getValue("id")},n.createElement(le.Z,{fontSize:"small"})))))},flex:1}];return n.createElement(n.Fragment,null,n.createElement(_n,{open:s,onClose:function(){y([]),d(!1)},onOk:function(){var e;v&&v.id&&(e=v.id,f("".concat(g,"/workflow/operation/").concat(e),{method:"DELETE"})).then((function(e){d(!1),N(e),k.push("/home/product/workflow")})).catch((function(e){return w(e)}))},dialogTitle:r("deleteOperationConfirmationTitle"),dialogDescription:"".concat(r("deleteOperationWithNameConfirmationText")," ").concat(null==v?void 0:v.name)}),n.createElement(ee(),{loading:a,columnBuffer:2,rows:t,getRowId:function(e){return e.id},columns:T,checkboxSelection:!0,onRowSelected:function(e){var t=e.data;E(t)},onSelectionModelChange:function(e){var t=e.selectionModel;return y(t)},selectionModel:b}))},ja=function(e){return n.createElement(Va,null,(function(t){var a=t.operations,r=t.loading;return n.createElement(Ia,(0,o.Z)({},e,{operations:a,loading:r}))}))},Ma=function(e){var t=e.children,a=e.operationId,r=n.useState({}),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=S().showErrorMessage;return n.useEffect((function(){m(!0),function(e){return f("".concat(g,"/workflow/operation/").concat(e))}(a).then((function(e){return o(e.operation||[])})).catch((function(e){return p(e)})).finally((function(){return m(!1)}))}),[]),n.createElement(n.Fragment,null,t({operation:i,loading:d}))};var Fa=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));const Ra=function(e){var t=e.data,a=(0,x.useTranslation)().t,r=Fa();return n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,className:(0,ke.default)(r.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==t?void 0:t.name)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==t?void 0:t.code)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,className:(0,ke.default)(r.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("description"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==t?void 0:t.description)))))},Ba=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=(0,w.useSnackbar)().enqueueSnackbar;return n.useEffect((function(){d(!0),f("".concat(g,"/workflow")).then((function(e){return i(e.workflows||[])})).catch((function(e){return m(e.resultMessage||e.message,{variant:"error"})})).finally((function(){return d(!1)}))}),[]),n.createElement(n.Fragment,null,t({workflows:l,loading:s}))},Ua=function(e){var t=e.workflows,a=e.loading,r=((0,c.Z)(e,["workflows","loading"]),(0,x.useTranslation)().t),l=n.useState(!1),o=(0,u.Z)(l,2),s=o[0],d=o[1],m=n.useState(),p=(0,u.Z)(m,2),v=p[0],E=p[1],h=n.useState([]),Z=(0,u.Z)(h,2),b=Z[0],y=Z[1],_=((0,w.useSnackbar)().enqueueSnackbar,S()),N=_.showErrorMessage,k=_.showSuccessMessage,T=(_.showInfoMessage,_.showWarningMessage,(0,i.useHistory)()),C=[{field:"id",headerName:r("id"),sortable:!0,flex:1},{field:"name",headerName:r("workflowName"),sortable:!0,flex:1},{field:"description",headerName:r("description"),sortable:!0,flex:1},{field:"actions",headerName:r("actions"),filterable:!1,sortable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"password policy action buttons"},n.createElement(ne.ZP,{title:"Edit"},n.createElement(te.Z,{component:i.Link,to:"/home/product/workflow/workflows/edit/"+e.getValue("id")},n.createElement(re.Z,{fontSize:"small"}))),n.createElement(ne.ZP,{title:"View"},n.createElement(te.Z,{component:i.Link,to:"/home/product/workflow/view/workflows/"+e.getValue("id")},n.createElement(le.Z,{fontSize:"small"}))),n.createElement(ne.ZP,{title:"Delete"},n.createElement(te.Z,{onClick:function(){return d(!0)}},n.createElement(ie.Z,{fontSize:"small",style:{color:ce.Z[400]}})))))},flex:1}];return n.createElement(n.Fragment,null,n.createElement(_n,{open:s,onClose:function(){y([]),d(!1)},onOk:function(){var e;v&&v.id&&(e=v.id,f("".concat(g,"/workflow/").concat(e),{method:"DELETE"})).then((function(e){d(!1),k(e),T.push("/home/product/workflow")})).catch((function(e){return N(e)}))},dialogTitle:r("deleteWorkflowsConfirmationTitle"),dialogDescription:"".concat(r("deleteWorkflowsWithNameConfirmationText")," ").concat(null==v?void 0:v.name)}),n.createElement(ee(),{loading:a,columnBuffer:2,rows:t,getRowId:function(e){return e.id},columns:C,checkboxSelection:!0,onRowSelected:function(e){var t=e.data;E(t)},onSelectionModelChange:function(e){var t=e.selectionModel;return y(t)},selectionModel:b}))},Ha=function(e){return n.createElement(Ba,null,(function(t){var a=t.workflows,r=t.loading;return n.createElement(Ua,(0,o.Z)({},e,{workflows:a,loading:r}))}))},Wa=function(e){var t=e.disable,a=void 0!==t&&t;return n.createElement(Ee.SeamlessButton,{component:i.Link,to:"/home/product/workflow/workflows/create",variant:"contained",color:"primary",disabled:a,endIcon:n.createElement(Pe.Z,null)},"Create workflow")},qa=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=(0,w.useSnackbar)().enqueueSnackbar;return n.useEffect((function(){d(!0),v().then((function(e){return i(e.transitions)})).catch((function(e){return m(e.resultMessage||e.message,{variant:"error"})})).finally((function(){return d(!1)}))}),[]),n.createElement(n.Fragment,null,t({transitions:l,loading:s}))};var Aa=a(37747);function za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function La(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?za(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):za(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ka=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},primaryButton:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,padding:"".concat(e.spacing(1),"px ").concat(e.spacing(3),"px"),borderRadius:e.shape.borderRadius},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)},dialogWrapper:{"& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}}})}));const Qa=function(e){var t,a,r,l,o,s,d,m,f,p,g,v,h,Z,b,y,_,w,N,k,T,C,O=e.transitions,P=e.loading,D=(0,c.Z)(e,["transitions","loading"]),V=(0,x.useTranslation)().t,I=n.useState(!1),j=(0,u.Z)(I,2),M=j[0],F=j[1],R=n.useState(),B=(0,u.Z)(R,2),U=B[0],H=B[1],W=n.useState({isOpen:!1,data:[]}),q=(0,u.Z)(W,2),A=q[0],z=q[1],L=n.useState([]),K=(0,u.Z)(L,2),Q=K[0],G=K[1],X=S(),$=X.showErrorMessage,Y=X.showSuccessMessage,J=(X.showInfoMessage,X.showWarningMessage,(0,i.useHistory)()),ne=Ka(),re=function(){z(La(La({},A),{},{isOpen:!1}))},ie=[{field:"from",headerName:V("fromState"),sortable:!0,flex:1,filterable:!0,valueGetter:function(e){return e.row.from.name}},{field:"to",headerName:V("toState"),sortable:!0,filterable:!0,flex:1,valueGetter:function(e){return e.row.to.name}},{field:"operation",headerName:V("operationName"),sortable:!0,filterable:!0,flex:1,valueGetter:function(e){return e.row.operation.name}},{field:"availableFrom",headerName:V("availableFrom"),flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return(null==e?void 0:e.row.availableFrom)&&(0,Ne.Z)(new Date(null==e?void 0:e.row.availableFrom),"MM/dd/yyyy")}},{field:"availableUntil",headerName:V("availableUntil"),flex:1,filterable:!0,sortable:!0,valueGetter:function(e){return(null==e?void 0:e.row.availableUntil)&&(0,Ne.Z)(new Date(null==e?void 0:e.row.availableUntil),"MM/dd/yyyy")}},{field:"actions",headerName:V("actions"),filterable:!1,sortable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"password policy action buttons"},n.createElement(te.Z,{onClick:function(){z({isOpen:!0,data:e.row})}},n.createElement(le.Z,{fontSize:"small"}))))},flex:1}],oe={Toolbar:function(){return n.createElement(Aa.GridToolbarContainer,null,n.createElement(Aa.GridColumnsToolbarButton,null),n.createElement(Aa.GridFilterToolbarButton,null))}};return n.useEffect((function(){if(void 0!==(null==D?void 0:D.selectedTransitions)&&void 0!==O){var e=[];null==D||D.selectedTransitions.map((function(t,a){O.map((function(a,n){t.id===a.id&&e.push(String(t.id))}))})),G(e)}}),[null==D?void 0:D.selectedTransitions,O]),n.createElement(n.Fragment,null,n.createElement(_n,{open:M,onClose:function(){G([]),F(!1)},onOk:function(){U&&U.id&&E(U.id).then((function(e){F(!1),Y(e),J.push("/home/product/workflow")})).catch((function(e){return $(e)}))},dialogTitle:V("deleteStateTransitionConfirmationTitle"),dialogDescription:"".concat(V("deleteStateTransitionConfirmationText")," ").concat(null==U?void 0:U.id)}),n.createElement(ee(),{loading:P,columnBuffer:2,rows:O,pagination:!0,getRowId:function(e){return e.id},columns:ie,checkboxSelection:!0,onSelectionModelChange:function(e){var t=e.selectionModel,a=O.filter((function(e){return t.includes(String(e.id))}));G(t),D.alt(a)},components:oe,selectionModel:Q,onRowSelected:function(e){var t=e.data;H(t)}}),n.createElement(Ee.SeamlessDialog,{open:A.isOpen,onClose:re,className:ne.dialogWrapper,maxWidth:"md",fullWidth:!0},n.createElement(n.Fragment,null,n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:ne.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},V("fromState")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(ne.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(t=A.data)||void 0===t||null===(a=t.from)||void 0===a?void 0:a.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(r=A.data)||void 0===r||null===(l=r.from)||void 0===l?void 0:l.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(o=A.data)||void 0===o||null===(s=o.from)||void 0===s?void 0:s.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:ne.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},V("toState")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(ne.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(d=A.data)||void 0===d||null===(m=d.to)||void 0===m?void 0:m.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(f=A.data)||void 0===f||null===(p=f.to)||void 0===p?void 0:p.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(g=A.data)||void 0===g||null===(v=g.to)||void 0===v?void 0:v.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:ne.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},V("operation")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(ne.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(h=A.data)||void 0===h||null===(Z=h.operation)||void 0===Z?void 0:Z.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(b=A.data)||void 0===b||null===(y=b.operation)||void 0===y?void 0:y.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(_=A.data)||void 0===_||null===(w=_.operation)||void 0===w?void 0:w.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:ne.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},V("additionalInformation")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(ne.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("availableFrom"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(N=A.data)||void 0===N?void 0:N.availableFrom)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("availableUntil"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(k=A.data)||void 0===k?void 0:k.availableUntil)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("businessRules"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(T=A.data)||void 0===T?void 0:T.businessRules)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldHeading)},V("businessActions"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(ne.fieldValue)},null===(C=A.data)||void 0===C?void 0:C.businessActions))))),n.createElement(xe.Z,{container:!0,spacing:3,className:(0,ke.default)(ne.rowSpacing,ne.spacingTop)},n.createElement(Ee.SeamlessButton,{type:"button",variant:"contained",color:"primary",className:ne.primaryButton,onClick:re},V("close"))))))},Ga=function(e){return n.createElement(qa,null,(function(t){var a=t.transitions,r=t.loading;return n.createElement(Qa,(0,o.Z)({},e,{transitions:a,loading:r}))}))};var Xa=(0,ge.Z)((function(e){return(0,ve.Z)({elements:{marginRight:e.spacing(2)},spacingTop:{marginTop:e.spacing(3)},dividerSpacing:{marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",flexWrap:"wrap"},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},inputDes:{marginTop:e.spacing(2),marginBottom:e.spacing(2),marginLeft:e.spacing(2)},skeleton:{height:80},fullWidth:{width:"100%"},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},imageBox:{position:"sticky",top:"10%"},delete:{color:e.palette.error.main},button:{width:300},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldHeader:{marginLeft:"3px",marginBottom:"5px",marginTop:"30px"}})})),$a=function(e){e.target.value.length>1e3&&(e.target.value=e.target.value.slice(0,1e3))};const Ya=function(e){var t=e.data,a=e.onFormSubmit,r=e.onReset,l=e.edit,i=Xa(),s=(0,x.useTranslation)().t,d=n.useState([]),m=(0,u.Z)(d,2),f=(m[0],m[1],n.useState([])),p=(0,u.Z)(f,2),g=p[0],v=p[1],E=n.useState(0),h=(0,u.Z)(E,2),Z=h[0],b=h[1],y=pe.Ry({name:pe.Z_().required(s("workflowNameError")),description:pe.Z_().required(s("descriptionError")),transition:pe.IX()});n.useEffect((function(){if(void 0!==(null==t?void 0:t.transitions)){var e;b(null==t||null===(e=t.transitions)||void 0===e?void 0:e.length);var a=[];null==t||t.transitions.map((function(e){var t={id:null==e?void 0:e.id};a.push(t)})),v(a)}}),[t]);var _=(0,Ze.cI)({mode:"onSubmit",defaultValues:t,resolver:(0,Ye.X)(y),reValidateMode:"onChange"}),w=_.register,S=_.getValues,N=_.errors,k=_.control,T=_.handleSubmit,C=_.reset;function O(e){v(e),b(e.length)}return _.setError,_.clearErrors,n.useEffect((function(){C(t)}),[t]),S(),n.createElement(we.Z,null,n.createElement(Ee.SeamlessContainer,{title:s("WorkflowFormTitle"),description:s("WorkflowFormDescription")},n.createElement(te.Z,{style:{visibility:"hidden"}}),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.spacingTop),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Ee.SeamlessInput,(0,o.Z)({required:!0,fullWidth:!0,name:"name",error:!!N.name,helperText:N.name?s("workflowNameError"):s("workflowNameHelperText"),className:(0,ke.default)(i.input),label:s("name")},w("name",{setValueAs:function(e){return e.trim()}}),{inputRef:w({required:!0})}))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:8},n.createElement(Ee.SeamlessInput,(0,o.Z)({fullWidth:!0,required:!0,error:!!N.description,helperText:N.description?s("descriptionError"):s("workflowDescriptionHelperText"),className:(0,ke.default)(i.inputDes),name:"description",multiline:!0,onInput:$a,rows:4,rowsMax:4,label:s("description")},w("description",{setValueAs:function(e){return e.trim()}}),{inputRef:w({required:!0})}))))))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.fieldHeader)},n.createElement(Se.Z,{className:(0,ke.default)(i.fieldHeading)},s("transitions"))),n.createElement(we.Z,null,n.createElement(Ze.Qr,{control:k,name:"transition",render:function(e){return e.onChange,e.ref,(0,c.Z)(e,["onChange","ref"]),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(Ga,{alt:O,selectedTransitions:t.transitions}))}}))),n.createElement(xe.Z,{item:!0,className:(0,ke.default)(i.input)},n.createElement(Ee.SeamlessButton,{className:(0,ke.default)(i.btnSpacing),onClick:T((function(e){e.transitions=g,a&&a(e)})),disabled:!(Z>0),color:"primary",variant:"contained"},s(l?"updateButton":"submitButton")),n.createElement(Ee.SeamlessButton,{onClick:function(){return function(e){C(e),r&&r()}(t)},className:(0,ke.default)(i.btnSpacing),color:"primary",variant:"outlined"},s("resetButton"))))},Ja=function(e){var t=e.children,a=e.workflowId,r=n.useState({}),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,w.useSnackbar)().enqueueSnackbar;return n.useEffect((function(){m(!0),function(e){return f("".concat(g,"/workflow/").concat(e))}(a).then((function(e){return o(e.workflow||[])})).catch((function(e){return p(e.resultMessage||e.message,{variant:"error"})})).finally((function(){return m(!1)}))}),[]),n.createElement(n.Fragment,null,t({workflow:i,loading:d}))};var en=a(27616),tn=a(8284),an=a(70660),nn=a(64566),rn=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)},accDis:{display:"Block",width:"1000px"},fieldHeader:{marginLeft:"10px",marginBottom:"10px"}})}));const ln=function(e){var t=e.data,a=(0,x.useTranslation)().t,r=rn();return n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,className:(0,ke.default)(r.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==t?void 0:t.name)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("description"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==t?void 0:t.description)))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(r.fieldHeader)},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("transitions"))),t&&(null==t?void 0:t.transitions)&&(null==t?void 0:t.transitions.map((function(e,t){var l,i,o,c,s,u,d,m,f;return n.createElement(en.Z,null,n.createElement(tn.Z,{expandIcon:n.createElement(nn.Z,null),"aria-controls":null==e?void 0:e.id,id:null==e?void 0:e.id},n.createElement(Se.Z,null,"Transition ",t+1)),n.createElement(an.Z,{className:(0,ke.default)(r.accDis)},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:r.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},a("fromState")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(r.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(l=e.from)||void 0===l?void 0:l.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(i=e.from)||void 0===i?void 0:i.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(o=e.from)||void 0===o?void 0:o.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:r.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},a("toState")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(r.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(c=e.to)||void 0===c?void 0:c.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(s=e.to)||void 0===s?void 0:s.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(u=e.to)||void 0===u?void 0:u.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:r.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},a("operation")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(r.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(d=e.operation)||void 0===d?void 0:d.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(m=e.operation)||void 0===m?void 0:m.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e||null===(f=e.operation)||void 0===f?void 0:f.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:r.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},a("additionalInformation")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(r.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("availableFrom"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e?void 0:e.availableFrom)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("availableUntil"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e?void 0:e.availableUntil)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("businessRules"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e?void 0:e.businessRules)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldHeading)},a("businessActions"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(r.fieldValue)},null==e?void 0:e.businessActions))))))}))))},on=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=(0,w.useSnackbar)().enqueueSnackbar;return n.useEffect((function(){d(!0),v().then((function(e){return i(e.transitions)})).catch((function(e){return m(e.resultMessage||e.message,{variant:"error"})})).finally((function(){return d(!1)}))}),[]),n.createElement(n.Fragment,null,t({transitions:l,loading:s}))},cn=function(e){var t=e.transitions,a=e.loading,r=((0,c.Z)(e,["transitions","loading"]),(0,x.useTranslation)().t),l=n.useState(!1),o=(0,u.Z)(l,2),s=o[0],d=o[1],m=n.useState(),f=(0,u.Z)(m,2),p=f[0],g=f[1],v=n.useState([]),h=(0,u.Z)(v,2),Z=h[0],b=h[1],y=S(),_=y.showErrorMessage,w=y.showSuccessMessage,N=(y.showInfoMessage,y.showWarningMessage,(0,i.useHistory)()),k=[{field:"id",headerName:r("id"),sortable:!0,flex:1},{field:"from",headerName:r("fromState"),sortable:!0,flex:1,renderCell:function(e){return n.createElement(ne.ZP,{title:e.row.from.name},n.createElement(Se.Z,{variant:"caption"},e.row.from.name))}},{field:"to",headerName:r("toState"),sortable:!0,flex:1,renderCell:function(e){return n.createElement(ne.ZP,{title:e.row.to.name},n.createElement(Se.Z,{variant:"caption"},e.row.to.name))}},{field:"operation",headerName:r("operationName"),sortable:!0,flex:1,renderCell:function(e){return n.createElement(ne.ZP,{title:e.row.operation.name},n.createElement(Se.Z,{variant:"caption"},e.row.operation.name))}},{field:"availableFrom",headerName:r("availableFrom"),flex:1,filterable:!1,renderCell:function(e){return n.createElement("div",null,(null==e?void 0:e.row.availableFrom)&&(0,Ne.Z)(new Date(null==e?void 0:e.row.availableFrom),"MM/dd/yyyy"))}},{field:"availableUntil",headerName:r("availableUntil"),flex:1,filterable:!1,renderCell:function(e){return n.createElement("div",null,(null==e?void 0:e.row.availableUntil)&&(0,Ne.Z)(new Date(null==e?void 0:e.row.availableUntil),"MM/dd/yyyy"))}},{field:"actions",headerName:r("actions"),filterable:!1,sortable:!1,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary",variant:"text","aria-label":"password policy action buttons"},n.createElement(ne.ZP,{title:"Edit"},n.createElement(te.Z,{component:i.Link,to:"/home/product/workflow/transition/edit/"+e.getValue("id")},n.createElement(re.Z,{fontSize:"small"}))),n.createElement(ne.ZP,{title:"View"},n.createElement(te.Z,{component:i.Link,to:"/home/product/workflow/view/transition/"+e.getValue("id")},n.createElement(le.Z,{fontSize:"small"}))),n.createElement(ne.ZP,{title:"Delete"},n.createElement(te.Z,{onClick:function(){return d(!0)}},n.createElement(ie.Z,{fontSize:"small",style:{color:ce.Z[400]}})))))},flex:1}];return n.createElement(n.Fragment,null,n.createElement(_n,{open:s,onClose:function(){b([]),d(!1)},onOk:function(){p&&p.id&&E(p.id).then((function(e){d(!1),w(e),N.push("/home/product/workflow")})).catch((function(e){return _(e)}))},dialogTitle:r("deleteStateTransitionConfirmationTitle"),dialogDescription:"".concat(r("deleteStateTransitionConfirmationText")," ").concat(null==p?void 0:p.id)}),n.createElement(ee(),{loading:a,columnBuffer:2,rows:t,getRowId:function(e){return e.id},columns:k,checkboxSelection:!0,onRowSelected:function(e){var t=e.data;g(t)},onSelectionModelChange:function(e){var t=e.selectionModel;return b(t)},selectionModel:Z}))},sn=function(e){return n.createElement(on,null,(function(t){var a=t.transitions,r=t.loading;return n.createElement(cn,(0,o.Z)({},e,{transitions:a,loading:r}))}))};var un=(0,ge.Z)((function(e){return(0,ve.Z)({spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(1)},skeleton:{height:20},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},rowSpacing:{marginBottom:e.spacing(.5)}})}));const dn=function(e){var t,a,r,l,i,o,c,s,u,d=e.data,m=(0,x.useTranslation)().t,f=un();return n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:f.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},m("fromState")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(f.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(t=d.from)||void 0===t?void 0:t.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(a=d.from)||void 0===a?void 0:a.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(r=d.from)||void 0===r?void 0:r.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:f.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},m("toState")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(f.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(l=d.to)||void 0===l?void 0:l.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(i=d.to)||void 0===i?void 0:i.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(o=d.to)||void 0===o?void 0:o.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:f.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},m("operation")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(f.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("id"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(c=d.operation)||void 0===c?void 0:c.id)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("code"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(s=d.operation)||void 0===s?void 0:s.code)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("name"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d||null===(u=d.operation)||void 0===u?void 0:u.name)))),n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3,className:f.spacingBottom},n.createElement(xe.Z,{item:!0,xs:12},n.createElement(Se.Z,{variant:"subtitle1",color:"primary"},m("additionalInformation")))),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(f.rowSpacing),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("availableFrom"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d?void 0:d.availableFrom)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("availableUntil"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d?void 0:d.availableUntil)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("businessRules"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d?void 0:d.businessRules)),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldHeading)},m("businessActions"))),n.createElement(xe.Z,{item:!0,xs:12,sm:3},n.createElement(Se.Z,{className:(0,ke.default)(f.fieldValue)},null==d?void 0:d.businessActions)))))},mn=function(e){var t=e.children,a=e.transitionId,r=n.useState({}),l=(0,u.Z)(r,2),i=l[0],o=l[1],c=n.useState(!1),s=(0,u.Z)(c,2),d=s[0],m=s[1],p=(0,w.useSnackbar)().enqueueSnackbar;return n.useEffect((function(){m(!0),function(e){return f("".concat(g,"/workflow/transition/").concat(e))}(a).then((function(e){return o(e.transition||[])})).catch((function(e){return p(e.resultMessage||e.message,{variant:"error"})})).finally((function(){return m(!1)}))}),[]),n.createElement(n.Fragment,null,t({transition:i,loading:d}))};var fn=(0,ge.Z)((function(e){return(0,ve.Z)({elements:{marginRight:e.spacing(2)},spacingTop:{marginTop:e.spacing(3)},dividerSpacing:{marginBottom:e.spacing(3)},form:{display:"flex",flexDirection:"column",flexWrap:"wrap"},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},skeleton:{height:80},fullWidth:{width:"100%"},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},imageBox:{position:"sticky",top:"10%"},delete:{color:e.palette.error.main},button:{width:300},percentTop:{top:"25%"},responsiveImage:{maxWidth:200,width:"100%"}})})),pn=function(e){return"Invalid Date"===e},gn=(new Date).getTime();const vn=function(e){var t=e.data,a=e.onFormSubmit,r=e.edit,l=e.onReset,i=fn(),s=(0,x.useTranslation)().t,u=pe.Ry({from:pe.Z_().required(s("stateCodeError")),to:pe.Z_().required(s("stateNameError")),operation:pe.Z_().required(s("stateNameError")),availableFrom:pe.Z_().required(s("availableFromError")),availableUntil:pe.Z_().required(s("availableUntilError"))}),d=(0,Ze.cI)({mode:"onSubmit",defaultValues:t,resolver:(0,Ye.X)(u),reValidateMode:"onChange"}),m=d.register,f=d.getValues,p=d.errors,g=d.control,v=d.handleSubmit,E=d.reset,h=d.setError,Z=d.clearErrors;n.useEffect((function(){E(t)}),[t]);var b=f(),y=window.config.openCalendarWith||"year";return n.createElement(we.Z,null,n.createElement(Ee.SeamlessContainer,{title:s("statesTransitionFormTitle"),description:s("statesTransitionFormDescription")},n.createElement(te.Z,{style:{visibility:"hidden"}}),n.createElement(xe.Z,{container:!0,className:(0,ke.default)(i.spacingTop),spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:10},n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(ba,null,(function(e){var t=e.states;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});var a=t.map((function(e){return{key:e.name,value:e.id}}));return a.unshift({key:"Choose",value:0}),n.createElement(Ze.Qr,{control:g,name:"from",render:function(e){var t=e.onChange,r=e.ref,l=(0,c.Z)(e,["onChange","ref"]);return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({id:"from",required:!0,fullWidth:!0,className:(0,ke.default)(i.input),label:s("fromState"),error:!(null==p||!p.from),helperText:null!=p&&p.from?s("stateError"):s("statePlaceholder"),options:a,onChange:function(e){var a=e.target.value;t("Choose"===a?null:a)},inputRef:r},l))}})}))),n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(ba,null,(function(e){var t=e.states;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});var a=t.map((function(e){return{key:e.name,value:e.id}}));return a.unshift({key:"Choose",value:0}),n.createElement(Ze.Qr,{control:g,name:"to",render:function(e){var t=e.onChange,r=e.ref,l=(0,c.Z)(e,["onChange","ref"]);return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({id:"to",required:!0,fullWidth:!0,className:(0,ke.default)(i.input),label:s("toState"),error:!(null==p||!p.to),helperText:null!=p&&p.to?s("stateError"):s("statePlaceholder"),options:a,onChange:function(e){var a=e.target.value;t("Choose"===a?null:a)},inputRef:r},l))}})})))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Va,null,(function(e){var t=e.operations;if(e.loading)return n.createElement(Te.Z,{animation:"wave",className:i.skeleton});var a=t.map((function(e){return{key:e.name,value:e.id}}));return a.unshift({key:"Choose",value:0}),n.createElement(Ze.Qr,{control:g,name:"operation",render:function(e){var t=e.onChange,r=e.ref,l=(0,c.Z)(e,["onChange","ref"]);return n.createElement(Ee.SeamlessDropDown,(0,o.Z)({id:"operation",required:!0,fullWidth:!0,className:(0,ke.default)(i.input),label:"Operation",error:!(null==p||!p.operation),helperText:null!=p&&p.operation?s("operationError"):s("operationPlaceholder"),options:a,onChange:function(e){var a=e.target.value;t("Choose"===a?null:a)},inputRef:r},l))}})})))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:g,name:"availableFrom",defaultValue:b.availableFrom,rules:{required:!0},render:function(e){var t=e.onChange,a=e.ref,r=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:y,required:!0,fullWidth:!0,autoOk:!0,error:Boolean(p.availableFrom||pn(b.availableFrom)),className:(0,ke.default)(i.fullWidth,i.input),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableFrom",label:s("availableFrom"),helperText:p.availableFrom||pn(b.availableFrom)?s("dateError"):s("availableFromHelperText"),onChange:function(e){null!=e&&e.getDate()?(p.availableFrom&&Z("availableFrom"),t((0,Ne.Z)(e,"yyyy-MM-dd"))):(h("availableFrom",{type:"manual",message:null==e?void 0:e.toString()}),t(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:a},r,{minDate:gn}))}}))),n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Xe.M,{utils:he.Z},n.createElement(Ze.Qr,{control:g,name:"availableUntil",rules:{required:!0},defaultValue:b.availableUntil,render:function(e){var t,a,r=e.onChange,l=e.ref,u=(0,c.Z)(e,["onChange","ref"]);return n.createElement($e.e,(0,o.Z)({views:["year","month","date"],openTo:y,required:!0,fullWidth:!0,autoOk:!0,error:Boolean(p.availableUntil||"Invalid Date"===(null===(t=b.availableUntil)||void 0===t?void 0:t.toString())),className:(0,ke.default)(i.fullWidth,i.input),variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"availableUntil",label:s("availableUntil"),helperText:p.availableUntil||"Invalid Date"===(null===(a=b.availableUntil)||void 0===a?void 0:a.toString())?s("dateError"):s("availableUntilHelperText"),onChange:function(e){null!=e&&e.getDate()?(p.availableUntil&&Z("availableUntil"),r((0,Ne.Z)(e,"yyyy-MM-dd"))):(h("availableUntil",{type:"manual",message:null==e?void 0:e.toString()}),r(e))},KeyboardButtonProps:{"aria-label":"change date"},inputRef:l},u,{minDate:(new Date).getTime()}))}})))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"businessRules",helperText:s("businessRulesPlaceholder"),className:(0,ke.default)(i.input),label:s("businessRules"),inputRef:m({required:!0})})),n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Ee.SeamlessInput,{fullWidth:!0,name:"businessActions",helperText:s("businessActionsPlaceholder"),className:(0,ke.default)(i.input),label:s("businessActions"),inputRef:m({required:!0})})))))),n.createElement(xe.Z,{item:!0,className:(0,ke.default)(i.input)},n.createElement(Ee.SeamlessButton,{className:(0,ke.default)(i.btnSpacing),onClick:v((function(e){var t=e.availableFrom,n=e.availableUntil;t>=n&&pn(n)&&h("availableUntil",{type:"manual",message:"Invalid Date"}),pn(t)||pn(n)?(pn(t)&&h("availableFrom",{type:"manual",message:"Invalid Date"}),pn(n)&&h("availableUntil",{type:"manual",message:"Invalid Date"})):Object.keys(p).length||a&&a(e)})),color:"primary",variant:"contained"},s(r?"updateButton":"submitButton")),n.createElement(Ee.SeamlessButton,{onClick:function(){return function(e){E(e),l&&l()}(t)},className:(0,ke.default)(i.btnSpacing),color:"primary",variant:"outlined"},s("resetButton"))))},En=function(e){var t=e.disable,a=void 0!==t&&t;return n.createElement(Ee.SeamlessButton,{component:i.Link,to:"/home/product/workflow/transition/create",variant:"contained",color:"primary",disabled:a,endIcon:n.createElement(Pe.Z,null)},"Create State Transition")};var hn=(0,ge.Z)((function(e){return(0,ve.Z)({element:{margin:e.spacing(1)}})}));const Zn=function(e){var t=e.policyList,a=(e.loading,(0,c.Z)(e,["policyList","loading"]),(0,x.useTranslation)().t),r=hn(),l=n.useState(!1),o=(0,u.Z)(l,2),d=o[0],m=o[1],f=((0,i.useHistory)(),n.useState("")),p=(0,u.Z)(f,2),g=p[0],v=p[1];return n.createElement(n.Fragment,null,n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:4},n.createElement(Ee.SeamlessDropDown,{id:"policy-types-drop-down",fullWidth:!0,className:(0,ke.default)(r.element),label:a("policyTypes"),error:d,options:[{value:"Choose",key:a("choose")}].concat((0,s.Z)(t.map((function(e){return{value:e,key:e}})))),name:"policyType",onChange:function(e){return function(e){var t=e.target.value;t?(m(!1),v(t)):m(!0)}(e)}}))),function(e){switch(e){case"State":return n.createElement(we.Z,null,n.createElement(we.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(Na,null)),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(_a,null)));case"Operation":return n.createElement(we.Z,null,n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(ja,null)));case"Workflow":return n.createElement(we.Z,null,n.createElement(we.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(Wa,null)),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(Ha,null)));case"State Transition":return n.createElement(we.Z,null,n.createElement(we.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(En,null)),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(sn,null)))}}(g))},bn=function(e){return n.createElement(ha,{refresh:!0},(function(t){var a=t.policyList,r=t.loading;return n.createElement(Zn,(0,o.Z)({policyList:a,loading:r},e))}))};var yn=(0,ge.Z)((function(e){return(0,ve.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const _n=function(e){var t=e.open,a=e.onClose,r=e.onOk,l=e.dialogTitle,i=e.dialogDescription,o=yn(),c=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessDialog,{open:t,onClose:a,className:o.dialogWrapper,maxWidth:"md",fullWidth:!0},n.createElement(Ee.SeamlessContainer,{title:l,description:i},n.createElement(n.Fragment,null,n.createElement(Ee.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:o.btnSpace,onClick:a},c("noConfirmationButton")),n.createElement(Ee.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:r},c("yesConfirmationButton")))))},wn=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=S().showErrorMessage;return n.useEffect((function(){d(!0),setTimeout((function(){f("".concat(g,"/workflow")).then((function(e){return i(e.workflows||[])})).catch((function(e){return m(e)})).finally((function(){return d(!1)}))}),1e3)}),[]),n.createElement(n.Fragment,null,t({workflows:l,loading:s}))},xn=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=S().showErrorMessage;return n.useEffect((function(){d(!0),setTimeout((function(){b().then((function(e){return i(e.taxes||[])})).catch((function(e){return m(e)})).finally((function(){return d(!1)}))}),2e3)}),[]),n.createElement(n.Fragment,null,t({taxes:l,loading:s}))},Sn=function(e){var t=e.children,a=n.useState([]),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=n.useState(!1),c=(0,u.Z)(o,2),s=c[0],d=c[1],m=S(),p=m.showErrorMessage;return m.showSuccessMessage,n.useEffect((function(){d(!0),f("/acms/concerted-rule-info").then(function(){var e=(0,Be.Z)(He().mark((function e(t){var a,n;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,y().then((function(e){e.forEach((function(e){a["".concat(e.productKey)]=e.productName}))}));case 3:n=t.concertedResponses.map((function(e){var t,n,r,l;return{ruleId:null==e?void 0:e.ruleId,ruleName:null==e?void 0:e.ruleName,createdBy:null==e?void 0:e.createdBy,validFrom:null==e?void 0:e.validFrom,validUntil:null==e?void 0:e.validUntil,channels:null===(t=e.fieldsMap)||void 0===t||null===(n=t.channel)||void 0===n?void 0:n.split("|").join(" ,"),districts:null===(r=e.fieldsMap)||void 0===r||null===(l=r.district)||void 0===l?void 0:l.split("|").join(" ,"),productVariant:Object.keys(e.variantIdAndSKUMap).map((function(e){return a["".concat(e)]})).join(" ,")}})),i(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){p("There was an error")})).finally((function(){return d(!1)}))}),[]),n.createElement(n.Fragment,null,t({productRules:l,loading:s}))};var Nn=a(99487),kn=a(48348),Tn=a(12231),Cn=a(31807),On=(0,ge.Z)((function(e){return(0,ve.Z)({dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})})),Pn=function(e){var t=e.onClick,a=(0,x.useTranslation)().t,r=n.useState(null),l=(0,u.Z)(r,2),i=l[0],o=l[1];return n.createElement(n.Fragment,null,n.createElement(te.Z,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"primary",style:{backgroundColor:"transparent"},startIcon:n.createElement(Nn.Z,null)},a("export")),n.createElement(kn.Z,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){o(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.createElement(Tn.Z,{onClick:t},a("exportAsCSV"))))};const Dn=function(e){var t=e.loading,a=e.productRules,r=void 0===a?[]:a,l=(0,x.useTranslation)().t,o=n.useState(!1),c=(0,u.Z)(o,2),s=(c[0],c[1],S()),d=s.showErrorMessage,m=(s.showSuccessMessage,On(),ue()().checkPermission),p=function(e){return e&&e.length>20&&(e=e.slice(0,20)+" ..."),e},g=[{field:"ruleName",headerName:l("ruleName"),sortable:!0,filterable:!0,width:150},{field:"productVariant",headerName:l("productVariant"),sortable:!0,filterable:!0,width:200,renderCell:function(e){return n.createElement(ne.ZP,{title:e.row.productVariant},n.createElement("div",null,p(e.row.productVariant)))}},{field:"channels",headerName:l("channel"),sortable:!0,filterable:!0,width:200,renderCell:function(e){return e.row.channels?n.createElement(ne.ZP,{title:e.row.channels},n.createElement("div",null,p(e.row.channels))):n.createElement("div",null,"-")}},{field:"districts",headerName:l("districts"),sortable:!0,filterable:!0,width:200,renderCell:function(e){return e.row.districts?n.createElement(ne.ZP,{title:e.row.districts},n.createElement("div",null,p(e.row.districts))):n.createElement("div",null,"-")}},{field:"createdBy",headerName:l("createdBy"),sortable:!0,filterable:!0,width:150},{field:"validFrom",headerName:l("fromDate"),sortable:!0,filterable:!0,width:150,renderCell:function(e){return n.createElement("div",null,e.getValue("validFrom")?(0,Ne.Z)((0,Cn.Z)(new Date(e.getValue("validFrom")).toISOString()),"yyyy-MM-dd HH:mm:ss"):"")}},{field:"validUntil",headerName:l("toDate"),sortable:!0,filterable:!0,width:150,renderCell:function(e){return n.createElement("div",null,e.getValue("validUntil")?(0,Ne.Z)((0,Cn.Z)(new Date(e.getValue("validUntil")).toISOString()),"yyyy-MM-dd HH:mm:ss"):"")}},{field:"actions",headerName:l("actions"),sortable:!1,filterable:!1,width:200,renderCell:function(e){return n.createElement("div",null,n.createElement(ae.Z,{size:"small",color:"primary","aria-label":"group action buttons"},m(Q)&&n.createElement(te.Z,{component:i.Link,to:"/home/product/rules/edit/"+e.getValue("ruleId")},n.createElement(re.Z,{fontSize:"small"})),m(G)&&n.createElement(te.Z,{component:i.Link,to:"/home/product/rules/view/"+e.getValue("ruleId")},n.createElement(le.Z,{fontSize:"small"}))))},flex:1}],v={Toolbar:function(){return n.createElement(Aa.GridToolbarContainer,null,n.createElement(Aa.GridColumnsToolbarButton,null),n.createElement(Aa.GridFilterToolbarButton,null),n.createElement(Aa.GridDensitySelector,null),n.createElement(Pn,{onClick:function(){f("/acms/export-product-rule-info").then((function(e){!function(e,t){if(window.navigator.msSaveBlob){var a=qt(e,{type:"text/csv"});window.navigator.msSaveBlob(a,t)}else{var n=document.createElement("a");if(n.download=t,window.URL.createObjectURL){var r=qt(e,{type:"text/csv"});n.href=window.URL.createObjectURL(r)}else n.href="data:text/csv;charset=utf-8,"+encodeURIComponent(e);if(document.createEvent){var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!0),n.dispatchEvent(l)}else n.click()}}(e,"Product-Rule-export.csv")})).catch((function(e){d(l("downloadfailed"))}))}}))}};return n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(ee(),{loading:t,columnBuffer:3,rows:r,getRowId:function(e){return e.ruleId},columns:g,components:v}))},Vn=function(){return n.createElement(Sn,null,(function(e){var t=e.productRules,a=e.loading;return n.createElement(Dn,{productRules:t,loading:a})}))};var In=a(50835),jn=a(38670),Mn=a(11637);const Fn=function(e){var t=e.options,a=e.selectedOptions,r=e.title,l=e.setSelectedOptions,i=e.view,c=void 0!==i&&i,u=e.required,d=void 0!==u&&u,m=e.className,f=(0,x.useTranslation)().t,p=function(e){return n.createElement(ze.Z,(0,o.Z)({},e,{required:d,readOnly:c,disabled:c,label:f(r)}))},g=t.length===a.length,v=function(e,t){return e.value===t.value},E=function(){l([])},h=function(e){e?l(t):E()},Z=(0,Mn.D)(),b=function(e){l(e)},y=function(e,a,n){"select-option"===n||"remove-option"===n?a.find((function(e){return"select-all"===e.value}))?(h&&h(!g),null==t||t.filter((function(e){return"select-all"!==e.value}))):b&&b(a):"clear"===n&&E&&E()},_=function(e,t){var a=t.selected,r="select-all"===e.value?{checked:g}:{};return n.createElement(n.Fragment,null,n.createElement(kt.Z,(0,o.Z)({color:"primary",icon:n.createElement(Qe.Z,{color:"primary"},"check_box_outline_blank"),checkedIcon:n.createElement(Qe.Z,{color:"secondary"},"check_box"),style:{marginRight:8},checked:a,readOnly:c},r)),"".concat(e.key))};return n.createElement(n.Fragment,null,c?n.createElement(Ge.ZP,{className:m,multiple:!0,size:"small",options:t,value:a,disableCloseOnSelect:!0,getOptionLabel:function(e){return"".concat(e.key)},getOptionSelected:v,filterOptions:function(e,t){var a=Z(e,t);return[{key:"Select all",value:"select-all"}].concat((0,s.Z)(a))},onChange:c?function(){return null}:y,renderOption:_,renderInput:p,disableClearable:!0,renderTags:function(e,t){return e.map((function(e,a){return n.createElement(Tt.Z,(0,o.Z)({label:e.key},t({index:a})))}))},limitTags:2}):n.createElement(Ge.ZP,{className:m,multiple:!0,size:"small",options:t,value:a,disableCloseOnSelect:!0,getOptionLabel:function(e){return"".concat(e.key)},getOptionSelected:v,filterOptions:function(e,t){var a=Z(e,t);return[{key:"Select all",value:"select-all"}].concat((0,s.Z)(a))},onChange:y,renderOption:_,renderInput:p,disableClearable:c,renderTags:function(e,t){return e.map((function(e,r){return n.createElement(Tt.Z,(0,o.Z)({label:e.key},t({index:r}),{disabled:!!c&&-1!==a.indexOf(e)}))}))},limitTags:2}))};var Rn=(0,ge.Z)((function(e){return(0,ve.Z)({button:{marginTop:10},element:{margin:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},elementField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),width:550},dropField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),hieght:800},field:{marginTop:e.spacing(1)}})}));const Bn=function(e){var t=e.data,a=e.onFormSubmit,r=e.view,l=e.edit,o=e.sku,c=e.channelSelected,s=e.districtSelected,d=e.productVariants,m=Rn(),p=(0,x.useTranslation)().t,g=S(),v=g.showErrorMessage,E=(g.showSuccessMessage,g.showWarningMessage),h=n.useState(!1),Z=(0,u.Z)(h,2),b=Z[0],y=Z[1],_=((0,i.useHistory)(),pe.Ry().shape({ruleName:pe.Z_().required(p("valueIsRequired")).matches(/^[a-zA-Z0-9_]+$/,p("alphaNumeric")).max(255),validFrom:pe.Z_().required(p("valueIsRequired")),validUntil:pe.Z_().required(p("valueIsRequired"))})),w=t.validFrom,N=(0,In.useFormik)({initialValues:t,onSubmit:function(e){return a&&a(e)},validationSchema:_,enableReinitialize:!0,validateOnChange:b}),k=N.values,T=N.errors,C=N.handleChange,O=(N.handleBlur,N.handleSubmit),P=N.handleReset,D=n.useState([]),V=(0,u.Z)(D,2),I=V[0],j=V[1],M=n.useState([]),F=(0,u.Z)(M,2),R=F[0],B=F[1],U=n.useState(!1),H=(0,u.Z)(U,2),W=(H[0],H[1]),q=n.useState([]),A=(0,u.Z)(q,2),z=A[0],L=A[1],K=n.useState([]),Q=(0,u.Z)(K,2),G=Q[0],X=Q[1],$=n.useState([]),Y=(0,u.Z)($,2),J=Y[0],ee=Y[1],ae=(0,jn.useSelector)((function(e){return e.auth})).user,ne=window.config.openCalendarWith||"year";return n.useEffect((function(){W(!0),f("/acms/rule-transaction-fields").then((function(e){var t,a;if(null!=e&&null!==(t=e.transactionFields)&&void 0!==t&&t.channel&&(null==e||null===(a=e.transactionFields)||void 0===a?void 0:a.channel.length)>0){var n,r=null===(n=e.transactionFields.channel[0].split("|"))||void 0===n?void 0:n.map((function(e){return{key:e,value:e}}));B(r)}else B([])})).catch((function(e){v("There was an error"),B([])})).finally((function(){return W(!1)})),f("/rgms/v1/region/?level=3").then((function(e){if(0===e.resultCode){var t,a=null==e||null===(t=e.data)||void 0===t?void 0:t.map((function(e){return{key:null==e?void 0:e.regionName,value:null==e?void 0:e.id}}));j(a)}else j([])})).catch((function(e){v("There was an error"),j([])}))}),[]),n.useEffect((function(){o&&ee(o),s&&X(s),c&&L(c)}),[o,c,s]),n.createElement(n.Fragment,null,n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:6,md:4},n.createElement(Ee.SeamlessInput,{fullWidth:!0,error:!!T.ruleName,helperText:l?p("ruleNameIsNotEditable"):T.ruleName,className:(0,ke.default)(m.element),name:"ruleName",value:k.ruleName,onChange:C,label:p("ruleName"),required:!0,readOnly:r||l})),n.createElement(xe.Z,{item:!0,xs:12,sm:6,md:4,className:m.field},n.createElement(Fn,{className:(0,ke.default)(m.element),required:!0,options:d||[],selectedOptions:J,title:"product",setSelectedOptions:ee,view:r}))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:6,md:4,className:m.field},n.createElement(Fn,{options:R||[],required:!0,className:(0,ke.default)(m.element),selectedOptions:z,title:"channel",setSelectedOptions:L,view:r})),n.createElement(xe.Z,{item:!0,xs:12,sm:6,md:4,className:m.field},n.createElement(Fn,{className:(0,ke.default)(m.element),options:I||[],required:!0,selectedOptions:G,title:"district",setSelectedOptions:X,view:r}))),n.createElement(xe.Z,{container:!0,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,sm:3,md:4},n.createElement(Xe.M,{utils:he.Z},n.createElement($e.e,{className:(0,ke.default)(m.dateField),views:["year","month","date"],openTo:ne,required:!0,autoOk:!0,variant:"inline",format:"yyyy/MM/dd",margin:"normal",label:p("from"),name:"validFrom",value:k.validFrom||null,onChange:function(e){null!=e&&e.getDate()?C({target:{value:e.toISOString(),name:"validFrom"}}):C({target:{value:"",name:"validFrom"}})},KeyboardButtonProps:{"aria-label":"change date"},readOnly:r,error:!!T.validFrom,helperText:T.validFrom,minDate:l?w:new Date,maxDate:k.validUntil?k.validUntil:new Date,inputProps:{readOnly:r}}))),n.createElement(xe.Z,{item:!0,xs:12,sm:3,md:4},n.createElement(Xe.M,{utils:he.Z},n.createElement($e.e,{className:(0,ke.default)(m.dateField),required:!0,views:["year","month","date"],openTo:ne,autoOk:!0,variant:"inline",format:"yyyy/MM/dd",margin:"normal",label:p("to"),name:"validUntil",value:k.validUntil||null,onChange:function(e){null!=e&&e.getDate()?C({target:{value:null==e?void 0:e.toISOString(),name:"validUntil"}}):C({target:{value:"",name:"validUntil"}})},error:!!T.validUntil,helperText:T.validUntil,readOnly:r,minDate:k.validFrom||new Date,inputProps:{readOnly:r}})))),r?n.createElement(te.Z,{type:"button",variant:"contained",color:"primary",component:i.Link,to:"/home/product/rules"},p("Back")):n.createElement(xe.Z,{item:!0,xs:12},n.createElement(te.Z,{type:"button",onClick:function(e){var t,a;if(0===J.length||0===G.length||0===z.length){var n="";return 0===J.length&&(n+="".concat(p("product"),",")),0===G.length&&(n+="".concat(p("district"),",")),0===z.length&&(n+="".concat(p("channel"))),n.split(" ").length<=1?n+=" is required":n+=" are required",void E(n)}var r={};null==J||J.forEach((function(e){r["".concat(e.value)]=e.sku}));var l=null==z?void 0:z.map((function(e){return e.value})).join("|"),i=null==G?void 0:G.map((function(e){return e.value})).join("|");k.validFrom=(null==k||null===(t=k.validFrom)||void 0===t?void 0:t.slice(0,10))+" 00:00:59",k.validUntil=(null==k||null===(a=k.validUntil)||void 0===a?void 0:a.slice(0,10))+" 23:59:59",k.variantIdAndSKUMap=r,k.fieldsMap={},l&&(k.fieldsMap.channel=l),i&&(k.fieldsMap.district=i),k.createdBy=ae.userId,O(),y(!0)},className:(0,ke.default)(m.element,m.button),color:"primary",variant:"contained"},p("submitButton")),n.createElement(te.Z,{type:"button",onClick:function(e){l?(L(c),ee(o),X(s)):(L([]),ee([]),X([])),P(e),y(!0)},className:(0,ke.default)(m.element,m.button),color:"primary",variant:"outlined"},p("resetButton"))))};var Un=a(38740),Hn=a(86689),Wn=a(89172),qn=(0,ge.Z)((function(e){return(0,ve.Z)({element:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},uploadInput:{"& #seamless-unified-upload":{borderRadius:"8px"}},button:{marginTop:e.spacing(8)},dialog:{"&. MuiDialog-paperWidthSm":{maxWidth:"300px"}},closeIcon:{float:"right","@media print":{display:"none"}},icon:{"& .MuiSvgIcon-root":{width:"2em",height:"2em"},display:"flex",justifyContent:"center"},rowSpacing:{marginBottom:e.spacing(.5)},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all"},successColor:{color:"#0dc50a"},errorColor:{color:"#FF0000"},heading:{fontWeight:"bold",textTransform:"capitalize",fontSize:16},header:{display:"flex",justifyContent:"center"}})}));const An=function(){var e=qn(),t=(0,x.useTranslation)().t,a=n.useState(""),r=(0,u.Z)(a,2),l=r[0],o=r[1],c=S(),s=c.showErrorMessage,d=(c.showSuccessMessage,n.useState(!1)),m=(0,u.Z)(d,2),p=m[0],g=m[1],v=n.useState(!1),E=(0,u.Z)(v,2),h=E[0],Z=E[1],b=n.useState({failedDetails:{},successCount:0,failCount:0,total:0}),y=(0,u.Z)(b,2),_=y[0],w=y[1],N=((0,i.useHistory)(),function(e){var t,a=new FormData;a.append("file",e),Z(!0),(t=a,f("/acms/import-product-rule-info",{method:"POST",body:t},!0)).then((function(e){w({failedDetails:null==e?void 0:e.failedRecordDescription,successCount:null==e?void 0:e.successfulRecords,failCount:null==e?void 0:e.failedRecords,total:null==e?void 0:e.totalCount}),g(!0)})).catch((function(e){s(e.message),o(null)})).finally((function(){return Z(!1)}))});return n.createElement(n.Fragment,null,n.createElement("div",{className:e.uploadInput},n.createElement(Hn.Z,{onClick:function(){return"/files/sample_product_rule_import.csv","sample_product_rule_import.csv",(e=document.createElement("a")).setAttribute("href","/files/sample_product_rule_import.csv"),e.setAttribute("download","sample_product_rule_import.csv"),document.body.appendChild(e),void e.click();var e}},n.createElement(te.Z,{style:{marginBottom:"25px"},color:"primary",variant:"outlined",startIcon:n.createElement(Qe.Z,null,"download")},"Download Sample Import file.csv")),n.createElement(ye(),{name:"import-doc",value:l,label:t("uploadImportDocument"),onChange:function(e){o(e.target.files[0])},type:"NoOSM",fileInputCondition:".csv"}),n.createElement(Se.Z,{variant:"subtitle2"}," ",l&&"".concat(t("uploadSuccessful")," - ").concat(null==l?void 0:l.name)," ")),n.createElement(te.Z,{color:"primary",variant:"contained",onClick:function(){return N(l)},disabled:null===l||""==l||h,className:e.button},t(h?"submitting":"submit")),n.createElement(it.Z,{open:p,scroll:"paper",onClose:function(){g(!1),o(null)},"aria-labelledby":"product-variant-dialog",className:e.dialog},n.createElement(st.Z,{style:{justifyContent:"flex-end"}},n.createElement(Le.Z,{edge:"end",className:e.closeIcon,color:"inherit",onClick:function(){g(!1),o(null)},"aria-label":"close"},n.createElement(Qe.Z,null,"close"))),n.createElement(ot.Z,null,n.createElement(n.Fragment,null,n.createElement(xe.Z,{container:!0,className:e.rowSpacing,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,className:(0,ke.default)(e.icon,0==(null==_?void 0:_.failCount)?e.successColor:e.errorColor)},0==(null==_?void 0:_.failCount)?n.createElement(Wn.Z,null):n.createElement(Un.Z,null))),n.createElement(xe.Z,{container:!0,className:e.rowSpacing,spacing:3},n.createElement(xe.Z,{item:!0,xs:12,className:e.header},n.createElement(Se.Z,{className:e.heading},t("summary"))),n.createElement(n.Fragment,null,n.createElement(xe.Z,{item:!0,xs:6,sm:4,lg:3,md:3},n.createElement(Se.Z,{className:(0,ke.default)(e.fieldHeading)},t("totalRules"))),n.createElement(xe.Z,{item:!0,xs:6,sm:8,lg:8,md:8},n.createElement(Se.Z,{className:e.fieldValue},null==_?void 0:_.total))),n.createElement(n.Fragment,null,n.createElement(xe.Z,{item:!0,xs:6,sm:4,lg:3,md:3},n.createElement(Se.Z,{className:(0,ke.default)(e.fieldHeading,e.successColor)},t("successful"))),n.createElement(xe.Z,{item:!0,xs:6,sm:8,lg:8,md:8},n.createElement(Se.Z,{className:e.fieldValue},null==_?void 0:_.successCount))),n.createElement(n.Fragment,null,n.createElement(xe.Z,{item:!0,xs:6,sm:4,lg:3,md:3},n.createElement(Se.Z,{className:(0,ke.default)(e.fieldHeading,e.errorColor)},t("failed"))),n.createElement(xe.Z,{item:!0,xs:6,sm:8,lg:8,md:8},n.createElement(Se.Z,{className:e.fieldValue},null==_?void 0:_.failCount))),0!==(null==_?void 0:_.failCount)&&n.createElement(xe.Z,{item:!0,xs:12,className:e.header},n.createElement(Se.Z,{className:e.heading},t("failedRulesDescription"))),0!==(null==_?void 0:_.failCount)&&Object.keys(null==_?void 0:_.failedDetails).map((function(t,a){return n.createElement(n.Fragment,{key:a},n.createElement(xe.Z,{item:!0,xs:6,sm:3,lg:3,md:3},n.createElement(Se.Z,{className:(0,ke.default)(e.fieldHeading)},t)),n.createElement(xe.Z,{item:!0,xs:6,sm:9,lg:9,md:9},n.createElement(Se.Z,{className:e.fieldValue},null==_?void 0:_.failedDetails[t])))})))))))};var zn=a(31168),Ln=a(13737);const Kn=function(e){var t=(0,x.useTranslation)().t,a=n.useState("form"),r=(0,u.Z)(a,2),l=r[0],i=r[1],o=(0,ge.Z)((function(e){return(0,ve.Z)({toggle:{marginBottom:e.spacing(4),"& .Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"& .Mui-selected:hover":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText}}})}))();return n.createElement(n.Fragment,null,n.createElement(zn.Z,{color:"primary",size:"small",value:l,exclusive:!0,onChange:function(e,t){null!==t&&i(t)},className:o.toggle},n.createElement(Ln.Z,{value:"form"},t("manualEntry")),n.createElement(Ln.Z,{value:"import"},t("import"))),"form"===l&&n.createElement(Bn,e),"import"===l&&n.createElement(An,null))},Qn=function(){var e=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessContainer,{title:e("viewProductsPageTitle"),description:e("viewProductsPageDescription")},n.createElement(we.Z,null,n.createElement(we.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(De,null)),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(fe,null))))},Gn=function(){var e=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessContainer,{title:e("productFormTitle"),description:e("productFormDescription")},n.createElement(gt,null))},Xn=function(){var e=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessContainer,{title:e("viewProductVariantsPageTitle"),description:e("viewProductVariantsPageDescription")},n.createElement(we.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(St,null)),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(_t,null)))},$n=function(){var e=(0,x.useTranslation)().t,t=(0,i.useParams)().productId;return n.createElement(Ee.SeamlessContainer,{title:e("editProductTitle"),description:e("editProductDescriptionTitle")},n.createElement(Et,{id:t}),n.createElement(Xn,null))};var Yn=a(59398);const Jn=function(){var e=(0,i.useParams)().productId,t=(0,x.useTranslation)().t;return n.createElement(n.Fragment,null,n.createElement(Ie,{productId:e,reload:!1},(function(e){var a=e.product;return e.loading,n.createElement(Ee.SeamlessContainer,{title:t("productFormTitle"),description:t("productFormDescription")},n.createElement(Oe,{"data-testid":"view-product",data:(0,Yn.getNecessaryObject)(a,["createdAt","updatedAt"])}))})))},er=function(){var e=(0,i.useRouteMatch)().path,t=((0,i.useParams)(),ue()().AccessControlled);return n.createElement(i.Switch,null,n.createElement(i.Route,{path:e+"/create"},n.createElement(t,{feature:T},n.createElement(Gn,null))),n.createElement(i.Route,{path:e+"/edit/:productId"},n.createElement(t,{feature:O},n.createElement($n,null))),n.createElement(i.Route,{path:e+"/view/:productId"},n.createElement(t,{feature:k},n.createElement(Jn,null))),n.createElement(i.Route,null,n.createElement(t,{feature:C},n.createElement(Qn,null))))},tr=function(){var e=(0,i.useParams)().productId,t=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessContainer,{title:t("addProductVariantTitle"),description:t("addProductVariantDescription")},n.createElement(Ut,{id:e}))},ar=function(){var e=(0,x.useTranslation)().t,t=(0,i.useParams)(),a=t.productId,r=t.id;return n.createElement(Ee.SeamlessContainer,{title:e("editProductVariantTitle"),description:e("editProductVariantDescription")},n.createElement(Wt,{id:r,productId:a}))},nr=function(){var e=(0,i.useParams)(),t=e.productId,a=e.id,r=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessContainer,{title:r("viewProductVariantTitle"),description:r("viewProductVariantDescription")},n.createElement(Nt,{productId:t,variantId:a},(function(e){var t,a,r=e.productVariant,l=e.loading;return n.createElement(n.Fragment,null,n.createElement(xt,{"data-testid":"view-variant",data:(t=r,a=["createdAt","updatedAt"],Object.keys(t).reduce((function(e,n){return a.includes(n)||(e[n]=t[n]),e}),{}))}),l?n.createElement(Ke.Z,null):null)})))},rr=function(){var e=(0,i.useRouteMatch)().path,t=ue()().AccessControlled;return n.createElement(i.Switch,null,n.createElement(i.Route,{path:e+"/create"},n.createElement(t,{feature:V},n.createElement(tr,null))),n.createElement(i.Route,{path:e+"/edit/:id"},n.createElement(t,{feature:j},n.createElement(ar,null))),n.createElement(i.Route,{path:e+"/view/:id"},n.createElement(t,{feature:D},n.createElement(nr,null))),n.createElement(i.Route,null,n.createElement(t,{feature:I},n.createElement(Xn,null))))},lr=function(){var e=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessContainer,{title:e("viewProductCategoriesPageTitle"),description:e("viewProductCategoriesPageDescription")},n.createElement(we.Z,null,n.createElement(we.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(ia,null)),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(Jt,null))))};function ir(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function or(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ir(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var cr={id:0,parentId:null,path:"",name:"",description:"",status:"available",workflowId:null,taxIds:[],imageUrl:"",availableFrom:(new Date).toISOString(),availableUntil:(new Date).toISOString()};const sr=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=t[0],r=t[1],l=n.useState(cr),o=(0,u.Z)(l,2),c=o[0],s=o[1],d=S(),m=d.showErrorMessage,p=d.showSuccessMessage,g=(0,i.useHistory)(),v=n.useCallback((function(e){var t;r(!0),(t={productCategory:or({},e)},f("".concat(h,"/productCategory"),{method:"POST",body:t})).then((function(e){p(e),g.push("/home/product/categories")})).catch((function(e){return m(e)})).finally((function(){r(!1),s(e)}))}),[]);return n.createElement(n.Fragment,null,n.createElement(na,{"data-testid":"create-product-category",data:(0,Yn.getNecessaryObject)(c,["createdAt","updatedAt"]),onReset:function(){return g.push("/home/product/categories/create")},onFormSubmit:function(e){return v(e)}}),a?n.createElement(Ke.Z,null):null)};function ur(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ur(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const mr=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=t[0],r=t[1],l=n.useState(),o=(0,u.Z)(l,2),c=o[0],s=o[1],d=S(),m=d.showErrorMessage,p=d.showSuccessMessage,g=(0,i.useParams)().categoryId,v=(0,i.useHistory)(),E=n.useCallback((function(e){var t;r(!0),e.id=Number(g),(t={productCategory:dr({},e)},f("".concat(h,"/productCategory"),{method:"PUT",body:t})).then((function(e){p(e),v.push("/home/product/categories")})).catch((function(e){return m(e)})).finally((function(){r(!1),s(e)}))}),[]),Z=function(){return v.push("/home/product/categories/edit/".concat(g))};return n.createElement(n.Fragment,null,n.createElement(oa,{categoryId:g},(function(e){var t=e.productCategory;return e.loading,n.createElement(n.Fragment,null,n.createElement(na,{"data-testid":"edit-product-category",edit:!0,data:(0,Yn.getNecessaryObject)(c||t,["createdAt","updatedAt"]),onReset:Z,onFormSubmit:function(e){return E(e)}}),a?n.createElement(Ke.Z,null):null)})))},fr=function(){var e=(0,i.useParams)().categoryId,t=(0,x.useTranslation)().t;return n.createElement(n.Fragment,null,n.createElement(oa,{categoryId:e},(function(e){var a=e.productCategory;return e.loading,n.createElement(Ee.SeamlessContainer,{title:t("productCategoryFormTitle"),description:t("productCategoryFormDescription")},n.createElement(la,{"data-testid":"view-product-category",data:(0,Yn.getNecessaryObject)(a,["createdAt","updatedAt"])}))})))},pr=function(){var e=(0,i.useRouteMatch)().path,t=ue()().AccessControlled;return n.createElement(i.Switch,null,n.createElement(i.Route,{path:e+"/create"},n.createElement(t,{feature:R},n.createElement(sr,null))),n.createElement(i.Route,{path:e+"/edit/:categoryId"},n.createElement(t,{feature:U},n.createElement(mr,null))),n.createElement(i.Route,{path:e+"/view/:categoryId"},n.createElement(t,{feature:F},n.createElement(fr,null))),n.createElement(i.Route,null,n.createElement(t,{feature:B},n.createElement(lr,null))))};(0,ge.Z)((function(e){return(0,ve.Z)({stats:{margin:e.spacing(1)}})}));const gr=function(){var e=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessContainer,{title:e("viewTaxesPageTitle"),description:e("viewTaxesPageDescription")},n.createElement(we.Z,null,n.createElement(we.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(ma,null)),n.createElement("div",{style:{height:600,width:"100%"}},n.createElement(da,null))))};function vr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Er(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var hr={taxType:"",percentValue:0,fixedValue:0};const Zr=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=t[0],r=t[1],l=n.useState(hr),o=(0,u.Z)(l,2),c=o[0],s=o[1],d=S(),m=d.showErrorMessage,p=d.showSuccessMessage,g=(0,i.useHistory)(),v=n.useCallback((function(e){var t;r(!0),(t={tax:Er({},e)},f("".concat(Z,"/tax"),{method:"POST",body:t})).then((function(e){p(e),g.push("/home/product/taxes")})).catch((function(e){return m(e)})).finally((function(){r(!1),s(e)}))}),[]);return n.createElement(n.Fragment,null,n.createElement(pa,{"data-testid":"create-product-category",data:(0,Yn.getNecessaryObject)(c,[]),onReset:function(){return g.push("/home/product/taxes/create")},onFormSubmit:function(e){return v(e)}}),a?n.createElement(Ke.Z,null):null)},br=function(){var e=(0,i.useParams)().taxId,t=(0,x.useTranslation)().t;return n.createElement(n.Fragment,null,n.createElement(Ea,{taxId:e},(function(e){var a=e.tax;return e.loading,n.createElement(Ee.SeamlessContainer,{title:t("taxFormTitle"),description:t("taxFormDescription")},n.createElement(va,{"data-testid":"view-tax",data:(0,Yn.getNecessaryObject)(a,["createdAt","updatedAt"])}))})))};function yr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const wr=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=t[0],r=t[1],l=n.useState(),o=(0,u.Z)(l,2),c=o[0],s=o[1],d=S(),m=d.showErrorMessage,p=d.showSuccessMessage,g=(0,i.useParams)().taxId,v=(0,i.useHistory)(),E=n.useCallback((function(e){var t;r(!0),e.id=Number(g),(t={tax:_r({},e)},f("".concat(Z,"/tax"),{method:"PUT",body:t})).then((function(e){p(e),v.push("/home/product/taxes")})).catch((function(e){return m(e)})).finally((function(){r(!1),s(e)}))}),[]),h=function(){return v.push("/home/product/taxes/edit/".concat(g))};return n.createElement(n.Fragment,null,n.createElement(Ea,{taxId:g},(function(e){var t=e.tax;return e.loading,n.createElement(n.Fragment,null,n.createElement(pa,{"data-testid":"edit-taxes",edit:!0,data:(0,Yn.getNecessaryObject)(c||t,[]),onReset:h,onFormSubmit:function(e){return E(e)}}),a?n.createElement(Ke.Z,null):null)})))},xr=function(){var e=(0,i.useRouteMatch)().path,t=((0,i.useParams)(),ue()().AccessControlled);return n.createElement(i.Switch,null,n.createElement(i.Route,{path:e+"/view/:taxId"},n.createElement(t,{feature:q},n.createElement(br,null))),n.createElement(i.Route,{path:e+"/create"},n.createElement(t,{feature:A},n.createElement(Zr,null))),n.createElement(i.Route,{path:e+"/edit/:taxId"},n.createElement(t,{feature:z},n.createElement(wr,null))),n.createElement(i.Route,null,n.createElement(t,{feature:W},n.createElement(gr,null))))},Sr=function(){return n.createElement("div",null,n.createElement(bn,null))},Nr=function(){var e=(0,i.useParams)().stateId,t=(0,x.useTranslation)().t;return n.createElement(n.Fragment,null,n.createElement(wa,{stateId:e},(function(e){var a=e.state;return e.loading,n.createElement(Ee.SeamlessContainer,{title:t("statesFormTitle"),description:t("statesFormDescription")},n.createElement(Sa,{"data-testid":"view-state",data:a}))})))};function kr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Tr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Cr={id:0,code:"",name:"",description:"",availableFrom:(new Date).toISOString(),availableUntil:(new Date).toISOString()};const Or=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=t[0],r=t[1],l=n.useState(Cr),o=(0,u.Z)(l,2),c=o[0],s=o[1],d=S(),m=d.showErrorMessage,p=d.showSuccessMessage,v=(d.showInfoMessage,d.showWarningMessage,(0,i.useHistory)()),E=n.useCallback((function(e){var t;r(!0),(t={state:Tr({},e)},f("".concat(g,"/workflow/state"),{method:"POST",body:t})).then((function(e){p(e),v.push("/home/product/workflow")})).catch((function(e){return m(e)})).finally((function(){r(!1),s(e)}))}),[]);return n.createElement(n.Fragment,null,n.createElement(Da,{"data-testid":"create-state",data:(0,Yn.getNecessaryObject)(c,[]),onReset:function(){return v.push("/home/product/workflow/state/create")},onFormSubmit:function(e){return E(e)}}),a?n.createElement(Ke.Z,null):null)};function Pr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Vr=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=(t[0],t[1]),r=n.useState(),l=(0,u.Z)(r,2),o=l[0],c=l[1],s=S(),d=s.showErrorMessage,m=s.showSuccessMessage,p=(0,i.useParams)().stateId,v=(0,i.useHistory)(),E=n.useCallback((function(e){a(!0),e.id=Number(p),function(e,t){return f("".concat(g,"/workflow/state/").concat(t),{method:"PUT",body:e})}({state:Dr({},e)},p).then((function(e){m(e),v.push("/home/product/workflow")})).catch((function(e){return d(e)})).finally((function(){a(!1),c(e)}))}),[]),h=function(){return v.push("/home/product/workflow/state/edit/".concat(p))};return n.createElement(n.Fragment,null,n.createElement(wa,{stateId:p},(function(e){var t=e.state,a=e.loading;return n.createElement(n.Fragment,null,n.createElement(Da,{"data-testid":"update-state",edit:!0,data:o||t[0],onReset:h,onFormSubmit:function(e){return E(e)}}),a?n.createElement(Ke.Z,null):null)})))},Ir=function(){var e=(0,i.useParams)().operationId,t=(0,x.useTranslation)().t;return n.createElement(n.Fragment,null,n.createElement(Ma,{operationId:e},(function(e){var a=e.operation;return e.loading,n.createElement(Ee.SeamlessContainer,{title:t("operationsFormTitle"),description:t("operationsFormDescription")},n.createElement(Ra,{"data-testid":"view-operation",data:a}))})))},jr=function(){var e=(0,i.useParams)().transitionId,t=(0,x.useTranslation)().t;return n.createElement(n.Fragment,null,n.createElement(mn,{transitionId:e},(function(e){var a=e.transition;return e.loading,n.createElement(Ee.SeamlessContainer,{title:t("stateTransitionFormTitle"),description:t("stateTransitionFormDescription")},n.createElement(dn,{"data-testid":"view-state-transition",data:a}))})))},Mr=function(){var e=(0,i.useParams)().workflowId,t=(0,x.useTranslation)().t;return n.createElement(n.Fragment,null,n.createElement(Ja,{workflowId:e},(function(e){var a=e.workflow;return e.loading,n.createElement(Ee.SeamlessContainer,{title:t("workflowFormTitle"),description:t("workflowFormDescription")},n.createElement(ln,{"data-testid":"view-workflow",data:a}))})))};function Fr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Br={id:0,from:"",to:"",operation:"",availableFrom:(new Date).toISOString(),availableUntil:(new Date).toISOString(),businessRules:"",businessActions:""};const Ur=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=t[0],r=t[1],l=n.useState(Br),o=(0,u.Z)(l,2),c=o[0],s=o[1],d=(0,w.useSnackbar)().enqueueSnackbar,m=(0,i.useHistory)(),p=n.useCallback((function(e){var t;r(!0),(t={transition:Rr({},e)},f("".concat(g,"/workflow/transition"),{method:"POST",body:t})).then((function(e){d(e.resultDescription,{variant:"success"}),m.push("/home/product/workflow")})).catch((function(e){return d(e.resultMessage||e.resultDescription,{variant:"error"})})).finally((function(){r(!1),s(e)}))}),[]);return n.createElement(n.Fragment,null,n.createElement(vn,{"data-testid":"create-state-transition",data:(0,Yn.getNecessaryObject)(c,[]),onReset:function(){return m.push("/home/product/workflow/transition/create")},onFormSubmit:function(e){return p(e)}}),a?n.createElement(Ke.Z,null):null)};function Hr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Hr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const qr=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=(t[0],t[1]),r=n.useState(),l=(0,u.Z)(r,2),o=l[0],c=l[1],s=(0,w.useSnackbar)().enqueueSnackbar,d=(0,i.useParams)().transitionId,m=(0,i.useHistory)(),p=n.useCallback((function(e){a(!0),e.id=Number(d),function(e,t){return f("".concat(g,"/workflow/transition/").concat(t),{method:"PUT",body:e})}({transition:Wr({},e)},d).then((function(e){s(e.resultDescription,{variant:"success"}),m.push("/home/product/workflow")})).catch((function(e){return s(e.resultMessage||e.resultDescription,{variant:"error"})})).finally((function(){a(!1),c(e)}))}),[]),v=function(){return m.push("/home/product/workflow/transition/edit/".concat(d))};return n.createElement(n.Fragment,null,n.createElement(mn,{transitionId:d},(function(e){var t,a,r,l=e.transition,i=e.loading,c={id:l.id,from:null===(t=l.from)||void 0===t?void 0:t.id,to:null===(a=l.to)||void 0===a?void 0:a.id,operation:null===(r=l.operation)||void 0===r?void 0:r.id,availableFrom:l.availableFrom,availableUntil:l.availableUntil,businessRules:l.businessRules,businessActions:l.businessActions};return n.createElement(n.Fragment,null,n.createElement(vn,{"data-testid":"update-state-transition",edit:!0,data:o||c,onReset:v,onFormSubmit:function(e){return p(e)}}),i?n.createElement(Ke.Z,null):null)})))};function Ar(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ar(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Lr={id:0,name:"",description:"",transitions:[]};const Kr=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=t[0],r=t[1],l=n.useState(Lr),o=(0,u.Z)(l,2),c=o[0],s=o[1],d=(0,w.useSnackbar)().enqueueSnackbar,m=(0,i.useHistory)(),p=n.useCallback((function(e){var t;r(!0),(t={workflow:zr({},e)},f("".concat(g,"/workflow"),{method:"POST",body:t})).then((function(e){d(e.resultDescription,{variant:"success"}),m.push("/home/product/workflow")})).catch((function(e){return d(e.resultMessage||e.resultDescription,{variant:"error"})})).finally((function(){r(!1),s(e)}))}),[]);return n.createElement(n.Fragment,null,n.createElement(Ya,{"data-testid":"create-workflow",data:(0,Yn.getNecessaryObject)(c,[]),onReset:function(){return m.push("/home/product/workflow/workflows/create")},onFormSubmit:function(e){return p(e)}}),a?n.createElement(Ke.Z,null):null)};function Qr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(a),!0).forEach((function(t){(0,Re.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Xr=function(){var e=n.useState(!1),t=(0,u.Z)(e,2),a=(t[0],t[1]),r=(0,i.useParams)().workflowId,l=((0,x.useTranslation)().t,(0,i.useHistory)()),o=n.useState(),c=(0,u.Z)(o,2),s=(c[0],c[1]),d=(0,w.useSnackbar)().enqueueSnackbar,m=n.useCallback((function(e){a(!0),function(e,t){return f("".concat(g,"/workflow/").concat(t),{method:"PUT",body:e})}({workflow:Gr({},e)},r).then((function(e){d(e.resultDescription,{variant:"success"}),l.push("/home/product/workflow")})).catch((function(e){return d(e.resultMessage||e.resultDescription,{variant:"error"})})).finally((function(){a(!1),s(e)}))}),[]),p=function(){return l.push("/home/product/workflow/workflows/edit/".concat(r))};return n.createElement(n.Fragment,null,n.createElement(Ja,{workflowId:r},(function(e){var t=e.workflow,a=e.loading;return n.createElement(n.Fragment,null,n.createElement(Ya,{"data-testid":"update-workflow",data:t,onReset:p,edit:!0,onFormSubmit:function(e){return m(e)}}),a?n.createElement(Ke.Z,null):null)})))},$r=function(){var e=(0,i.useRouteMatch)().path;return n.createElement(i.Switch,null,n.createElement(i.Route,{path:e+"/state/create"},n.createElement(Or,null)),n.createElement(i.Route,{path:e+"/state/edit/:stateId"},n.createElement(Vr,null)),n.createElement(i.Route,{path:e+"/transition/create"},n.createElement(Ur,null)),n.createElement(i.Route,{path:e+"/workflows/create"},n.createElement(Kr,null)),n.createElement(i.Route,{path:e+"/transition/edit/:transitionId"},n.createElement(qr,null)),n.createElement(i.Route,{path:e+"/workflows/edit/:workflowId"},n.createElement(Xr,null)),n.createElement(i.Route,{path:e+"/view/operation/:operationId"},n.createElement(Ir,null)),n.createElement(i.Route,{path:e+"/view/transition/:transitionId"},n.createElement(jr,null)),n.createElement(i.Route,{path:e+"/view/workflows/:workflowId"},n.createElement(Mr,null)),n.createElement(i.Route,{path:e+"/view/:stateId"},n.createElement(Nr,null)),n.createElement(i.Route,null,n.createElement(Sr,null)))},Yr=function(){var e=(0,x.useTranslation)().t;return n.createElement(Ee.SeamlessContainer,{title:e("productRules"),description:e("productRulesPageDescription")},n.createElement(we.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},n.createElement(Ee.SeamlessButton,{component:i.Link,to:"/home/product/rules/create",variant:"contained",color:"primary",disabled:!1,endIcon:n.createElement(Pe.Z,null)},e("createNewRule"))),n.createElement(Vn,null))};var Jr={fieldsMap:{district:" ",channel:" "},ruleName:"",variantIdAndSKUMap:{},validFrom:"",validUntil:""};const el=function(){var e=(0,x.useTranslation)().t,t=n.useState(!1),a=(0,u.Z)(t,2),r=(a[0],a[1]),l=n.useState([]),o=(0,u.Z)(l,2),c=o[0],s=o[1],d=S(),m=d.showErrorMessage,p=d.showSuccessMessage,g=(0,i.useHistory)();n.useEffect((function(){r(!0),y().then((function(e){var t=null==e?void 0:e.map((function(e){return{key:e.productName,value:e.productKey,sku:e.globalSku}}));s(t)})).catch((function(e){m(e.message)})).finally((function(){return r(!1)}))}),[]);var v=n.useCallback((function(t){var a;r(!0),(a=t,f("/acms/concerted-validation-rule-info",{method:"POST",body:a})).then((function(t){0===t.resultCode?(p(t.resultDescription||e("createdSuccesfully")),g.push("/home/product/rules")):m(t.resultDescription||e("requestUnsuccesful"))})).catch((function(e){return m(e)})).finally((function(){return r(!1)}))}),[]);return n.createElement(Ee.SeamlessContainer,{title:e("createProductRulesPageTitle"),description:e("createProductRulesPageDescription")},n.createElement(Kn,{data:Jr,view:!1,edit:!1,onFormSubmit:function(e){return v(e)},productVariants:c}))},tl=function(){var e=(0,x.useTranslation)().t,t=n.useState(!1),a=(0,u.Z)(t,2),r=(a[0],a[1]),l=S(),o=l.showErrorMessage,c=(l.showSuccessMessage,l.showWarningMessage,(0,i.useHistory)(),n.useState({})),s=(0,u.Z)(c,2),d=s[0],m=s[1],f=n.useState([]),p=(0,u.Z)(f,2),g=p[0],v=p[1],E=n.useState([]),h=(0,u.Z)(E,2),Z=h[0],b=h[1],w=n.useState([]),N=(0,u.Z)(w,2),k=N[0],T=N[1],C=(0,i.useParams)().id,O=n.useState([]),P=(0,u.Z)(O,2),D=P[0],V=P[1];return n.useEffect((function(){r(!0),y().then((function(e){var t=null==e?void 0:e.map((function(e){return{key:e.productName,value:e.productKey,sku:e.globalSKu}})),a={};e.forEach((function(e){a["".concat(e.productKey)]=e.productName})),V(t),_(C).then((function(e){var t,n,r=Object.keys(e.variantIdAndSKUMap).map((function(t){return{value:parseInt(t),sku:e.variantIdAndSKUMap[t],key:a[t]}})),l=e.fieldsMap.channel?e.fieldsMap.channel.split("|").map((function(e){return{key:e,value:e}})):[],i=null!==(t=e.fieldsMap)&&void 0!==t&&t.district?null===(n=e.fieldsMap)||void 0===n?void 0:n.district.split("|").map((function(e){return{key:e,value:e}})):[];m(e),v(r),b(l),T(i)}))})).catch((function(e){o(e.message)})).finally((function(){return r(!1)}))}),[]),n.createElement(Ee.SeamlessContainer,{title:e("ViewProductRules"),description:e("ViewProductRulesPageDescription")},d&&n.createElement(Bn,{data:d,view:!0,edit:!1,sku:g,channelSelected:Z,districtSelected:k,productVariants:D}))};var al={ruleName:"",variantIdAndSKUMap:{},validFrom:"",validUntil:""};const nl=function(){var e=(0,i.useParams)().id,t=(0,x.useTranslation)().t,a=n.useState(!1),r=(0,u.Z)(a,2),l=(r[0],r[1]),o=S(),c=o.showErrorMessage,s=o.showSuccessMessage,d=n.useState([]),m=(0,u.Z)(d,2),p=m[0],g=m[1],v=n.useState([]),E=(0,u.Z)(v,2),h=E[0],Z=E[1],b=n.useState([]),w=(0,u.Z)(b,2),N=w[0],k=w[1],T=n.useState([]),C=(0,u.Z)(T,2),O=C[0],P=C[1],D=(0,i.useHistory)(),V=n.useState(al),I=(0,u.Z)(V,2),j=I[0],M=I[1];n.useEffect((function(){l(!0),y().then((function(t){var a=null==t?void 0:t.map((function(e){return{key:e.productName,value:e.productKey,sku:e.globalSku}})),n={};t.forEach((function(e){n["".concat(e.productKey)]=e.productName})),P(a),_(e).then((function(e){var t,a,r=Object.keys(e.variantIdAndSKUMap).map((function(t){return{value:parseInt(t),sku:e.variantIdAndSKUMap[t],key:n[t]}})),l=e.fieldsMap.channel?e.fieldsMap.channel.split("|").map((function(e){return{key:e,value:e}})):[],i=null!==(t=e.fieldsMap)&&void 0!==t&&t.district?null===(a=e.fieldsMap)||void 0===a?void 0:a.district.split("|").map((function(e){return{key:e,value:e}})):[];M(e),g(r),Z(l),k(i)}))})).catch((function(e){c(e.message)})).finally((function(){return l(!1)}))}),[]);var F=n.useCallback((function(a){var n,r,i,o,u={ruleId:e,ruleName:a.ruleName,variantIdAndSKUMap:a.variantIdAndSKUMap,validFrom:null===(n=a.validFrom)||void 0===n?void 0:n.slice(0,19),validUntil:null===(r=a.validUntil)||void 0===r?void 0:r.slice(0,19),fieldsMap:a.fieldsMap,createdBy:a.createdBy};l(!0),(i=u,o=e,f("/acms/update-product-rule-association/".concat(o),{method:"PUT",body:i})).then((function(e){0===e.resultCode?(s(e.resultDescription||t("ProductRuleupdatedsuccessfully")),D.push("/home/product/rules")):c(e.resultDescription)})).catch((function(e){return c(e)})).finally((function(){return l(!1)}))}),[]);return n.createElement(Ee.SeamlessContainer,{title:t("editProductRulesPageTitle"),description:t("editProductRulesPageDescription")},n.createElement(Bn,{data:j,view:!1,sku:p,channelSelected:h,districtSelected:N,productVariants:O,edit:!0,onFormSubmit:function(e){return F(e)}}))},rl=function(){var e=(0,i.useRouteMatch)().path,t=ue()().AccessControlled;return n.createElement(i.Switch,null,n.createElement(i.Route,{path:e+"/create"},n.createElement(t,{feature:K},n.createElement(el,null))),n.createElement(i.Route,{path:e+"/view/:id"},n.createElement(t,{feature:G},n.createElement(tl,null))),n.createElement(i.Route,{path:e+"/edit/:id"},n.createElement(t,{feature:Q},n.createElement(nl,null))),n.createElement(i.Route,{path:"".concat(e)},n.createElement(t,{feature:X},n.createElement(Yr,null))),n.createElement(i.Redirect,{to:e}))};var ll=a(27556),il=a(87561);var ol=(0,ge.Z)((function(e){return(0,ve.Z)({root:{padding:e.spacing(1)}})}));const cl=function(){var e=ol(),t=(0,i.useRouteMatch)().path,a=ue()().AccessControllProvider,l=function(e){var t=r().useState(null),a=(0,u.Z)(t,2),n=a[0],l=a[1],i=(0,jn.useSelector)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.rbac}),jn.shallowEqual);return r().useEffect((function(){var t,a=(null===(t=i.features.find((function(t){return t.module===e})))||void 0===t?void 0:t.features)||[];l(a)}),[i]),n}("PRODUCT");return l?n.createElement(a,{featureList:l},n.createElement(ll.Z,{elevation:0,className:e.root},n.createElement(il.ZP,null),n.createElement(i.Switch,null,n.createElement(i.Route,{path:t+"/products"},n.createElement(er,null)),n.createElement(i.Route,{path:t+"/:productId/variants"},n.createElement(rr,null)),n.createElement(i.Route,{path:t+"/categories"},n.createElement(pr,null)),n.createElement(i.Route,{path:t+"/taxes"},n.createElement(xr,null)),n.createElement(i.Route,{path:t+"/workflow"},n.createElement($r,null)),n.createElement(i.Route,{path:t+"/rules"},n.createElement(rl,null)),n.createElement(i.Route,{path:t},n.createElement(i.Redirect,{to:t+"/products"}))))):n.createElement(Ke.Z,null)};l.render(n.createElement(i.BrowserRouter,null,n.createElement(cl,null)),document.getElementById("root"))},71022:(e,t,a)=>{var n=new Error;e.exports=new Promise(((e,t)=>{if("undefined"!=typeof portal)return e();a.l("/remoteEntry.js",(a=>{if("undefined"!=typeof portal)return e();var r=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;n.message="Loading script failed.\n("+r+": "+l+")",n.name="ScriptExternalLoadError",n.type=r,n.request=l,t(n)}),"portal")})).then((()=>portal))}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={id:e,loaded:!1,exports:{}};return l[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=l,o.c=i,e=[],o.O=(t,a,n,r)=>{if(!a){var l=1/0;for(s=0;s<e.length;s++){for(var[a,n,r]=e[s],i=!0,c=0;c<a.length;c++)(!1&r||l>=r)&&Object.keys(o.O).every((e=>o.O[e](a[c])))?a.splice(c--,1):(i=!1,r<l&&(l=r));i&&(e.splice(s--,1),t=n())}return t}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[a,n,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[])),o.u=e=>"static/js/"+e+"."+{"node_modules_react_index_js-_11190":"8b33d8b1","node_modules_react_index_js-_11191":"8c08fccc","vendors-node_modules_history_esm_history_js":"44fbd574","webpack_sharing_consume_default_react_react-_319b":"7a1979b6","webpack_sharing_consume_default_react-router_react-router":"dcbfbf21","node_modules_react-router-dom_esm_react-router-dom_js-_b2b41":"8e36610f","vendors-node_modules_prop-types_index_js-node_modules_react-dom_index_js":"c57c0cae","vendors-node_modules_material-ui_core_esm_SvgIcon_SvgIcon_js-node_modules_material-ui_core_es-444467":"07987cef","vendors-node_modules_notistack_dist_notistack_esm_js":"2cb10829","webpack_sharing_consume_default_react_react-_6d22":"92e840f5","webpack_sharing_consume_default_react_react-_cea0":"4900c336","webpack_sharing_consume_default_material-ui_styles_material-ui_styles-webpack_sharing_consume-4461b9":"939bc135","vendors-node_modules_react-i18next_dist_es_index_js":"d95dfca4","webpack_sharing_consume_default_react_react-_ad9f":"989f849e","vendors-node_modules_material-ui_styles_esm_index_js":"fec6ca6b","vendors-node_modules_material-ui_core_esm_Avatar_Avatar_js-node_modules_material-ui_core_esm_-94636f":"4c702254","vendors-node_modules_material-ui_core_esm_Accordion_Accordion_js-node_modules_material-ui_cor-bd9555":"1780769d","vendors-node_modules_material-ui_core_esm_index_js":"875b7d34","node_modules_material-ui_core_esm_CssBaseline_CssBaseline_js-node_modules_hoist-non-react-sta-75372a0":"013699e5","vendors-node_modules_material-ui_core_esm_Badge_Badge_js-node_modules_material-ui_core_esm_Bu-2d9337":"1a146138","node_modules_material-ui_core_esm_CssBaseline_CssBaseline_js-node_modules_hoist-non-react-sta-75372a1":"3ae668a6","node_modules_material-ui_core_esm_CssBaseline_CssBaseline_js-node_modules_hoist-non-react-sta-75372a2":"a8a84d16","vendors-node_modules_react-redux_es_index_js":"acb5b80b","webpack_sharing_consume_default_react_react-webpack_sharing_consume_default_redux_redux":"ea13357a","vendors-node_modules_material-ui_core_esm_IconButton_IconButton_js-node_modules_material-ui_c-e162c2":"966b378a","node_modules_material-ui_core_esm_CssBaseline_CssBaseline_js-node_modules_hoist-non-react-sta-75372a3":"b5b22bd3","node_modules_material-ui_utils_esm_deepmerge_js-node_modules_clsx_dist_clsx_m_js-node_modules-596324":"d529b1e5","node_modules_hoist-non-react-statics_dist_hoist-non-react-statics_cjs_js":"23e2a142","node_modules_react-router-dom_esm_react-router-dom_js-_b2b40":"017e8f29","vendors-node_modules_react-router_esm_react-router_js":"4425f35e","webpack_sharing_consume_default_react_react-_6de0":"8a4fcccc","node_modules_prop-types_index_js":"ce96c72e","vendors-node_modules_redux_es_redux_js":"e72f08da"}[e]+".chunk.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},a="@unified/product:",o.l=(e,n,r,l)=>{if(t[e])t[e].push(n);else{var i,c;if(void 0!==r)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+r){i=d;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",a+r),i.src=e),t[e]=[n];var m=(a,n)=>{i.onerror=i.onload=null,clearTimeout(f);var r=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(n))),a)return a(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),c&&document.head.appendChild(i)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n={},r={},o.f.remotes=(e,t)=>{o.o(n,e)&&n[e].forEach((e=>{var a=o.R;a||(a=[]);var n=r[e];if(!(a.indexOf(n)>=0)){if(a.push(n),n.p)return t.push(n.p);var i=t=>{t||(t=new Error("Container missing")),"string"==typeof t.message&&(t.message+='\nwhile loading "'+n[1]+'" from '+n[2]),l[e]=()=>{throw t},n.p=0},c=(e,a,r,l,o,c)=>{try{var s=e(a,r);if(!s||!s.then)return o(s,l,c);var u=s.then((e=>o(e,l)),i);if(!c)return u;t.push(n.p=u)}catch(e){i(e)}},s=(e,t,r)=>c(t.get,n[1],a,0,u,r),u=t=>{n.p=1,l[e]=e=>{e.exports=t()}};c(o,n[2],0,0,((e,t,a)=>e?c(o.I,n[0],0,e,s,a):i()),1)}}))},(()=>{o.S={};var e={},t={};o.I=(a,n)=>{n||(n=[]);var r=t[a];if(r||(r=t[a]={}),!(n.indexOf(r)>=0)){if(n.push(r),e[a])return e[a];o.o(o.S,a)||(o.S[a]={});var l=o.S[a],i="@unified/product",c=(e,t,a,n)=>{var r=l[e]=l[e]||{},o=r[t];(!o||!o.loaded&&(!n!=!o.eager?n:i>o.from))&&(r[t]={get:a,from:i,eager:!!n})},s=[];switch(a){case"default":c("@material-ui/core","4.11.3",(()=>Promise.all([o.e("vendors-node_modules_prop-types_index_js-node_modules_react-dom_index_js"),o.e("vendors-node_modules_material-ui_core_esm_SvgIcon_SvgIcon_js-node_modules_material-ui_core_es-444467"),o.e("vendors-node_modules_material-ui_core_esm_IconButton_IconButton_js-node_modules_material-ui_c-e162c2"),o.e("vendors-node_modules_material-ui_core_esm_Avatar_Avatar_js-node_modules_material-ui_core_esm_-94636f"),o.e("vendors-node_modules_material-ui_core_esm_Badge_Badge_js-node_modules_material-ui_core_esm_Bu-2d9337"),o.e("vendors-node_modules_material-ui_core_esm_Accordion_Accordion_js-node_modules_material-ui_cor-bd9555"),o.e("vendors-node_modules_material-ui_core_esm_index_js"),o.e("webpack_sharing_consume_default_react_react-_6d22"),o.e("webpack_sharing_consume_default_react_react-_cea0"),o.e("webpack_sharing_consume_default_material-ui_styles_material-ui_styles-webpack_sharing_consume-4461b9"),o.e("node_modules_material-ui_core_esm_CssBaseline_CssBaseline_js-node_modules_hoist-non-react-sta-75372a3")]).then((()=>()=>o(40970))))),c("@material-ui/styles","4.11.3",(()=>Promise.all([o.e("vendors-node_modules_material-ui_styles_esm_index_js"),o.e("webpack_sharing_consume_default_react_react-_6d22"),o.e("node_modules_material-ui_utils_esm_deepmerge_js-node_modules_clsx_dist_clsx_m_js-node_modules-596324")]).then((()=>()=>o(94280))))),c("notistack","1.0.5",(()=>Promise.all([o.e("vendors-node_modules_prop-types_index_js-node_modules_react-dom_index_js"),o.e("vendors-node_modules_material-ui_core_esm_SvgIcon_SvgIcon_js-node_modules_material-ui_core_es-444467"),o.e("vendors-node_modules_notistack_dist_notistack_esm_js"),o.e("webpack_sharing_consume_default_react_react-_6d22"),o.e("webpack_sharing_consume_default_react_react-_cea0"),o.e("webpack_sharing_consume_default_material-ui_styles_material-ui_styles-webpack_sharing_consume-4461b9")]).then((()=>()=>o(87442))))),c("react-i18next","11.8.9",(()=>Promise.all([o.e("vendors-node_modules_react-i18next_dist_es_index_js"),o.e("webpack_sharing_consume_default_react_react-_ad9f")]).then((()=>()=>o(74211))))),c("react-redux","7.2.2",(()=>Promise.all([o.e("vendors-node_modules_prop-types_index_js-node_modules_react-dom_index_js"),o.e("vendors-node_modules_react-redux_es_index_js"),o.e("webpack_sharing_consume_default_react_react-_cea0"),o.e("webpack_sharing_consume_default_react_react-webpack_sharing_consume_default_redux_redux"),o.e("node_modules_hoist-non-react-statics_dist_hoist-non-react-statics_cjs_js")]).then((()=>()=>o(21725))))),c("react-router-dom","5.2.0",(()=>Promise.all([o.e("vendors-node_modules_history_esm_history_js"),o.e("webpack_sharing_consume_default_react_react-_319b"),o.e("webpack_sharing_consume_default_react-router_react-router"),o.e("node_modules_react-router-dom_esm_react-router-dom_js-_b2b40")]).then((()=>()=>o(95074))))),c("react-router","5.2.0",(()=>Promise.all([o.e("vendors-node_modules_history_esm_history_js"),o.e("vendors-node_modules_react-router_esm_react-router_js"),o.e("webpack_sharing_consume_default_react_react-_319b"),o.e("webpack_sharing_consume_default_react_react-_6de0"),o.e("node_modules_prop-types_index_js")]).then((()=>()=>o(14170))))),c("react","17.0.1",(()=>o.e("node_modules_react_index_js-_11190").then((()=>()=>o(2784))))),c("redux","4.0.5",(()=>o.e("vendors-node_modules_redux_es_redux_js").then((()=>()=>o(18717))))),(e=>{var t=e=>{return t="Initialization of sharing external failed: "+e,"undefined"!=typeof console&&console.warn&&console.warn(t);var t};try{var r=o(71022);if(!r)return;var l=e=>e&&e.init&&e.init(o.S[a],n);if(r.then)return s.push(r.then(l,t));var i=l(r);i&&i.then&&s.push(i.catch(t))}catch(e){t(e)}})()}return s.length?e[a]=Promise.all(s).then((()=>e[a]=1)):e[a]=1}}})(),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../../"})(),(()=>{var e=e=>{var t=e=>e.split(".").map((e=>+e==e?+e:e)),a=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),n=a[1]?t(a[1]):[];return a[2]&&(n.length++,n.push.apply(n,t(a[2]))),a[3]&&(n.push([]),n.push.apply(n,t(a[3]))),n},t=(t,a)=>{t=e(t),a=e(a);for(var n=0;;){if(n>=t.length)return n<a.length&&"u"!=(typeof a[n])[0];var r=t[n],l=(typeof r)[0];if(n>=a.length)return"u"==l;var i=a[n],o=(typeof i)[0];if(l!=o)return"o"==l&&"n"==o||"s"==o||"u"==l;if("o"!=l&&"u"!=l&&r!=i)return r<i;n++}},a=e=>{var t=e[0],n="";if(1===e.length)return"*";if(t+.5){n+=0==t?">=":-1==t?"<":1==t?"^":2==t?"~":t>0?"=":"!=";for(var r=1,l=1;l<e.length;l++)r--,n+="u"==(typeof(o=e[l]))[0]?"-":(r>0?".":"")+(r=2,o);return n}var i=[];for(l=1;l<e.length;l++){var o=e[l];i.push(0===o?"not("+c()+")":1===o?"("+c()+" || "+c()+")":2===o?i.pop()+" "+i.pop():a(o))}return c();function c(){return i.pop().replace(/^\((.+)\)$/,"$1")}},n=(t,a)=>{if(0 in t){a=e(a);var r=t[0],l=r<0;l&&(r=-r-1);for(var i=0,o=1,c=!0;;o++,i++){var s,u,d=o<t.length?(typeof t[o])[0]:"";if(i>=a.length||"o"==(u=(typeof(s=a[i]))[0]))return!c||("u"==d?o>r&&!l:""==d!=l);if("u"==u){if(!c||"u"!=d)return!1}else if(c)if(d==u)if(o<=r){if(s!=t[o])return!1}else{if(l?s>t[o]:s<t[o])return!1;s!=t[o]&&(c=!1)}else if("s"!=d&&"n"!=d){if(l||o<=r)return!1;c=!1,o--}else{if(o<=r||u<d!=l)return!1;c=!1}else"s"!=d&&"n"!=d&&(c=!1,o--)}}var m=[],f=m.pop.bind(m);for(i=1;i<t.length;i++){var p=t[i];m.push(1==p?f()|f():2==p?f()&f():p?n(p,a):!f())}return!!f()},r=(e,r,i,o)=>{var c=((e,a)=>{var n=e[a];return Object.keys(n).reduce(((e,a)=>!e||!n[e].loaded&&t(e,a)?a:e),0)})(e,i);return n(o,c)||"undefined"!=typeof console&&console.warn&&console.warn(((e,t,n)=>"Unsatisfied version "+t+" of shared singleton module "+e+" (required "+a(n)+")")(i,c,o)),l(e[i][c])},l=e=>(e.loaded=1,e.get()),i=e=>function(t,a,n,r){var l=o.I(t);return l&&l.then?l.then(e.bind(e,t,o.S[t],a,n,r)):e(t,o.S[t],a,n,r)},c=i(((e,a,n,r)=>a&&o.o(a,n)?l(((e,a)=>{var n=e[a];return(a=Object.keys(n).reduce(((e,a)=>!e||t(e,a)?a:e),0))&&n[a]})(a,n)):r())),s=i(((e,t,a,n,l)=>t&&o.o(t,a)?r(t,0,a,n):l())),u={},d={58172:()=>s("default","react",[0,15],(()=>o.e("node_modules_react_index_js-_11190").then((()=>()=>o(2784))))),7909:()=>s("default","react-router",[4,5,2,0],(()=>Promise.all([o.e("vendors-node_modules_react-router_esm_react-router_js"),o.e("webpack_sharing_consume_default_react_react-_6de0")]).then((()=>()=>o(14170))))),59037:()=>s("default","react",[,[1,17,0,0],[1,16,8,0],1],(()=>o.e("node_modules_react_index_js-_11190").then((()=>()=>o(2784))))),76005:()=>s("default","react",[4,17,0,1],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),12196:()=>s("default","react",[0,16,6,0],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),75696:()=>s("default","@material-ui/styles",[1,4,11,3],(()=>o.e("vendors-node_modules_material-ui_styles_esm_index_js").then((()=>()=>o(94280))))),76982:()=>s("default","react",[,[4,16,8,0],[0],2],(()=>o.e("node_modules_react_index_js-_11190").then((()=>()=>o(2784))))),93304:()=>s("default","react",[,[1,17],[1,16,8,3],1],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),82883:()=>s("default","redux",[,[1,4,0,0,,0],[1,3,0,0],[1,2,0,0],1,1],(()=>o.e("vendors-node_modules_redux_es_redux_js").then((()=>()=>o(18717))))),12801:()=>s("default","react",[,[1,17,0,0],[1,16,0,0],[1,15,0,0],[2,0,14,0],1,1,1],(()=>o.e("node_modules_react_index_js-_11190").then((()=>()=>o(2784))))),2411:()=>s("default","react",[1,17,0,1],(()=>o.e("node_modules_react_index_js-_11190").then((()=>()=>o(2784))))),48049:()=>s("default","react-router-dom",[1,5,2,0],(()=>Promise.all([o.e("vendors-node_modules_history_esm_history_js"),o.e("webpack_sharing_consume_default_react_react-_319b"),o.e("webpack_sharing_consume_default_react-router_react-router"),o.e("node_modules_react-router-dom_esm_react-router-dom_js-_b2b41")]).then((()=>()=>o(95074))))),13248:()=>s("default","notistack",[1,1,0,4],(()=>Promise.all([o.e("vendors-node_modules_prop-types_index_js-node_modules_react-dom_index_js"),o.e("vendors-node_modules_material-ui_core_esm_SvgIcon_SvgIcon_js-node_modules_material-ui_core_es-444467"),o.e("vendors-node_modules_notistack_dist_notistack_esm_js"),o.e("webpack_sharing_consume_default_react_react-_6d22"),o.e("webpack_sharing_consume_default_react_react-_cea0"),o.e("webpack_sharing_consume_default_material-ui_styles_material-ui_styles-webpack_sharing_consume-4461b9")]).then((()=>()=>o(87442))))),63135:()=>s("default","react-i18next",[1,11,8,9],(()=>Promise.all([o.e("vendors-node_modules_react-i18next_dist_es_index_js"),o.e("webpack_sharing_consume_default_react_react-_ad9f")]).then((()=>()=>o(74211))))),88901:()=>s("default","react",[1,17,0,0],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),44808:()=>c("default","@material-ui/styles",(()=>o.e("vendors-node_modules_material-ui_styles_esm_index_js").then((()=>()=>o(94280))))),85958:()=>s("default","@material-ui/core",[,[1,5,0,0,,"alpha",22],[1,4,9,12],1],(()=>Promise.all([o.e("vendors-node_modules_material-ui_core_esm_Avatar_Avatar_js-node_modules_material-ui_core_esm_-94636f"),o.e("vendors-node_modules_material-ui_core_esm_Accordion_Accordion_js-node_modules_material-ui_cor-bd9555"),o.e("vendors-node_modules_material-ui_core_esm_index_js"),o.e("node_modules_material-ui_core_esm_CssBaseline_CssBaseline_js-node_modules_hoist-non-react-sta-75372a0")]).then((()=>()=>o(40970))))),94079:()=>s("default","@material-ui/core",[1,4,11,3],(()=>Promise.all([o.e("vendors-node_modules_material-ui_core_esm_Avatar_Avatar_js-node_modules_material-ui_core_esm_-94636f"),o.e("vendors-node_modules_material-ui_core_esm_Badge_Badge_js-node_modules_material-ui_core_esm_Bu-2d9337"),o.e("vendors-node_modules_material-ui_core_esm_Accordion_Accordion_js-node_modules_material-ui_cor-bd9555"),o.e("vendors-node_modules_material-ui_core_esm_index_js"),o.e("node_modules_material-ui_core_esm_CssBaseline_CssBaseline_js-node_modules_hoist-non-react-sta-75372a1")]).then((()=>()=>o(40970))))),69151:()=>c("default","react",(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),48565:()=>s("default","react",[1,16,8,0],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),54959:()=>s("default","@material-ui/core",[1,4,9,10],(()=>Promise.all([o.e("vendors-node_modules_material-ui_core_esm_Badge_Badge_js-node_modules_material-ui_core_esm_Bu-2d9337"),o.e("vendors-node_modules_material-ui_core_esm_Accordion_Accordion_js-node_modules_material-ui_cor-bd9555"),o.e("vendors-node_modules_material-ui_core_esm_index_js"),o.e("node_modules_material-ui_core_esm_CssBaseline_CssBaseline_js-node_modules_hoist-non-react-sta-75372a2")]).then((()=>()=>o(40970))))),45419:()=>s("default","react",[,[1,17],[1,16,8,0],1],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),75540:()=>s("default","react",[1,16,8,4],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),81934:()=>s("default","react",[0,16,8],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),840:()=>s("default","react",[0,16,8,0],(()=>o.e("node_modules_react_index_js-_11191").then((()=>()=>o(2784))))),38670:()=>s("default","react-redux",[1,7,2,2],(()=>Promise.all([o.e("vendors-node_modules_react-redux_es_index_js"),o.e("webpack_sharing_consume_default_react_react-webpack_sharing_consume_default_redux_redux")]).then((()=>()=>o(21725))))),46678:()=>s("default","@material-ui/core",[1,4,0,0],(()=>o.e("vendors-node_modules_material-ui_core_esm_index_js").then((()=>()=>o(40970)))))};[2411,76005,48049,13248,63135,88901,59037,44808,85958,75696,12196,94079,69151,48565,54959,76982,45419,75540,81934,840,38670,46678].forEach((e=>{o.m[e]=t=>{u[e]=0,delete o.c[e];var a=d[e]();if("function"!=typeof a)throw new Error("Shared module is not available for eager consumption: "+e);t.exports=a()}}));var m={"webpack_sharing_consume_default_react_react-_319b":[58172],"webpack_sharing_consume_default_react-router_react-router":[7909],"webpack_sharing_consume_default_react_react-_6d22":[59037],"webpack_sharing_consume_default_react_react-_cea0":[76005],"webpack_sharing_consume_default_material-ui_styles_material-ui_styles-webpack_sharing_consume-4461b9":[12196,75696],"webpack_sharing_consume_default_react_react-_ad9f":[76982],"webpack_sharing_consume_default_react_react-webpack_sharing_consume_default_redux_redux":[93304,82883],"webpack_sharing_consume_default_react_react-_6de0":[12801]};o.f.consumes=(e,t)=>{o.o(m,e)&&m[e].forEach((e=>{if(o.o(u,e))return t.push(u[e]);var a=t=>{u[e]=0,o.m[e]=a=>{delete o.c[e],a.exports=t()}},n=t=>{delete u[e],o.m[e]=a=>{throw delete o.c[e],t}};try{var r=d[e]();r.then?t.push(u[e]=r.then(a).catch(n)):a(r)}catch(e){n(e)}}))}})(),(()=>{var e={main:0,"webpack_sharing_consume_default_material-ui_styles_material-ui_styles-webpack_sharing_consume-4461b9":0,"webpack_sharing_consume_default_react_react-_ad9f":0,"webpack_sharing_consume_default_react-i18next_react-i18next-webpack_sharing_consume_default_r-baa6fd":0,"webpack_sharing_consume_default_react_react-_6d22":0,"webpack_sharing_consume_default_react_react-_cea0":0,"webpack_sharing_consume_default_notistack_notistack-webpack_container_remote_portal_ajax":0,"webpack_sharing_consume_default_material-ui_core_material-ui_core":0,"webpack_sharing_consume_default_material-ui_core_material-ui_core-webpack_sharing_consume_def-9f1d0f":0,"webpack_sharing_consume_default_material-ui_core_material-ui_core-webpack_sharing_consume_def-b63417":0,"webpack_sharing_consume_default_react_react-_d52d":0,"commons-webpack_sharing_provide_default_material-ui_core-webpack_sharing_provide_default_mate-1fe433":0};o.f.j=(t,a)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else if(/^(webpack_sharing_consume_default_(react(_react\-(_(6d(22|e0)|319b|ad9f|cea0)|webpack_sharing_consume_default_redux_redux)|\-router_react\-router)|material\-ui_styles_material\-ui_styles\-webpack_sharing_consume\-4461b9)|commons\-webpack_sharing_provide_default_material\-ui_core\-webpack_sharing_provide_default_mate\-1fe433)$/.test(t))e[t]=0;else{var r=new Promise(((a,r)=>n=e[t]=[a,r]));a.push(n[2]=r);var l=o.p+o.u(t),i=new Error;o.l(l,(a=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+l+")",i.name="ChunkLoadError",i.type=r,i.request=l,n[1](i)}}),"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[l,i,c]=a,s=0;for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(c)var u=c(o);for(t&&t(a);s<l.length;s++)r=l[s],o.o(e,r)&&e[r]&&e[r][0](),e[l[s]]=0;return o.O(u)},a=self.webpackChunk_unified_product=self.webpackChunk_unified_product||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var c=o.O(void 0,["vendor","commons-webpack_sharing_provide_default_material-ui_core-webpack_sharing_provide_default_mate-1fe433"],(()=>o(70620)));c=o.O(c)})();