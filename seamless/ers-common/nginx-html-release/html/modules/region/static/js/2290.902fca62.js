(self.webpackChunk_unified_region=self.webpackChunk_unified_region||[]).push([[2290],{4579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(4315),a=n(2411),o=n.n(a),i=n(8670);const l=function(e){var t=o().useState(null),n=(0,r.Z)(t,2),a=n[0],l=n[1],c=(0,i.useSelector)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.rbac}),i.shallowEqual);return o().useEffect((function(){var t,n=(null===(t=c.features.find((function(t){return t.module===e})))||void 0===t?void 0:t.features)||[];l(n)}),[c]),a}},9294:(e,t,n)=>{"use strict";n.d(t,{zO:()=>Rt,E_:()=>xt,Ku:()=>Lt,gr:()=>St});var r=n(2411),a=n.n(r),o=n(8049),i=n(4104),l=n.n(i),c="REGION_VIEW",s="REGION_CREATE",u="ALLOWED_TRANSFERS_CREATE",m="ALLOWED_TRANSFERS_UPDATE",d="CELL_ID_CREATE",g="CELL_ID_UPDATE",p="REGION_TYPE_VIEW",f="REGION_TYPE_CREATE",E="REGION_TYPE_UPDATE",v=n(7603),h=n(3553),y=n(9609),b=n(7560),T=n(5238),S=n(1119),w=n(4315),C=n(3248);const Z=function(){var e=(0,C.useSnackbar)().enqueueSnackbar,t=(0,y.useTranslation)().t;function n(e){var n=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(n=e[t])})),n}return{showSuccessMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"warning"})}}};var R=n(1416);const I=n.n(R)();var N,P="/rgms/v1",x=function(){return I("".concat(P,"/region/allRegions/"))},O=function(e){return I("".concat(P,"/region/?level=").concat(e))},k=function(e){return I("".concat(P,"/region/"),{method:"POST",body:e})},D="/rgms/v1",M=function(e){var t=e.id,n=e.regionId;return I("".concat(D,"/cells/addCellId"),{method:"POST",body:{id:t,regionId:n}})},L="/rgms/v1",A="/rgms/v1",j=function(){return I("".concat(A,"/regionType/"))},B=function(e){return I("".concat(A,"/regionType/getRegionTypeById/").concat(e),{method:"POST"})},_=n(1744),V=n.n(_);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var F=(null===(N=window.config)||void 0===N?void 0:N.defaultPerPageItems)||20;const q=function(e){var t=e.children,n=Z().showErrorMessage,a=r.useState([]),o=(0,w.Z)(a,2),i=o[0],l=o[1],c=r.useState(!1),s=(0,w.Z)(c,2),u=s[0],m=s[1],d=(0,_.useServerTable)({page:0,perPage:F,order:"desc",orderBy:"startTime",filter:{}}),g=r.useCallback((function(){m(!0),I("".concat(D,"/cells/")).then((function(e){l(e.content)})).catch((function(e){n(e)})).finally((function(){return m(!1)}))}),[d.page,d.perPage]);return r.useEffect((function(){g()}),[g]),r.createElement(r.Fragment,null,t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cellIds:i,loading:u},d)))};var W=n(7277),U=n(8592),H=n(30),G=n(4874),Y=n(9058),K=n(6054);const $=function(e){var t=e.loading,n=e.cellIds,a=e.page,i=e.perPage,c=e.onPageChange,s=e.onPageSizeChange,u=(0,y.useTranslation)().t,m=(0,o.useHistory)(),d=Z(),p=d.showSuccessMessage,f=d.showErrorMessage,E=r.useState(""),v=(0,w.Z)(E,2),h=v[0],b=v[1],T=r.useState(!1),S=(0,w.Z)(T,2),C=S[0],R=S[1],N=l()().checkPermission,P=[{field:"id",headerName:u("cellID"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("id")},r.createElement("div",null,e.getValue("id")))}},{field:"region",headerName:u("region"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("region")},r.createElement("div",null,e.getValue("region")))}},{field:"actions",headerName:u("actions"),sortable:!1,renderCell:function(e){return r.createElement("div",null,r.createElement(U.Z,{size:"small",color:"primary","aria-label":"group action buttons"},N(g)&&r.createElement(H.ZP,{title:u("edit")},r.createElement(W.Z,{component:o.Link,to:"/home/region/cell-id/edit/"+e.getValue("id")},r.createElement(G.Z,{fontSize:"small"}))),N("CELL_ID_DELETE")&&r.createElement(H.ZP,{title:u("delete")},r.createElement(W.Z,{onClick:function(){b(e.getValue("id")),R(!0)}},r.createElement(Y.Z,{fontSize:"small",style:{color:K.Z[400]}})))))},width:150}];return r.createElement(r.Fragment,null,r.createElement(V(),{onPageSizeChange:function(e){s(e.pageSize)},onPageChange:function(e){c(e.page)},pagination:!0,page:a,pageSize:i,rows:n,loading:t,columns:P,getRowId:function(e){return e.id},columnBuffer:3}),r.createElement(ht,{open:C,onClose:function(){R(!1)},onOk:function(){var e;(e=h,I("".concat(D,"/cells/deleteCellId/").concat(e),{method:"DELETE"})).then((function(e){0===e.resultCode?(p(e.resultMessage||"Cell ID deleted successfully"),m.push("/home/region/cell-id")):f(e.resultMessage||"There was an error deleting this cell id")})),R(!1)},dialogTitle:u("deleteCellIDConfirmationTitle"),dialogDescription:"".concat(u("deleteCellIDConfirmationDescription")," ").concat(h,"?")}))},J=function(){return a().createElement(q,null,(function(e){var t=e.cellIds,n=e.loading,r=(0,T.Z)(e,["cellIds","loading"]);return a().createElement("div",{style:{height:600,width:"100%"}},a().createElement($,(0,b.Z)({cellIds:t,loading:n},r)))}))};var Q=n(1746),X=n(7114),ee=n(8526);const te=function(e){var t=Z(),n=t.showErrorMessage,a=(t.showInfoMessage,r.useState([])),o=(0,w.Z)(a,2),i=o[0],l=o[1],c=r.useState(!1),s=(0,w.Z)(c,2),u=s[0],m=s[1],d=r.useCallback((function(){m(!0),(""!==e?O(e):x()).then((function(e){0===e.resultCode?l(e.data):l([])})).catch((function(e){n(e)})).finally((function(){return m(!1)}))}),[]);return r.useEffect((function(){d()}),[d]),{regions:i,loading:u}};var ne=n(905),re=n(1262),ae=n(4614),oe=n(6277),ie=n(9692),le=n(2420),ce=(0,ie.Z)((function(e){return(0,le.Z)({elements:{marginRight:e.spacing(1)},spacingTop:{marginTop:e.spacing(3)},spacingLeft:{marginLeft:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},w100:{width:"100%"}})}));const se=function(e){var t=e.onSubmit,n=e.initialValues,a=void 0===n?{id:"",regionId:""}:n,o=e.edit,i=e.loadingState,l=(0,y.useTranslation)().t,c=ce(),s=te("3"),u=s.regions,m=s.loading,d=ee.Ry().shape({id:ee.Z_().required(l("cellIdRequired")),regionId:ee.Z_().required(l("regionIdRequired"))}),g=(0,X.TA)({initialValues:a,onSubmit:t,enableReinitialize:!0,validationSchema:d}),p=g.values,f=g.errors,E=g.handleChange,h=g.handleSubmit;return m||i?r.createElement(re.Z,{className:c.backdrop,open:m},r.createElement(ae.Z,{color:"inherit"})):r.createElement(r.Fragment,null,r.createElement(ne.Z,{container:!0},r.createElement(ne.Z,{container:!0,spacing:3,className:c.spacingTop},r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"id",value:p.id,required:!0,error:!!f.id,helperText:f.id,className:(0,oe.default)(c.elements,c.w100),name:"id",label:l("cellID"),onChange:E})),r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessDropDown,{value:p.regionId,helperText:f.regionId,required:!0,error:!!f.regionId,className:(0,oe.default)(c.elements,c.w100),id:"regionId",name:"regionId",label:l("regionID"),options:[{value:"Choose",key:l("choose")}].concat((0,Q.Z)(u.map((function(e){return{key:e.regionName,value:e.id.toString()}})))),onChange:E})))),r.createElement(ne.Z,{item:!0,xs:12,className:c.spacingTop},r.createElement(v.SeamlessButton,{onClick:function(e){return h()},id:"search-kyc-submit-button",variant:"contained",color:"primary"},l(o?"update":"submit"))))},ue=function(){var e=(0,y.useTranslation)().t,t=(0,o.useHistory)(),n=Z(),a=n.showSuccessMessage,i=n.showErrorMessage;return r.createElement(se,{onSubmit:function(n){return function(n){M(n).then((function(n){0===n.resultCode?(a(n.resultMessage||e("createCellIDSuccess")),t.push("/home/region/cell-id")):i(n.resultMessage||e("anErrorOccurred"))}))}(n)},initialValues:{id:"",regionId:""},edit:!1,loadingState:!1})},me=function(e){var t=e.id,n=(0,y.useTranslation)().t,a=(0,o.useHistory)(),i=Z(),l=i.showSuccessMessage,c=i.showErrorMessage,s=r.useState({id:"",regionId:""}),u=(0,w.Z)(s,2),m=u[0],d=u[1],g=r.useState(!1),p=(0,w.Z)(g,2),f=p[0],E=p[1],v=r.useCallback((function(){E(!0),function(e){return I("".concat(D,"/cells/getCellById/").concat(e),{method:"POST"})}(t).then((function(e){var t=e.id,n=e.region;d({id:t,regionId:n})})).catch((function(e){c(e)})).finally((function(){return E(!1)}))}),[]);r.useEffect((function(){v()}),[v]);return r.createElement(se,{onSubmit:function(e){return function(e){(function(e){var t=e.id,n=e.regionId;return I("".concat(D,"/cells/updateCellId"),{method:"PUT",body:{id:t,regionId:n}})})(e).then((function(e){0===e.resultCode?(l(e.resultMessage||n("updateCellIDSuccess")),a.push("/home/region/cell-id")):c(e.resultMessage||n("anErrorOccurred"))}))}(e)},initialValues:m,edit:!0,loadingState:f})};var de=n(6470),ge=n(7162),pe=n.n(ge),fe=n(4276),Ee=n(436),ve=n(5457),he=n(286),ye=n.n(he);function be(e,t){return e instanceof Blob?e:new Blob([e],t)}const Te=function(e,t){if(window.navigator.msSaveBlob){var n=be(e,{type:"text/csv"});window.navigator.msSaveBlob(n,t)}else{var r=document.createElement("a");if(r.download=t,window.URL.createObjectURL){var a=be(e,{type:"text/csv"});r.href=window.URL.createObjectURL(a)}else r.href="data:text/csv;charset=utf-8,"+encodeURIComponent(e);if(document.createEvent){var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}else r.click()}};function Se(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=(0,ie.Z)((function(e){return(0,le.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},uploadBox:{marginTop:e.spacing(2),marginBottom:e.spacing(3),cursor:"pointer"},Btn:{marginLeft:e.spacing(2)},BtnWrapper:{marginTop:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"flex-start"},uploadInput:{display:"flex",alignItems:"center","& #seamless-unified-upload":{border:"2px solid ".concat(e.palette.success.main),borderRadius:"8px"},"& .file-details":{marginLeft:"10px",padding:"10px",border:"1px solid #e0dfdf",borderRadius:"8px","& span":{fontSize:"14px"}}},uploadIcon:{fontSize:50},box:{color:e.palette.grey[600],transition:"all 0.2s ease-in","&:hover":{background:e.palette.grey[100],color:e.palette.secondary.main}},button:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",width:"100%"}})}));const Ze=function(e){var t=e.open,n=e.onClose,a=e.onOk,i=e.dialogTitle,l=e.dialogDescription,c=e.sampleDetails,s=Ce(),u=(0,y.useTranslation)().t,m=(0,o.useHistory)(),d=Z(),g=d.showSuccessMessage,p=d.showErrorMessage,f=r.useState(null),E=(0,w.Z)(f,2),b=E[0],T=E[1],S=r.useState(!1),C=(0,w.Z)(S,2),R=C[0],I=C[1],N=function(e){var t,n=!1,r=Se(e);try{var a=function(){var e=t.value,r=["id","regionId"],a=Object.keys(e);return a.length===r.length&&a.every((function(e,t){return e===r[t]}))?e.id&&e.regionId?void 0:(n=!0,p(u("properCellIDError")),"break"):(n=!0,p(u("CSVFormatError")),"break")};for(r.s();!(t=r.n()).done&&"break"!==a(););}catch(e){r.e(e)}finally{r.f()}return n};return r.createElement(v.SeamlessDialog,{open:t,onClose:n,className:s.dialogWrapper,maxWidth:"sm",fullWidth:!0},r.createElement(v.SeamlessContainer,{title:i,description:l},r.createElement(r.Fragment,null,r.createElement(h.Z,{id:"new-import-form-fields",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",className:s.uploadBox},r.createElement("div",{className:b?s.uploadInput:""},r.createElement("input",{name:"new-import-upload",accept:".csv",id:"new-import-upload",type:"file",hidden:!0,onChange:function(e){T(e.target.files[0])}}),r.createElement("label",{htmlFor:"new-import-upload"},r.createElement("span",{id:"seamless-unified-upload",className:s.button},r.createElement(h.Z,{className:s.box,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",pr:2,pl:2,borderRadius:6,borderColor:"grey.200",border:2},r.createElement(fe.Z,{className:s.uploadIcon,fontSize:"large",color:"inherit"},"file_upload"),r.createElement(Ee.Z,{gutterBottom:!0,variant:"caption"},u("uploadCSV"))))),r.createElement("div",{className:"file-details"},r.createElement("span",null,b&&b.name?"File name: ".concat(b.name):"")))),r.createElement(v.SeamlessButton,{type:"button",variant:"outlined",color:"primary",onClick:function(){T(null),n()},className:s.btnSpace},u("closeButton")),r.createElement(v.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:function(){var e,t;(e=b)?ye().parse(e,{header:!0,skipEmptyLines:!0,error:function(e){T(null),p(u("fileCheckError"))},complete:(t=(0,de.Z)(pe().mark((function e(t){var n,r,o,i,l;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.length){e.next=34;break}if(!N(t.data)){e.next=5;break}return T(null),e.abrupt("return");case 5:n=Se(t.data),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=24;break}return o=r.value,i=t.data.indexOf(o),e.next=13,M(o);case 13:if(0===(l=e.sent).resultCode){e.next=21;break}return T(null),p(l.resultMessage||u("anErrorOccurred")),I(!1),e.abrupt("break",24);case 21:i===t.data.length-1&&(g(l.resultMessage||u("createCellIDSuccess")),m.push("/home/region/cell-id"),a());case 22:e.next=8;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(6),n.e(e.t0);case 29:return e.prev=29,n.f(),e.finish(29);case 32:e.next=36;break;case 34:T(null),p(u("fileError"));case 36:case"end":return e.stop()}}),e,null,[[6,26,29,32]])}))),function(e){return t.apply(this,arguments)})}):p(u("selectFileError"))},className:s.btnSpace},u("submit")," ",R&&r.createElement(ae.Z,{color:"inherit",size:16,style:{marginLeft:"8px"}})),r.createElement(v.SeamlessButton,{type:"button",variant:"contained",color:"default",onClick:function(){var e=ye().unparse(c.payload);Te(e,c.fileName)},endIcon:r.createElement(ve.Z,null)},u("sample")))))};var Re=(0,ie.Z)((function(e){return(0,le.Z)({elements:{marginRight:e.spacing(1)}})}));const Ie=function(e){var t=e.disable,n=void 0!==t&&t,a=e.label,o=(0,y.useTranslation)().t,i=Re(),c=l()().checkPermission;a=a||o("bulkUpload");var s=r.useState(!1),u=(0,w.Z)(s,2),m=u[0],d=u[1];return r.createElement("div",{className:i.elements},r.createElement(v.SeamlessButton,{onClick:function(){return d(!0)},variant:"contained",disabled:n||!c("BULK_CELL_ID_UPLOAD"),color:"primary"},a),r.createElement(Ze,{open:m,onClose:function(){return d(!1)},onOk:function(){return d(!1)},dialogTitle:o("bulkUploadCellIDTitle"),dialogDescription:"".concat(o("bulkUploadCellIDDesc")),sampleDetails:{fileName:"Sample Bulk Cell ID.csv",payload:[{id:"1100",regionId:"SIALKOT"}]}}))};var Ne=n(8896);const Pe=function(e){var t=e.disable,n=void 0!==t&&t,a=e.label,i=e.path,c=(0,y.useTranslation)().t,s=l()().checkPermission;return a=a||c("createCellID"),i=i||"/home/region/cell-id/create",r.createElement(v.SeamlessButton,{component:o.Link,to:i,variant:"contained",color:"primary",disabled:n||!s(d),endIcon:r.createElement(Ne.Z,null)},a)};var xe;function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ke=(null===(xe=window.config)||void 0===xe?void 0:xe.defaultPerPageItems)||20;const De=function(e){var t=e.children,n=te(""),a=n.regions,o=n.loading,i=(0,_.useServerTable)({page:0,perPage:ke,order:"desc",orderBy:"startTime",filter:{}});return r.createElement(r.Fragment,null,t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({regions:a,loading:o},i)))};var Me=n(552);const Le=function(e){var t=e.loading,n=e.regions,a=e.page,i=e.perPage,s=e.onPageChange,u=e.onPageSizeChange,m=(0,y.useTranslation)().t,d=l()().checkPermission,g=(0,o.useHistory)(),p=Z(),f=p.showSuccessMessage,E=p.showErrorMessage,v=r.useState(""),h=(0,w.Z)(v,2),b=h[0],T=h[1],S=r.useState(""),C=(0,w.Z)(S,2),R=C[0],N=C[1],x=r.useState(!1),O=(0,w.Z)(x,2),k=O[0],D=O[1],M=[{field:"id",headerName:m("regionID"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("id")},r.createElement("div",null,e.getValue("id")))}},{field:"regionName",headerName:m("regionName"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("regionName")},r.createElement("div",null,e.getValue("regionName")))}},{field:"regionType",headerName:m("regionType"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("regionType")},r.createElement("div",null,e.getValue("regionType")))}},{field:"actions",headerName:m("actions"),sortable:!1,renderCell:function(e){return r.createElement("div",null,r.createElement(U.Z,{size:"small",color:"primary","aria-label":"group action buttons"},d(c)&&r.createElement(H.ZP,{title:m("view")},r.createElement(W.Z,{component:o.Link,to:"/home/region/regions/view/"+e.getValue("regionId")},r.createElement(Me.Z,{fontSize:"small"}))),d("REGION_DELETE")&&r.createElement(H.ZP,{title:m("delete")},r.createElement(W.Z,{onClick:function(){N(e.getValue("regionId")),T(e.getValue("id")),D(!0)}},r.createElement(Y.Z,{fontSize:"small",style:{color:K.Z[400]}})))))},width:150}];return r.createElement(r.Fragment,null,r.createElement(V(),{onPageSizeChange:function(e){u(e.pageSize)},onPageChange:function(e){s(e.page)},pagination:!0,page:a,pageSize:i,rows:n,loading:t,columns:M,getRowId:function(e){return e.id},columnBuffer:3}),r.createElement(ht,{open:k,onClose:function(){D(!1)},onOk:function(){var e;(e=R,I("".concat(P,"/region/region/").concat(e),{method:"DELETE"})).then((function(e){0===e.resultCode?(f(e.resultMessage||"Region deleted successfully"),g.push("/home/region/regions")):E(e.resultMessage||"There was an error deleting this region")})),D(!1)},dialogTitle:m("deleteRegionConfirmationTitle"),dialogDescription:"".concat(m("deleteRegionConfirmationDescription")," ").concat(b,"?")}))},Ae=function(){return a().createElement(De,null,(function(e){var t=e.regions,n=e.loading,r=(0,T.Z)(e,["regions","loading"]);return a().createElement("div",{style:{height:600,width:"100%"}},a().createElement(Le,(0,b.Z)({regions:t,loading:n},r)))}))};var je=(0,ie.Z)((function(e){return(0,le.Z)({elements:{marginRight:e.spacing(1)},spacingTop:{marginTop:e.spacing(3)},spacingLeft:{marginLeft:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},w100:{width:"100%"}})}));const Be=function(e){var t,n,a=e.onSubmit,o=e.initialValues,i=void 0===o?{cluster:"",data:"",distributor:"",level:"",location:"",ovaAccount:"",parentRegionName:"",regionName:"",id:""}:o,l=e.edit,c=void 0!==l&&l,s=e.view,u=void 0!==s&&s,m=e.loading,d=e.regionTypes,g=e.loadingRegionTypes,p=(0,y.useTranslation)().t,f=je(),E=(null===(t=window.config)||void 0===t||null===(n=t.region)||void 0===n?void 0:n.hideRegionSpecificCreateFields)||!1,h=ee.Ry().shape({cluster:ee.Z_(),data:ee.Z_(),distributor:ee.Z_(),level:ee.Z_().required(p("regionLevelRequired")),location:ee.Z_(),ovaAccount:ee.Z_(),parentRegionName:ee.Z_(),regionName:ee.Z_().required(p("regionNameRequired")),id:ee.Z_().required(p("regionIdRequired"))}),b=(0,X.TA)({initialValues:i,onSubmit:a,enableReinitialize:!0,validationSchema:h}),T=b.values,S=b.errors,C=b.handleChange,R=b.handleSubmit,I=Z().showErrorMessage,N=r.useState([]),P=(0,w.Z)(N,2),k=P[0],D=P[1],M=r.useState(!0),L=(0,w.Z)(M,2),A=L[0],j=L[1],B=r.useState(!1),_=(0,w.Z)(B,2),V=_[0],z=_[1],F=r.useCallback((function(){z(!0);var e=Number(T.level);if(!e||1===e)return j(!1),void z(!1);j(!0),(0!==e?O((e-1).toString()):x()).then((function(e){0===e.resultCode?D(e.data):D([])})).catch((function(e){I(e)})).finally((function(){return z(!1)}))}),[T.level]);return r.useEffect((function(){F()}),[F]),m||V||g?r.createElement(re.Z,{className:f.backdrop,open:m||V||g},r.createElement(ae.Z,{color:"inherit"})):r.createElement(r.Fragment,null,r.createElement(ne.Z,{container:!0},r.createElement(ne.Z,{container:!0,spacing:3,className:f.spacingTop},r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessDropDown,{className:(0,oe.default)(f.elements,f.w100),value:T.level,helperText:S.level,error:!!S.level,id:"level",name:"level",required:!0,disabled:u,label:p("regionLevel"),options:[{value:"Choose",key:p("choose")}].concat((0,Q.Z)(d.map((function(e){return{key:e.regionTypeName,value:e.level.toString()}})))),onChange:C})),A&&r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessDropDown,{className:(0,oe.default)(f.elements,f.w100),value:T.parentRegionName,helperText:S.parentRegionName,error:!!S.level,id:"parentRegionName",name:"parentRegionName",label:p("parentRegionName"),disabled:u,options:[{value:"Choose",key:p("choose")}].concat((0,Q.Z)(k.map((function(e){return{key:e.regionName,value:e.regionName}})))),onChange:C}))),r.createElement(ne.Z,{container:!0,spacing:3,className:f.spacingTop},r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"id",value:T.id,error:!!S.id,helperText:S.id,disabled:u,required:!0,className:(0,oe.default)(f.elements,f.w100),name:"id",label:p("regionID"),onChange:C})),r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"regionName",value:T.regionName,disabled:u,required:!0,error:!!S.regionName,helperText:S.regionName,className:(0,oe.default)(f.elements,f.w100),name:"regionName",label:p("regionName"),onChange:C}))),!E&&r.createElement(r.Fragment,null,r.createElement(ne.Z,{container:!0,spacing:3,className:f.spacingTop},r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"data",value:T.data,disabled:u,error:!!S.data,helperText:S.data,className:(0,oe.default)(f.elements,f.w100),name:"data",label:p("data"),onChange:C})),r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"location",value:T.location,disabled:u,error:!!S.location,helperText:S.location,className:(0,oe.default)(f.elements,f.w100),name:"location",label:p("location"),onChange:C}))),r.createElement(ne.Z,{container:!0,spacing:3,className:f.spacingTop},r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"distributor",value:T.distributor,disabled:u,error:!!S.distributor,helperText:S.distributor,className:(0,oe.default)(f.elements,f.w100),name:"distributor",label:p("distributor"),onChange:C})),r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"ovaAccount",value:T.ovaAccount,disabled:u,error:!!S.ovaAccount,helperText:S.ovaAccount,className:(0,oe.default)(f.elements,f.w100),name:"ovaAccount",label:p("ovaAccount"),onChange:C})),r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"cluster",value:T.cluster,disabled:u,error:!!S.cluster,helperText:S.cluster,className:(0,oe.default)(f.elements,f.w100),name:"cluster",label:p("cluster"),onChange:C}))))),!u&&r.createElement(ne.Z,{item:!0,xs:12,className:f.spacingTop},r.createElement(v.SeamlessButton,{onClick:function(e){return R()},id:"search-kyc-submit-button",variant:"contained",color:"primary"},p(c?"update":"submit"))))},_e=function(){var e=Z(),t=e.showErrorMessage,n=(e.showInfoMessage,r.useState([])),a=(0,w.Z)(n,2),o=a[0],i=a[1],l=r.useState(!1),c=(0,w.Z)(l,2),s=c[0],u=c[1],m=r.useCallback((function(){u(!0),j().then((function(e){i(e.content)})).catch((function(e){t(e)})).finally((function(){return u(!1)}))}),[]);return r.useEffect((function(){m()}),[m]),{regionTypes:o,loadingRegionTypes:s}},Ve=function(){var e=(0,y.useTranslation)().t,t=(0,o.useHistory)(),n=_e(),a=n.regionTypes,i=n.loadingRegionTypes,l=Z(),c=l.showSuccessMessage,s=l.showErrorMessage;return r.createElement(Be,{onSubmit:function(n){return function(n){var r={requests:[]};r.requests.push(n),k(r).then((function(n){0===n.resultCode?(c(n.resultMessage||e("createRegionSuccess")),t.push("/home/region/regions")):s(n.resultMessage||e("anErrorOccurred"))}))}(n)},initialValues:{cluster:"",data:"",distributor:"",level:"",location:"",ovaAccount:"",parentRegionName:"",regionName:"",id:""},loading:!1,regionTypes:a,loadingRegionTypes:i})},ze=function(e){var t=e.id,n=Z().showErrorMessage,a=r.useState({cluster:"",data:"",distributor:"",level:"",location:"",ovaAccount:"",parentRegionName:"",regionName:"",id:""}),o=(0,w.Z)(a,2),i=o[0],l=o[1],c=r.useState(!1),s=(0,w.Z)(c,2),u=s[0],m=s[1],d=r.useState([]),g=(0,w.Z)(d,2),p=g[0],f=g[1],E=r.useState(!1),v=(0,w.Z)(E,2),h=v[0],y=v[1],b=r.useCallback((function(){y(!0),j().then((function(e){f(e.content),T(e.content)})).catch((function(e){n(e)})).finally((function(){return y(!1)}))}),[]),T=r.useCallback((function(e){var r;m(!0),(r=t,I("".concat(P,"/region/").concat(r))).then((function(t){var n,r,a,o,i,c,s,u=e.find((function(e){return e.regionTypeName===t.regionType}));l({cluster:null!==(n=null==t?void 0:t.cluster)&&void 0!==n?n:"",data:null!==(r=null==t?void 0:t.data)&&void 0!==r?r:"",distributor:null!==(a=null==t?void 0:t.distributor)&&void 0!==a?a:"",level:null==u?void 0:u.level.toString(),location:null!==(o=null==t?void 0:t.location)&&void 0!==o?o:"",ovaAccount:null!==(i=null==t?void 0:t.ovaAccounts)&&void 0!==i?i:"",parentRegionName:null!==(c=null==t||null===(s=t.parentRegion)||void 0===s?void 0:s.regionName)&&void 0!==c?c:"",regionName:t.regionName,id:t.id})})).catch((function(e){n(e)})).finally((function(){return m(!1)}))}),[]);return r.useEffect((function(){b()}),[T]),r.createElement(Be,{onSubmit:function(){return null},initialValues:i,view:!0,loading:u,regionTypes:p,loadingRegionTypes:h})};function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=(0,ie.Z)((function(e){return(0,le.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},uploadBox:{marginTop:e.spacing(2),marginBottom:e.spacing(3),cursor:"pointer"},Btn:{marginLeft:e.spacing(2)},BtnWrapper:{marginTop:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"flex-start"},uploadInput:{display:"flex",alignItems:"center","& #seamless-unified-upload":{border:"2px solid ".concat(e.palette.success.main),borderRadius:"8px"},"& .file-details":{marginLeft:"10px",padding:"10px",border:"1px solid #e0dfdf",borderRadius:"8px","& span":{fontSize:"14px"}}},uploadIcon:{fontSize:50},box:{color:e.palette.grey[600],transition:"all 0.2s ease-in","&:hover":{background:e.palette.grey[100],color:e.palette.secondary.main}},button:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",width:"100%"}})}));const We=function(e){var t=e.open,n=e.onClose,a=e.onOk,i=e.dialogTitle,l=e.dialogDescription,c=e.sampleDetails,s=e.regionTypes,u=qe(),m=(0,y.useTranslation)().t,d=(0,o.useHistory)(),g=Z(),p=g.showSuccessMessage,f=g.showErrorMessage,E=r.useState(null),b=(0,w.Z)(E,2),T=b[0],S=b[1],C=r.useState(!1),R=(0,w.Z)(C,2),I=R[0],N=R[1],P=function(e){var t,n=!1,r=["level","parentRegionName","id","regionName","data","location","distributor","ovaAccount","cluster"],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(e);try{for(a.s();!(t=a.n()).done;){var o=t.value,i=Object.keys(o);if(i.length!==r.length||!i.every((function(e,t){return e===r[t]}))){n=!0,f(m("CSVFormatError"));break}if(!o.level||!o.id||!o.regionName){n=!0,f(m("properRegionError"));break}}}catch(e){a.e(e)}finally{a.f()}return n};return r.createElement(v.SeamlessDialog,{open:t,onClose:n,className:u.dialogWrapper,maxWidth:"sm",fullWidth:!0},r.createElement(v.SeamlessContainer,{title:i,description:l},r.createElement(r.Fragment,null,r.createElement(h.Z,{id:"new-import-form-fields",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",className:u.uploadBox},r.createElement("div",{className:T?u.uploadInput:""},r.createElement("input",{name:"new-import-upload",accept:".csv",id:"new-import-upload",type:"file",hidden:!0,onChange:function(e){S(e.target.files[0])}}),r.createElement("label",{htmlFor:"new-import-upload"},r.createElement("span",{id:"seamless-unified-upload",className:u.button},r.createElement(h.Z,{className:u.box,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",pr:2,pl:2,borderRadius:6,borderColor:"grey.200",border:2},r.createElement(fe.Z,{className:u.uploadIcon,fontSize:"large",color:"inherit"},"file_upload"),r.createElement(Ee.Z,{gutterBottom:!0,variant:"caption"},m("uploadCSV"))))),r.createElement("div",{className:"file-details"},r.createElement("span",null,T&&T.name?"File name: ".concat(T.name):"")))),r.createElement(v.SeamlessButton,{type:"button",variant:"outlined",color:"primary",onClick:function(){S(null),n()},className:u.btnSpace},m("closeButton")),r.createElement(v.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:function(){var e,t;(e=T)?ye().parse(e,{header:!0,skipEmptyLines:!0,error:function(e){S(null),f(m("fileCheckError"))},complete:(t=(0,de.Z)(pe().mark((function e(t){var n;return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.length?(n=t.data.map((function(e){var t=s.find((function(t){return t.level.toString()===e.level}));return t&&(e.level=t.level.toString()),e})),P(r=n)?S(null):(N(!0),k({requests:r}).then((function(e){0===e.resultCode?(p(e.resultMessage||m("createRegionSuccess")),d.push("/home/region/regions"),a()):(S(null),f(e.resultMessage||m("anErrorOccurred"))),N(!1)})))):f(m("fileError"));case 1:case"end":return e.stop()}var r}),e)}))),function(e){return t.apply(this,arguments)})}):f(m("selectFileError"))},className:u.btnSpace},m("submit")," ",I&&r.createElement(ae.Z,{color:"inherit",size:16,style:{marginLeft:"8px"}})),r.createElement(v.SeamlessButton,{type:"button",variant:"contained",color:"default",onClick:function(){var e=ye().unparse(c.payload);Te(e,c.fileName)},endIcon:r.createElement(ve.Z,null)},m("sample")))))};var Ue=(0,ie.Z)((function(e){return(0,le.Z)({elements:{marginRight:e.spacing(1)}})}));const He=function(e){var t=e.disable,n=void 0!==t&&t,a=e.label,o=(0,y.useTranslation)().t,i=Ue(),c=l()().checkPermission,s=_e().regionTypes;a=a||o("bulkUpload");var u=r.useState(!1),m=(0,w.Z)(u,2),d=m[0],g=m[1];return r.createElement("div",{className:i.elements},r.createElement(v.SeamlessButton,{onClick:function(){return g(!0)},variant:"contained",disabled:n||!c("BULK_REGION_UPLOAD"),color:"primary"},a),r.createElement(We,{open:d,onClose:function(){return g(!1)},onOk:function(){return g(!1)},dialogTitle:o("bulkUploadRegionTitle"),dialogDescription:"".concat(o("bulkUploadRegionDesc")),regionTypes:s,sampleDetails:{fileName:"Sample Bulk Region.csv",payload:[{level:"CIRCLE",parentRegionName:"TEST REGION",id:"TEST-CIRCLE",regionName:"Test Circle",data:"",location:"",distributor:"",ovaAccount:"",cluster:""}]}}))},Ge=function(e){var t=e.disable,n=void 0!==t&&t,a=e.label,i=e.path,c=(0,y.useTranslation)().t,u=l()().checkPermission;return a=a||c("createRegion"),i=i||"/home/region/regions/create",r.createElement(v.SeamlessButton,{component:o.Link,to:i,variant:"contained",color:"primary",disabled:n||!u(s),endIcon:r.createElement(Ne.Z,null)},a)};var Ye;function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $e=(null===(Ye=window.config)||void 0===Ye?void 0:Ye.defaultPerPageItems)||20;const Je=function(e){var t=e.children,n=Z().showErrorMessage,a=r.useState([]),o=(0,w.Z)(a,2),i=o[0],l=o[1],c=r.useState(!1),s=(0,w.Z)(c,2),u=s[0],m=s[1],d=(0,_.useServerTable)({page:0,perPage:$e,order:"desc",orderBy:"startTime",filter:{}}),g=r.useCallback((function(){m(!0),I("".concat(L,"/allowedTransfer/")).then((function(e){l(e.content)})).catch((function(e){n(e)})).finally((function(){return m(!1)}))}),[d.page,d.perPage]);return r.useEffect((function(){g()}),[g]),r.createElement(r.Fragment,null,t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowedTransfers:i,loading:u},d)))},Qe=function(e){var t=e.loading,n=e.allowedTransfers,a=e.page,i=e.perPage,c=e.onPageChange,s=e.onPageSizeChange,u=(0,y.useTranslation)().t,d=(0,o.useHistory)(),g=l()().checkPermission,p=Z(),f=p.showSuccessMessage,E=p.showErrorMessage,v=r.useState(""),h=(0,w.Z)(v,2),b=h[0],T=h[1],S=r.useState({from:"",to:""}),C=(0,w.Z)(S,2),R=C[0],N=C[1],P=r.useState(!1),x=(0,w.Z)(P,2),O=x[0],k=x[1],D=[{field:"fromRegion",headerName:u("fromRegion"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("fromRegion")},r.createElement("div",null,e.getValue("fromRegion")))}},{field:"toRegion",headerName:u("toRegion"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("toRegion")},r.createElement("div",null,e.getValue("toRegion")))}},{field:"actions",headerName:u("actions"),sortable:!1,renderCell:function(e){return r.createElement("div",null,r.createElement(U.Z,{size:"small",color:"primary","aria-label":"group action buttons"},g(m)&&r.createElement(H.ZP,{title:u("edit")},r.createElement(W.Z,{component:o.Link,to:"/home/region/allowed-transfers/edit/"+e.getValue("id")},r.createElement(G.Z,{fontSize:"small"}))),g("ALLOWED_TRANSFERS_DELETE")&&r.createElement(H.ZP,{title:u("delete")},r.createElement(W.Z,{onClick:function(){T(e.getValue("id")),N({from:e.getValue("fromRegion"),to:e.getValue("toRegion")}),k(!0)}},r.createElement(Y.Z,{fontSize:"small",style:{color:K.Z[400]}})))))},width:150}];return r.createElement(r.Fragment,null,r.createElement(V(),{onPageSizeChange:function(e){s(e.pageSize)},onPageChange:function(e){c(e.page)},pagination:!0,page:a,pageSize:i,rows:n,loading:t,columns:D,getRowId:function(e){return e.allowedTransferId},columnBuffer:3}),r.createElement(ht,{open:O,onClose:function(){k(!1)},onOk:function(){(function(e){return I("".concat(L,"/allowedTransfer/deleteAllowedTransfer/").concat(e),{method:"DELETE"})})(b).then((function(e){0===e.resultCode?(f(e.resultMessage||"Allowed Transfer deleted successfully"),d.push("/home/region/allowed-transfers")):E(e.resultMessage||"There was an error deleting this transfer")})),k(!1)},dialogTitle:u("deleteAllowedTransferConfirmationTitle"),dialogDescription:"".concat(u("deleteAllowedTransferConfirmationDescription",{from:R.from,to:R.to}))}))},Xe=function(){return a().createElement(Je,null,(function(e){var t=e.allowedTransfers,n=e.loading,r=(0,T.Z)(e,["allowedTransfers","loading"]);return a().createElement("div",{style:{height:600,width:"100%"}},a().createElement(Qe,(0,b.Z)({allowedTransfers:t,loading:n},r)))}))};var et=(0,ie.Z)((function(e){return(0,le.Z)({elements:{marginRight:e.spacing(1)},spacingTop:{marginTop:e.spacing(3)},spacingLeft:{marginLeft:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},w100:{width:"100%"}})}));const tt=function(e){var t=e.onSubmit,n=e.initialValues,a=void 0===n?{fromRegion:"-",toRegion:"-",id:0}:n,o=e.edit,i=e.loadingState,l=(0,y.useTranslation)().t,c=et(),s=te("3"),u=s.regions,m=s.loading,d=ee.Ry().shape({fromRegion:ee.Z_().notOneOf(["-"],l("fromRegionRequired")),id:ee.Rx(),toRegion:ee.Z_().notOneOf(["-"],l("toRegionRequired"))}),g=(0,X.TA)({initialValues:a,onSubmit:t,enableReinitialize:!0,validationSchema:d}),p=g.values,f=g.errors,E=g.handleChange,h=g.handleSubmit;return g.handleReset,m||i?r.createElement(re.Z,{className:c.backdrop,open:m},r.createElement(ae.Z,{color:"inherit"})):r.createElement(r.Fragment,null,r.createElement(ne.Z,{container:!0},r.createElement(ne.Z,{container:!0,spacing:3,className:c.spacingTop},r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessDropDown,{className:(0,oe.default)(c.elements,c.w100),value:p.fromRegion,helperText:f.fromRegion,error:!!f.fromRegion,id:"fromRegion",name:"fromRegion",required:!0,label:l("fromRegion"),options:[{value:"-",key:l("choose")}].concat((0,Q.Z)(u.map((function(e){return{key:e.regionName,value:e.id.toString()}})))),onChange:E})),r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessDropDown,{className:(0,oe.default)(c.elements,c.w100),value:p.toRegion,helperText:f.toRegion,error:!!f.toRegion,id:"toRegion",required:!0,name:"toRegion",label:l("toRegion"),options:[{value:"-",key:l("choose")}].concat((0,Q.Z)(u.map((function(e){return{key:e.regionName,value:e.id.toString()}})))),onChange:E})))),r.createElement(ne.Z,{item:!0,xs:12,className:c.spacingTop},r.createElement(v.SeamlessButton,{onClick:function(e){return h()},id:"search-kyc-submit-button",variant:"contained",color:"primary"},l(o?"update":"submit"))))},nt=function(){var e=(0,y.useTranslation)().t,t=(0,o.useHistory)(),n=Z(),a=n.showSuccessMessage,i=n.showErrorMessage;return r.createElement(tt,{onSubmit:function(n){return function(n){var r,o,l,c;(r=n,o=r.fromRegion,l=r.toRegion,c=r.id,I("".concat(L,"/allowedTransfer/addAllowdTransfer"),{method:"POST",body:{fromRegion:o,toRegion:l,id:c}})).then((function(n){0===n.resultCode?(a(n.resultMessage||e("createAllowedTransferSuccess")),t.push("/home/region/allowed-transfers")):i(n.resultMessage||e("anErrorOccurred"))}))}(n)},initialValues:{fromRegion:"-",toRegion:"-"},edit:!1,loadingState:!1})},rt=function(e){var t=e.id,n=(0,y.useTranslation)().t,a=(0,o.useHistory)(),i=Z(),l=i.showSuccessMessage,c=i.showErrorMessage,s=r.useState({fromRegion:"-",toRegion:"-"}),u=(0,w.Z)(s,2),m=u[0],d=u[1],g=r.useState(!1),p=(0,w.Z)(g,2),f=p[0],E=p[1],v=r.useCallback((function(){var e;E(!0),(e=t,I("".concat(L,"/allowedTransfer/getAllowedTransferById/").concat(e),{method:"POST"})).then((function(e){d({fromRegion:e.fromRegion,toRegion:e.toRegion,id:e.allowedTransferId})})).catch((function(e){c(e)})).finally((function(){return E(!1)}))}),[]);r.useEffect((function(){v()}),[v]);return r.createElement(tt,{onSubmit:function(e){return function(e){(function(e){var t=e.fromRegion,n=e.toRegion,r=e.id;return I("".concat(L,"/allowedTransfer/updateAllowedTransfer"),{method:"PUT",body:{fromRegion:t,toRegion:n,id:r}})})(e).then((function(e){0===e.resultCode?(l(e.resultMessage||n("updateAllowedTransferSuccess")),a.push("/home/region/allowed-transfers")):c(e.resultMessage||n("anErrorOccurred"))}))}(e)},initialValues:m,edit:!0,loadingState:f})},at=function(e){var t=e.disable,n=void 0!==t&&t,a=e.label,i=e.path,c=(0,y.useTranslation)().t,s=l()().checkPermission;return a=a||c("createAllowedTransfer"),i=i||"/home/region/allowed-transfers/create",r.createElement(v.SeamlessButton,{component:o.Link,to:i,variant:"contained",color:"primary",disabled:n||!s(u),endIcon:r.createElement(Ne.Z,null)},a)};var ot;function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var lt=(null===(ot=window.config)||void 0===ot?void 0:ot.defaultPerPageItems)||20;const ct=function(e){var t=e.children,n=_e(),a=n.regionTypes,o=n.loadingRegionTypes,i=(0,_.useServerTable)({page:0,perPage:lt,order:"desc",orderBy:"startTime",filter:{}});return r.createElement(r.Fragment,null,t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({regionTypes:a,loading:o},i)))},st=function(e){var t=e.loading,n=e.regionTypes,a=e.page,i=e.perPage,c=e.onPageChange,s=e.onPageSizeChange,u=(0,y.useTranslation)().t,m=(0,o.useHistory)(),d=Z(),g=d.showSuccessMessage,f=d.showErrorMessage,v=r.useState({id:"",name:"",level:""}),h=(0,w.Z)(v,2),b=h[0],T=h[1],S=r.useState(!1),C=(0,w.Z)(S,2),R=C[0],N=C[1],P=l()().checkPermission,x=[{field:"level",headerName:u("regionTypeLevel"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("level")},r.createElement("div",null,e.getValue("level")))}},{field:"regionTypeName",headerName:u("name"),sortable:!0,flex:1,renderCell:function(e){return r.createElement(H.ZP,{title:e.getValue("regionTypeName")},r.createElement("div",null,e.getValue("regionTypeName")))}},{field:"actions",headerName:u("actions"),sortable:!1,renderCell:function(e){return r.createElement("div",null,r.createElement(U.Z,{size:"small",color:"primary","aria-label":"group action buttons"},P(E)&&r.createElement(H.ZP,{title:u("edit")},r.createElement(W.Z,{component:o.Link,to:"/home/region/region-types/edit/"+e.getValue("regionTypeId")},r.createElement(G.Z,{fontSize:"small"}))),P(p)&&r.createElement(H.ZP,{title:u("view")},r.createElement(W.Z,{component:o.Link,to:"/home/region/region-types/view/"+e.getValue("regionTypeId")},r.createElement(Me.Z,{fontSize:"small"}))),P("REGION_TYPE_DELETE")&&r.createElement(H.ZP,{title:u("delete")},r.createElement(W.Z,{onClick:function(){T({id:e.getValue("regionTypeId"),name:e.getValue("regionTypeName"),level:e.getValue("level")}),N(!0)}},r.createElement(Y.Z,{fontSize:"small",style:{color:K.Z[400]}})))))},width:150}];return r.createElement(r.Fragment,null,r.createElement(V(),{onPageSizeChange:function(e){s(e.pageSize)},onPageChange:function(e){c(e.page)},pagination:!0,page:a,pageSize:i,rows:n,loading:t,columns:x,getRowId:function(e){return e.regionTypeId},columnBuffer:3}),r.createElement(ht,{open:R,onClose:function(){N(!1)},onOk:function(){var e,t;e=b.id,(t=e,I("".concat(A,"/regionType/deleteRegionType/").concat(t),{method:"DELETE"})).then((function(e){0===e.resultCode?(g(e.resultMessage||"Region Type deleted successfully"),m.push("/home/region/region-types")):f(e.resultMessage||"There was an error deleting this cell id")})),N(!1)},dialogTitle:u("deleteRegionTypeConfirmationTitle"),dialogDescription:"".concat(u("deleteRegionTypeConfirmationDescription",{level:b.level,name:b.name}),"?")}))},ut=function(){return a().createElement(ct,null,(function(e){var t=e.regionTypes,n=e.loading,r=(0,T.Z)(e,["regionTypes","loading"]);return a().createElement("div",{style:{height:600,width:"100%"}},a().createElement(st,(0,b.Z)({regionTypes:t,loading:n},r)))}))};var mt=(0,ie.Z)((function(e){return(0,le.Z)({elements:{marginRight:e.spacing(1)},spacingTop:{marginTop:e.spacing(3)},spacingLeft:{marginLeft:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},w100:{width:"100%"}})}));const dt=function(e){var t=e.onSubmit,n=e.initialValues,a=void 0===n?{level:0,regionTypeId:0,regionTypeName:""}:n,o=e.edit,i=e.loading,l=e.view,c=(0,y.useTranslation)().t,s=mt(),u=ee.Ry().shape({level:ee.Rx().required(c("regionTypeLevelRequired")),regionTypeId:ee.Rx(),regionTypeName:ee.Z_().required(c("regionTypeNameRequired"))}),m=(0,X.TA)({initialValues:a,onSubmit:t,enableReinitialize:!0,validationSchema:u}),d=m.values,g=m.errors,p=m.handleChange,f=m.handleSubmit;return i?r.createElement(re.Z,{className:s.backdrop,open:i},r.createElement(ae.Z,{color:"inherit"})):r.createElement(r.Fragment,null,r.createElement(ne.Z,{container:!0},r.createElement(ne.Z,{container:!0,spacing:3,className:s.spacingTop},r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"level",value:d.level,type:"number",required:!0,error:!!g.level,helperText:g.level,className:(0,oe.default)(s.elements,s.w100),name:"level",label:c("regionTypeLevel"),disabled:!!l,onChange:p})),r.createElement(ne.Z,{item:!0,xs:12,sm:3},r.createElement(v.SeamlessInput,{id:"regionTypeName",value:d.regionTypeName,disabled:!!l,required:!0,error:!!g.regionTypeName,helperText:g.regionTypeName,className:(0,oe.default)(s.elements,s.w100),name:"regionTypeName",label:c("name"),onChange:p})))),!l&&r.createElement(ne.Z,{item:!0,xs:12,className:s.spacingTop},r.createElement(v.SeamlessButton,{onClick:function(e){return f()},id:"search-kyc-submit-button",variant:"contained",color:"primary"},c(o?"update":"submit"))))},gt=function(){var e=(0,y.useTranslation)().t,t=(0,o.useHistory)(),n=Z(),a=n.showSuccessMessage,i=n.showErrorMessage;return r.createElement(dt,{onSubmit:function(n){return function(n){var r,o,l,c;(r=n,o=r.level,l=r.regionTypeId,c=r.regionTypeName,I("".concat(A,"/regionType/addRegionType/"),{method:"POST",body:{level:o,regionTypeId:l,regionTypeName:c}})).then((function(n){0===n.resultCode?(a(n.resultMessage||e("createRegionTypeSuccess")),t.push("/home/region/region-types")):i(n.resultMessage||e("anErrorOccurred"))}))}(n)},initialValues:{level:0,regionTypeId:0,regionTypeName:""},edit:!1,loading:!1})},pt=function(e){var t=e.id,n=((0,y.useTranslation)().t,(0,o.useHistory)(),Z()),a=(n.showSuccessMessage,n.showErrorMessage),i=r.useState({level:0,regionTypeId:0,regionTypeName:""}),l=(0,w.Z)(i,2),c=l[0],s=l[1],u=r.useState(!1),m=(0,w.Z)(u,2),d=m[0],g=m[1],p=r.useCallback((function(){g(!0),B(t).then((function(e){var t=e.level,n=e.regionTypeId,r=e.regionTypeName;s({level:t,regionTypeId:n,regionTypeName:r})})).catch((function(e){a(e)})).finally((function(){return g(!1)}))}),[]);return r.useEffect((function(){p()}),[p]),r.createElement(dt,{onSubmit:function(e){return null},initialValues:c,edit:!1,view:!0,loading:d})},ft=function(e){var t=e.id,n=(0,y.useTranslation)().t,a=(0,o.useHistory)(),i=Z(),l=i.showSuccessMessage,c=i.showErrorMessage,s=r.useState({level:0,regionTypeId:0,regionTypeName:""}),u=(0,w.Z)(s,2),m=u[0],d=u[1],g=r.useState(!1),p=(0,w.Z)(g,2),f=p[0],E=p[1],v=r.useCallback((function(){E(!0),B(t).then((function(e){var t=e.level,n=e.regionTypeId,r=e.regionTypeName;d({level:t,regionTypeId:n,regionTypeName:r})})).catch((function(e){c(e)})).finally((function(){return E(!1)}))}),[]);r.useEffect((function(){v()}),[v]);return r.createElement(dt,{onSubmit:function(e){return function(e){var t,r,o,i;(t=e,r=t.level,o=t.regionTypeId,i=t.regionTypeName,I("".concat(A,"/regionType/updateRegionType/"),{method:"PUT",body:{level:r,regionTypeId:o,regionTypeName:i}})).then((function(e){0===e.resultCode?(l(e.resultMessage||n("updateRegionTypeSuccess")),a.push("/home/region/region-types")):c(e.resultMessage||n("anErrorOccurred"))}))}(e)},initialValues:m,edit:!0,loading:f})},Et=function(e){var t=e.disable,n=void 0!==t&&t,a=e.label,i=e.path,c=(0,y.useTranslation)().t,s=l()().checkPermission;return a=a||c("createRegionType"),i=i||"/home/region/region-types/create",r.createElement(v.SeamlessButton,{component:o.Link,to:i,variant:"contained",color:"primary",disabled:n||!s(f),endIcon:r.createElement(Ne.Z,null)},a)};var vt=(0,ie.Z)((function(e){return(0,le.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginTop:e.spacing(2),marginBottom:e.spacing(3),marginRight:"auto",marginLeft:"auto"}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)}})}));const ht=function(e){var t=e.open,n=e.onClose,a=e.onOk,o=e.dialogTitle,i=e.dialogDescription,l=vt(),c=(0,y.useTranslation)().t;return r.createElement(v.SeamlessDialog,{open:t,onClose:n,className:l.dialogWrapper,maxWidth:"md",fullWidth:!0},r.createElement(v.SeamlessContainer,{title:o,description:i},r.createElement(r.Fragment,null,r.createElement(v.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:l.btnSpace,onClick:n},c("noConfirmationButton")),r.createElement(v.SeamlessButton,{type:"button",variant:"contained",color:"primary",onClick:a},c("yesConfirmationButton")))))},yt=function(){var e=(0,y.useTranslation)().t;return r.createElement(v.SeamlessContainer,{title:e("viewRegionPageTitle"),description:e("viewRegionPageDescription")},r.createElement(h.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},r.createElement(He,null),r.createElement(Ge,null)),r.createElement(Ae,null))},bt=function(){var e=(0,y.useTranslation)().t;return r.createElement(v.SeamlessContainer,{title:e("createRegion"),description:e("createRegionPageDescription")},r.createElement(Ve,null))},Tt=function(){var e=(0,y.useTranslation)().t,t=(0,o.useParams)().id;return r.createElement(v.SeamlessContainer,{title:e("viewRegionPageTitle"),description:e("viewRegionPageDescription")},r.createElement(ze,{id:t}))},St=function(){var e=(0,o.useRouteMatch)().path,t=l()().AccessControlled;return r.createElement(r.Fragment,null,r.createElement(o.Switch,null,r.createElement(o.Route,{path:e+"/view/:id"},r.createElement(t,{feature:c},r.createElement(Tt,null))),r.createElement(o.Route,{path:e+"/create"},r.createElement(t,{feature:s},r.createElement(bt,null))),r.createElement(o.Route,null,r.createElement(t,{feature:"REGION_LIST"},r.createElement(yt,null)))))},wt=function(){var e=(0,y.useTranslation)().t;return r.createElement(v.SeamlessContainer,{title:e("viewAllowedTransferPageTitle"),description:e("viewAllowedTransferPageDescription")},r.createElement(h.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},r.createElement(at,null)),r.createElement(Xe,null))},Ct=function(){var e=(0,y.useTranslation)().t,t=(0,o.useParams)().id;return r.createElement(v.SeamlessContainer,{title:e("updateAllowedTransferPageTitle"),description:e("updateAllowedTransferPageDescription")},r.createElement(rt,{id:t}))},Zt=function(){var e=(0,y.useTranslation)().t;return r.createElement(v.SeamlessContainer,{title:e("createAllowedTransfer"),description:e("createAllowedTransferPageDescription")},r.createElement(nt,null))},Rt=function(){var e=(0,o.useRouteMatch)().path,t=l()().AccessControlled;return r.createElement(r.Fragment,null,r.createElement(o.Switch,null,r.createElement(o.Route,{path:e+"/edit/:id"},r.createElement(t,{feature:m},r.createElement(Ct,null))),r.createElement(o.Route,{path:e+"/create"},r.createElement(t,{feature:u},r.createElement(Zt,null))),r.createElement(o.Route,null,r.createElement(t,{feature:"ALLOWED_TRANSFERS_LIST"},r.createElement(wt,null)))))},It=function(){var e=(0,y.useTranslation)().t;return r.createElement(v.SeamlessContainer,{title:e("viewCellIdsPageTitle"),description:e("viewCellIdsPageDescription")},r.createElement(h.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},r.createElement(Ie,null),r.createElement(Pe,null)),r.createElement(J,null))},Nt=function(){var e=(0,y.useTranslation)().t,t=(0,o.useParams)().id;return r.createElement(v.SeamlessContainer,{title:e("updateCellIdsPageTitle"),description:e("updateCellIdsPageDescription")},r.createElement(me,{id:t}))},Pt=function(){var e=(0,y.useTranslation)().t;return r.createElement(v.SeamlessContainer,{title:e("createCellID"),description:e("createCellIdsPageDescription")},r.createElement(ue,null))},xt=function(){var e=(0,o.useRouteMatch)().path,t=l()().AccessControlled;return r.createElement(r.Fragment,null,r.createElement(o.Switch,null,r.createElement(o.Route,{path:e+"/edit/:id"},r.createElement(t,{feature:g},r.createElement(Nt,null))),r.createElement(o.Route,{path:e+"/create"},r.createElement(t,{feature:d},r.createElement(Pt,null))),r.createElement(o.Route,null,r.createElement(t,{feature:"CELL_ID_LIST"},r.createElement(It,null)))))},Ot=function(){var e=(0,y.useTranslation)().t;return r.createElement(v.SeamlessContainer,{title:e("viewRegionTypePageTitle"),description:e("viewRegionTypePageDescription")},r.createElement(h.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end"},r.createElement(Et,null)),r.createElement(ut,null))},kt=function(){var e=(0,y.useTranslation)().t;return r.createElement(v.SeamlessContainer,{title:e("createRegionType"),description:e("createRegionTypesPageDescription")},r.createElement(gt,null))},Dt=function(){var e=(0,y.useTranslation)().t,t=(0,o.useParams)().id;return r.createElement(v.SeamlessContainer,{title:e("updateRegionTypesPageTitle"),description:e("updateRegionTypesPageDescription")},r.createElement(ft,{id:t}))},Mt=function(){var e=(0,y.useTranslation)().t,t=(0,o.useParams)().id;return r.createElement(v.SeamlessContainer,{title:e("viewRegionPageTitle"),description:e("viewRegionPageDescription")},r.createElement(pt,{id:t}))},Lt=function(){var e=(0,o.useRouteMatch)().path,t=l()().AccessControlled;return r.createElement(r.Fragment,null,r.createElement(o.Switch,null,r.createElement(o.Route,{path:e+"/edit/:id"},r.createElement(t,{feature:E},r.createElement(Dt,null))),r.createElement(o.Route,{path:e+"/view/:id"},r.createElement(t,{feature:p},r.createElement(Mt,null))),r.createElement(o.Route,{path:e+"/create"},r.createElement(t,{feature:f},r.createElement(kt,null))),r.createElement(o.Route,null,r.createElement(t,{feature:"REGION_TYPE_LIST"},r.createElement(Ot,null)))))}}}]);