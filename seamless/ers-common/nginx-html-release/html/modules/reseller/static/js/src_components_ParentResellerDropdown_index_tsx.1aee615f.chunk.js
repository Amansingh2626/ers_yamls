(self.webpackChunk_unified_reseller=self.webpackChunk_unified_reseller||[]).push([["src_components_ParentResellerDropdown_index_tsx"],{7560:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:()=>r})},96545:(e,t,n)=>{"use strict";n.d(t,{fZ:()=>r.fZ,sC:()=>r.sC,CQ:()=>r.CQ,hm:()=>r.hm,c1:()=>r.c1,pN:()=>r.pN,wv:()=>r.wv,OT:()=>r.OT,it:()=>r.it,eW:()=>r.eW,Fg:()=>r.Fg,Nk:()=>r.Nk,qu:()=>r.qu,Nb:()=>r.Nb,kS:()=>r.kS,GX:()=>r.GX,iA:()=>r.iA,OV:()=>r.OV,gH:()=>r.gH,E5:()=>r.E5,wm:()=>r.wm,TF:()=>r.TF,Ah:()=>r.Ah,HB:()=>r.HB,XD:()=>r.XD,FF:()=>r.FF,lX:()=>r.lX,Gh:()=>r.Gh,NF:()=>r.NF,cG:()=>o.cG,ZV:()=>o.ZV,cY:()=>o.cY,F3:()=>o.F3,b7:()=>o.b7,QX:()=>s.QX,lg:()=>s.lg,uP:()=>s.uP,G0:()=>s.G0,Iq:()=>s.Iq,ec:()=>l.ec,p9:()=>l.p9,ob:()=>l.ob,Kf:()=>a.K,t9:()=>c.t9,Sb:()=>c.Sb,wy:()=>c.wy,sQ:()=>c.ZV,g4:()=>c.g4,j8:()=>c.j8,WY:()=>c.WY,TJ:()=>u.T});var r=n(14674),o=n(31718),s=n(1111),l=n(95191),a=n(58752),c=n(35005),u=n(24157)},95191:(e,t,n)=>{"use strict";n.d(t,{ec:()=>o,ob:()=>s,Ww:()=>l,l4:()=>a,p9:()=>c});var r=n(84496),o=function(e){return(0,r.Z)("/dms/v1/password/policies",{method:"POST",body:e})},s=function(){return(0,r.Z)("/dms/v1/password/policies")},l=function(e){return(0,r.Z)("/dms/v1/password/policies/".concat(e))},a=function(e,t){return(0,r.Z)("/dms/v1/password/policies/".concat(e),{method:"PUT",body:t})},c=function(e){return(0,r.Z)("/dms/v1/password/policies/".concat(e),{method:"DELETE"})}},1111:(e,t,n)=>{"use strict";n.d(t,{fQ:()=>o,lg:()=>s,Iq:()=>l,uP:()=>a,G0:()=>c,Np:()=>u,QX:()=>i});var r=n(84496),o=function(e){return(0,r.Z)("/dms/v1/resellers/types/create",{method:"POST",body:e})},s=function(){return(0,r.Z)("/dms/v1/resellers/types/all")},l=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e,"/parents"))},a=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e,"/children"))},c=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e))},u=function(e){return(0,r.Z)("/dms/v1/resellers/types/update",{method:"PUT",body:e})},i=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e),{method:"DELETE"})}},14674:(e,t,n)=>{"use strict";n.d(t,{Nk:()=>u,Fg:()=>i,OV:()=>d,FF:()=>f,iA:()=>p,eW:()=>m,gH:()=>h,lX:()=>v,pN:()=>g,wv:()=>y,hm:()=>b,kS:()=>Z,uZ:()=>w,c0:()=>T,c1:()=>S,CQ:()=>P,E5:()=>O,NF:()=>I,qu:()=>E,fB:()=>k,OT:()=>F,HB:()=>N,XD:()=>A,wm:()=>j,it:()=>q,Gh:()=>M,sC:()=>x,fZ:()=>L,Ah:()=>U,v$:()=>G,GX:()=>X,Nb:()=>B,TF:()=>W});var r,o,s=n(84496),l=window.config||{},a=(null==l?void 0:l.defaultPerPageItems)||20,c=null!==(r=null==l||null===(o=l.resellerAdditionalConfig)||void 0===o?void 0:o.callIsBasicResellerInfoAPI)&&void 0!==r&&r,u=function(){return(0,s.Z)("/groupmanagementsystem/v1/group?status=active")},i=function(e){return(0,s.Z)("/groupmanagementsystem/v1/group/name/".concat(e))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=n||a,o=t||n?"?limit=".concat(r,"&offset=").concat(t):"";return(0,s.Z)("/dms/v1/resellers/resellerChildren/".concat(e).concat(o))},f=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=c?"searchResellerBasicInfoByAttribute":"searchResellersByAttribute";return r&&(o=r),(0,s.Z)("/dms/auth/".concat(o,"?limit=").concat(t,"&offSet=").concat(n),{method:"POST",body:e})},p=function(e){return(0,s.Z)("/dms/v1/resellers/types/".concat(e,"/parents"))},m=function(e,t,n){var r=n?"allowedTypes":t?"descendants":"children";return(0,s.Z)("/dms/v1/resellers/types/".concat(e,"/").concat(r))},h=function(e){return(0,s.Z)("/dms/auth/getResellerInfo",{method:"POST",body:e})},v=function(e){return(0,s.Z)("/dms/auth/updateReseller",{method:"POST",body:e})},g=function(e){return(0,s.Z)("/dms/auth/changeResellerType",{method:"POST",body:e})},y=function(e){return(0,s.Z)("/dms/auth/v1/resellerChangeState",{method:"POST",body:e})},b=function(e,t,n){return(0,s.Z)("/dms/v1/lifecycle/dealer/status/".concat(n,"/").concat(t),{method:"POST",body:e})},Z=function(){return(0,s.Z)("/lifecycle/reseller/status/fetch/labels")},w=function(e){return(0,s.Z)("/dms/auth/expirePassword",{method:"POST",body:e})},T=function(e){return(0,s.Z)("/dms/auth/forgetPassword",{method:"POST",body:e})},S=function(e){return(0,s.Z)("/dms/auth/changeParent?newResellerParentId=".concat(e.newResellerParentId,"&resellerId=").concat(e.resellerId),{method:"POST",body:e})},P=function(e){return(0,s.Z)("/dms/auth/generateId",{method:"POST",body:e})},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DMS";return(0,s.Z)("/template/v1/component/".concat(t,"/type/").concat(e))},I=function(e){return(0,s.Z)("/iprs/iprs-complete-check",{method:"POST",body:e})},E=function(e){return(0,s.Z)(e)},C=0,R=null,k=function(e){var t,n,r=new Headers;r.append("authorization",localStorage.getItem("token")||""),r.append("Accept-Language","en-US;en-IN;q=0.9,en-US;q=0.7,en-GB;q=0.6");var o={method:"POST",headers:r,body:e,redirect:"follow"},s="".concat(window.config.protocol,"://").concat(window.config.server,":").concat(window.config.port).concat("/api/dms/auth/addReseller"),l=null===(t=window)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.isAllowedTokenRefresh;return fetch(s,o).then((function(t){var n=t.headers.get("authorization");return n?localStorage.setItem("token",n):l&&C<=0&&localStorage.getItem("token")&&(R=e,D().then((function(e){C=0,R&&k(R).then((function(e){0===e.resultCode&&window.history.back()}))})).catch((function(e){++C}))),t.json()}))},D=function(){var e="".concat(window.config.protocol,"://").concat(window.config.server,":").concat(window.config.port).concat(window.config.service,"/refreshToken");return(0,s.Z)(e,{method:"POST"})},F=function(e){return(0,s.Z)("/dms/v1/customers/?nationalId=".concat(e))},N=function(e){return(0,s.Z)("/lifecycle/reseller/".concat(e,"/transactions"))},A=function(e){return(0,s.Z)("/dms/v1/resellers/updatePayLimit",{method:"PUT",body:e})},j=function(e){return(0,s.Z)("/dms/auth/userAlreadyExists",{method:"POST",body:e})},q=function(e){return(0,s.Z)("/dms/auth/deleteResellerUsers",{method:"DELETE",body:e})},M=function(e){return(0,s.Z)("/dms/auth/updateResellerUsers",{method:"PUT",body:e})},x=function(e){return(0,s.Z)("/dms/auth/addResellerUsers",{method:"POST",body:e})},L=function(e,t){return(0,s.Z)("/groupmanagementsystem/v1/group/".concat(e,"/member"),{method:"POST",body:t})},U=function(e,t){return(0,s.Z)("/groupmanagementsystem/v1/group/".concat(e,"/member?memberIds=").concat(t),{method:"DELETE"})},G=function(e,t,n){return(0,s.Z)("/dms/auth/bulkSearchResellersByAttribute?limit=".concat(t,"&offSet=").concat(n),{method:"POST",body:e})},X=function(){return(0,s.Z)("/nms/api/messageTemplateType/CUSTOM/messages?page=0&size=".concat(a,"&sort=id%3Aasc"))},B=function(){return(0,s.Z)("/scc/v1/frequencies")},W=function(e,t){return(0,s.Z)("/txe/reseller/".concat(e,"SubReseller"),{method:"POST",body:t})}},35005:(e,t,n)=>{"use strict";n.d(t,{j8:()=>o,g4:()=>s,wy:()=>l,t9:()=>a,WY:()=>c,ZV:()=>u,Sb:()=>i});var r=n(84496),o=function(){return(0,r.Z)("/dms/v1/template/dropdown")},s=function(e){return(0,r.Z)("/dms/v1/template/dropdown/".concat(e))},l=function(){return(0,r.Z)("/dms/v1/template/dropdown/fields/all")},a=function(e){return(0,r.Z)("/dms/v1/template/dropdown",{method:"POST",body:e})},c=function(e,t){return(0,r.Z)("/dms/v1/template/dropdown/".concat(t),{method:"PUT",body:e})},u=function(e){return(0,r.Z)("/dms/v1/template/dropdown/byId/".concat(e),{method:"GET"})},i=function(e){return(0,r.Z)("/dms/v1/template/dropdown/".concat(e),{method:"DELETE"})}},26051:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(56470),o=n(11746),s=n(74315),l=n(77162),a=n.n(l),c=n(2411),u=n(96545),i=n(23664),d=n(29609),f=n(91955),p=[],m={};const h=function(e){var t=e.children,n=e.typeId,l=e.limit,h=e.offset,v=(e.totalCount,e.setTotalCount),g=e.setResellerData,y=e.dataSourceUrl,b=e.refresh,Z=void 0!==b&&b,w=c.useState([]),T=(0,s.Z)(w,2),S=T[0],P=T[1],O=c.useState(!1),I=(0,s.Z)(O,2),E=I[0],C=I[1],R=(0,i.Z)(),k=R.showErrorMessage,D=(R.showSuccessMessage,(0,d.useTranslation)().t),F=c.useState([]),N=(0,s.Z)(F,2),A=N[0],j=N[1];c.useEffect((function(){var e;A.length>0&&(m[n]=A),A.length>0&&(null===(e=m[n])||void 0===e?void 0:e.length)===A.length&&(C(!0),setTimeout((function(){return C(!1)}),1e3))}),[A]);var q=function(e){var t={additionalFields:[],resellerData:{resellerTypeId:e,status:"Active"}};C(!0),(0,u.FF)(t,l,h,y).then((function(e){if(0===e.resultCode){var t=(0,f.dh)(e.resellers),n=[].concat((0,o.Z)(p),(0,o.Z)(t));return p=n,v(e.totalCount),j(n),g(n),Promise.resolve(n)}var r=e.resultMessage||"Sorry, No data found";return k(r),Promise.reject(null)})).catch((function(e){return k(e)})).finally((function(){return C(!1)}))};function M(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.map((function(e){return q(e.id)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=c.useCallback((function(){if(n){var e;if(m[n]&&(null===(e=m[n])||void 0===e?void 0:e.length)>0&&!Z)return;C(!0),(0,u.iA)(n).then((function(e){0===e.resultCode?P(e.types):k(e.resultDescription||D("noDataFoundError","Something wrong, No data found."))})).catch((function(e){return k(e)})).finally((function(){return C(!1)}))}}),[n]);function U(){j(p=[])}return c.useEffect((function(){A.length>0&&U(),L()}),[n]),c.useEffect((function(){if(S&&S.length>0){var e;if(m[n]&&(null===(e=m[n])||void 0===e?void 0:e.length)>0&&!Z)return;M(S)}}),[S]),c.useEffect((function(){M(S)}),[h]),c.useEffect((function(){U()}),[]),c.createElement(c.Fragment,null,t({resellersData:m[n]||A,loading:E}))}},88591:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(7560),o=n(51119),s=n(11746),l=n(74315),a=n(2411),c=n(70773),u=n(29609),i=n(26051),d=n(77954),f=n(4614),p=n(86619),m=n(79692),h=n(12420);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,m.Z)((function(e){return(0,h.Z)({positionTop:{marginTop:e.spacing(4)},autoElement:{marginTop:e.spacing(2),"& .MuiInputLabel-filled.MuiInputLabel-shrink.MuiInputLabel-marginDense":{transform:"translate(12px, 5px) scale(0.75)"},"& .MuiInputBase-root":{paddingTop:e.spacing(1.5)},"& .MuiFormHelperText-root":{marginLeft:0}}})}));const b=function(e){var t,n,o=e.name,m=e.value,h=e.handleChange,v=e.resellerType,b=e.label,Z=e.helperText,w=e.required,T=void 0!==w&&w,S=e.disabled,P=void 0!==S&&S,O=e.errors,I=void 0===O?{}:O,E=e.dataSourceUrl,C=e.type,R=void 0===C?"dropdown":C,k=e.getParentReseller,D=e.refresh,F=void 0!==D&&D,N=e.editView,A=void 0!==N&&N,j=e.canChangeResellerType,q=void 0!==j&&j,M=e.mutable,x=void 0===M||M,L=(null===(t=window.config)||void 0===t?void 0:t.resellerAdditionalConfig.dropdownLimit)||50,U=(null===(n=window.config)||void 0===n?void 0:n.resellerAdditionalConfig.dropdownOffset)||0,G=(0,u.useTranslation)().t,X=y(),B=a.useState(L),W=(0,l.Z)(B,2),H=W[0],_=(W[1],a.useState(0)),V=(0,l.Z)(_,2),Q=V[0],z=V[1],Y=a.useState(0),K=(0,l.Z)(Y,2),J=K[0],$=K[1],ee=a.useState([]),te=(0,l.Z)(ee,2),ne=te[0],re=te[1],oe=a.useRef(null);return a.useEffect((function(){if(m&&ne){var e,t=ne.filter((function(e){return e.resellerId===m}));k&&k(null===(e=t[0])||void 0===e?void 0:e.parentResellerId)}}),[ne]),b=b||G("parentResellerCode","Parent Reseller Code"),Z=I[o]||Z||G("selectParentResellerCode","Select Parent Reseller Code"),v?a.createElement(i.Z,{typeId:v,dataSourceUrl:E,limit:H,offset:Q,totalCount:J,setTotalCount:$,setResellerData:re,refresh:F},(function(e){var t=e.resellersData,n=e.loading,l=[{resellerId:"",resellerName:G("pleaseSelect_","Please select",{fieldName:"parent"})}].concat((0,s.Z)(t)).map((function(e){return{value:e.resellerId,key:"".concat(e.resellerName," ").concat(e.resellerId?"("+e.resellerId+")":"")}})),u=l.find((function(e){return e.value==m}))||l[0];return a.createElement(a.Fragment,null,"text"!==R||!A||x||q?"autocomplete"==R?a.createElement(d.ZP,{id:"reseller-parents-drop-down",disabled:P,fullWidth:!0,className:X.autoElement,options:l,"aria-required":T,getOptionLabel:function(e){return e.key},defaultValue:m&&u,getOptionSelected:function(e,t){return e.value==m},size:"small",value:m&&u,onChange:function(e,n){var r;h(n||e);var o=t.filter((function(e){return e.resellerId===(null==n?void 0:n.value)}));k&&k(null===(r=o[0])||void 0===r?void 0:r.parentResellerId)},ref:oe,disableClearable:n,ListboxProps:{onScroll:function(e){if(Math.abs(e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop)<1&&oe.current&&!n&&H<=J&&Q<=J){var t=new IntersectionObserver((function(e){e[0].isIntersecting&&(t.unobserve(e[0].target),z((function(e){return e+U})))}),{threshold:1});oe.current&&t.observe(oe.current)}}},renderInput:function(e){return a.createElement(p.Z,(0,r.Z)({},e,{name:o,error:!!I[o],variant:"filled",label:b,required:T,helperText:Z,InputProps:g(g({},e.InputProps),{},{endAdornment:a.createElement(a.Fragment,null,n?a.createElement(f.Z,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))}}):a.createElement(c.SeamlessDropDown,{id:"reseller-parents-drop-down",required:T,name:o,fullWidth:!0,disabled:P,error:!!I[o],value:m,label:b,helperText:Z,onChange:function(e){var n,r=t.filter((function(t){return t.resellerId===e.target.value}));k&&k(null===(n=r[0])||void 0===n?void 0:n.parentResellerId),h(e)},options:[{resellerId:"",resellerName:G("pleaseSelect_","Please select",{fieldName:"parent"})}].concat((0,s.Z)(t)).map((function(e){return{value:e.resellerId,key:"".concat(e.resellerName," ").concat(e.resellerId?"("+e.resellerId+")":"")}}))}):a.createElement(c.SeamlessInput,{id:"reseller-parent-id-input",disabled:!0,fullWidth:!0,className:X.autoElement,label:b,helperText:Z,value:m,required:T,error:!!I[o]}))})):null}},23664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(19721),o=n(29609);const s=function(){var e=(0,r.useSnackbar)().enqueueSnackbar,t=(0,o.useTranslation)().t;function n(e){var n=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(n=e[t])})),n}return{showSuccessMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"warning"})}}}}}]);