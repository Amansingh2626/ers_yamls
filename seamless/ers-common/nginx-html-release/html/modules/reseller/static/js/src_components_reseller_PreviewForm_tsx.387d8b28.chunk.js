/*! For license information please see src_components_reseller_PreviewForm_tsx.387d8b28.chunk.js.LICENSE.txt */
(self.webpackChunk_unified_reseller=self.webpackChunk_unified_reseller||[]).push([["src_components_reseller_PreviewForm_tsx","node_modules_object-assign_index_js"],{61357:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},7560:(e,t,n)=>{"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:()=>r})},74315:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70237);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},90929:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:()=>r})},70237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(61357);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},16967:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r,i=n(7560),o=n(90929),a=n(2411),l=n(60905),c=n(90436),u=n(79692),s=n(12420),d=n(9692),f=n(29609),p=n(78205),m=n.n(p),v=null===(r=window)||void 0===r?void 0:r.config,y=null==v?void 0:v.currency,g=(null==v?void 0:v.currencyLocale)||"en-US",b=(0,u.Z)((function(e){return(0,s.Z)({fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{fontSize:14,overflowWrap:"break-word"}})}));const h=function(e){var t,n=e.headingProps,r=void 0===n?{xs:12,sm:3}:n,u=e.valueProps,s=void 0===u?{xs:12,sm:3}:u,p=e.title,v=e.skipEmptyCheck,h=void 0!==v&&v,E=e.parseType,_=void 0===E?"NONE":E,k=e.value,w=b(),x=(0,f.useTranslation)().t,O=m()().dateFormatter;if((!k||"string"==typeof k&&"NULL"==(null===(t=k)||void 0===t?void 0:t.toUpperCase()))&&!h)return null;if("CURRENCY"===_&&k){var j,S,Z=y,T=0,C=!1;k&&"object"===(0,o.Z)(k)?(Z=Z,T=(null===(j=k)||void 0===j?void 0:j.amount)||0,C=null!==(S=k.sign)&&void 0!==S&&S):!k||"string"!=typeof k&&"number"!=typeof k||(T=Number(k),Z=y);try{k=(k=new Intl.NumberFormat(g,{style:"currency",currency:Z,signDisplay:"always"}).format(T)).replace("+",""),!C&&(k=k.replace(Z,""))}catch(e){var N;k=(null===(N=k)||void 0===N?void 0:N.amount)||k}}if("DATE"===_&&k)if("string"==typeof k&&(k.includes("T")||k.includes("-")))k=k.split("T")[0];else if(k="string"!=typeof k||k.includes("T")?k:parseInt(k))try{k=O(k,"YYYY-MM-DD HH:mm:ss")}catch(e){}return k&&Array.isArray(k)&&(k=k.join(", ")),a.createElement(a.Fragment,null,a.createElement(l.Z,(0,i.Z)({item:!0},r),a.createElement(c.Z,{className:w.fieldHeading},x(p))),a.createElement(l.Z,(0,i.Z)({item:!0},s),a.createElement(c.Z,{className:w.fieldValue},"FILE"===_&&k?a.createElement("a",{href:(0,d.getSrc)(k),target:"_blank"},x("seeAttachment")):k)))}},9714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(74315),i=n(2411),o=n(27616),a=n(70660),l=n(8284),c=n(33553),u=n(60905),s=n(90436),d=n(79692),f=n(12420),p=n(29609),m=n(16967),v=n(64566),y=n(90929),g=n(78205),b=n.n(g),h=(0,d.Z)((function(e){return(0,f.Z)({btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(3)},colHead:{textTransform:"capitalize",fontWeight:"bold"},rowSpacing:{marginBottom:e.spacing(2)},row:{marginBottom:e.spacing(2),marginTop:e.spacing(2),marginLeft:e.spacing(1),marginRight:e.spacing(1)},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14,wordBreak:"break-all","& .import-file-name":{textTransform:"none !important"}},flexBox:{display:"flex",alignItems:"center"},fullWidth:{width:"100%"},boxSize:{width:500,height:250,margin:e.spacing(1)},rowSpace:{marginTop:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(2)},box:{backgroundColor:"rgb(245, 245, 245)!important"},subHeading:{fontSize:13,marginTop:e.spacing(2),marginBottom:e.spacing(1)}})})),E={};const _=function(e){var t=e.template,n=e.dataHandler,d=e.componentState,f=e.campaignData,g=e.customWidgetsData,_=(e.loading,h()),k=(0,p.useTranslation)().t,O=i.useState("Profile Information"),j=(0,r.Z)(O,2),S=j[0],Z=j[1],T=b()().dateFormatter;function C(e,t){null==e||e.forEach((function(e){E["".concat(t,"__").concat(e.value)]=e.name}))}function N(e,t){return((null==e?void 0:e.split(","))||[]).map((function(e){return E["".concat(t,"__").concat(e)]})).join(", ")}function I(e,t){return E["".concat(t,"__").concat(e)]||e}if(i.useEffect((function(){var e,t;return n(null,{uid:(null==f||null===(e=f[1])||void 0===e?void 0:e.uid)||(null==f||null===(t=f.profileInformation)||void 0===t?void 0:t.uid),fromSummaryScreen:!0})}),[]),i.useEffect((function(){var e,t=(null==d?void 0:d.dropdownFieldsOptions)||{};if(Object.keys(t),(null===(e=d.allWidgets)||void 0===e?void 0:e.length)>0){var n=d.allWidgets,r=[];null==n||n.forEach((function(e){["dropdown","radio","multiselect","autocomplete"].includes(e.type)&&C(e.options||[],e.id),"multiselect"===e.type&&r.push(e.id)}))}for(var i in t)C(t[i]||[],i)}),[d]),null==t||!t.sections)return null;var M="",P="",W="";return i.createElement(c.Z,{display:"flex",flexDirection:"column"},t.sections.map((function(e){var n,r,c;if("Preview"===e.customWidget)return null;var f,p=function(e,t){var n,r={};return(null===(n=e.widgets)||void 0===n?void 0:n.length)>0&&e.widgets.forEach((function(e){var n,i,o,a=e.id;t[a]&&(r[a]=t[a],"endDate"===a&&(0,y.Z)(r[a])&&(r[a]=new Date(r[a]).toISOString()),"includedRetailers"===a&&(null===(n=t[a])||void 0===n?void 0:n.length)>0&&(r[a]=null===(i=t[a])||void 0===i||null===(o=i.map((function(e){return null==e?void 0:e.retailerMsisdn})))||void 0===o?void 0:o.join(", ")))})),r}(e,d.values),b=parseInt(e.id),h={},O={},j=[],C=[],D=[],A=[],F={},R={};return e.customWidget&&e.widgets.forEach((function(t){if(h[t.id]=t,O[t.id]=t.placeholder,"BusinessRule"===e.customWidget)"kpi[]"===t.fieldType&&j.push(t),"kpi[]"===t.fieldType&&C.push(t.id),"kpiEvent[]"===t.fieldType&&D.push(t),"kpiEvent[]"===t.fieldType&&A.push(t),F=g.BusinessRule;else if("CommissionFormula"===e.customWidget){var n,r,i,o,a;R=g.CommissionFormula;var l=(null==d||null===(n=d.values)||void 0===n?void 0:n.includedRetailers.length)>0?"".concat(null==d||null===(r=d.values)||void 0===r?void 0:r.retailerTypes,",other"):null==d||null===(i=d.values)||void 0===i?void 0:i.retailerTypes;M=N(l,"retailerTypes"),P=I(null===(o=R)||void 0===o?void 0:o.commissionCriteria,"commissionCriteria"),W=I(null===(a=R)||void 0===a?void 0:a.commissionDefinitionCriteria,"commissionDefinitionCriteria")}else e.customWidget})),i.createElement(o.Z,{square:!0,expanded:S===e.title,onChange:(f=e.title,function(e,t){Z(!!t&&f)}),className:_.fullWidth},i.createElement(l.Z,{"aria-controls":"panel2d-content",id:"panel2d-header",expandIcon:i.createElement(v.Z,null)},i.createElement(s.Z,{variant:"subtitle1",color:"primary"},e.title)),i.createElement(a.Z,null,!e.customWidget&&i.createElement(u.Z,{container:!0,spacing:3,className:_.row,alignItems:"center"},e.widgets.map((function(e){var t,n=p[e.id];return Array.isArray(n)&&0===n.length&&(n=""),["dropdown","radio","autocomplete"].includes(e.type)&&(n=E["".concat(e.id,"__").concat(n)]||n),"multiselect"===e.type&&n&&(n=n.includes(",")?N(n,e.id):I(n,e.id)),"date"===e.type&&n&&(n=T(n,"YYYY-MM-DD")),null!==(t=e.validation)&&void 0!==t&&t.skipInPreview?null:i.createElement(m.default,{title:e.placeholder||k("".concat(e.id)),key:e.id,value:n,skipEmptyCheck:!1})}))),e.customWidget&&4==b&&i.createElement(u.Z,{container:!0,spacing:3,className:_.row,alignItems:"center"},i.createElement(m.default,{title:O.targetSelectionMode,value:t.sections[3].widgets[0].defaultValue,skipEmptyCheck:!0}),i.createElement(u.Z,{item:!0,xs:12}),null===(n=Object.keys(F))||void 0===n?void 0:n.map((function(e){var t,n=F[e]||{};return i.createElement(i.Fragment,{key:e},i.createElement(m.default,{title:O.kpiName,value:null==n?void 0:n.kpiName,valueProps:{sm:9,xs:9},skipEmptyCheck:!0}),w(n,O,E,["kpiName","events"]),i.createElement(u.Z,{item:!0,xs:12}),null===(t=Object.keys(n.events))||void 0===t?void 0:t.map((function(e){var t=n.events[e];return i.createElement(i.Fragment,{key:e},w(t,O,E),parseInt("".concat(e))!==Object.keys(n.events).length-1&&i.createElement(u.Z,{item:!0,xs:12}))})),i.createElement(u.Z,{item:!0,xs:12},i.createElement("hr",null)))}))),e.customWidget&&5==b&&i.createElement(u.Z,{container:!0,spacing:3,className:_.row,alignItems:"center"},i.createElement(m.default,{title:O.commissionAmountRetailer,value:null===(r=R)||void 0===r?void 0:r.commissionAmountRetailer}),i.createElement(m.default,{title:O.commissionAmount,value:null===(c=R)||void 0===c?void 0:c.commissionAmount}),i.createElement(m.default,{title:O.commissionCriteria,value:P}),i.createElement(m.default,{title:O.commissionDefinitionCriteria,value:W}),i.createElement(u.Z,{item:!0,xs:12}),x(R.commissionData,O,E,M,d.values.campaignType)),e.customWidget&&6==b&&i.createElement(u.Z,{container:!0,spacing:3,className:_.row,alignItems:"center"},(null==g?void 0:g.NotificationManager)&&Object.keys(null==g?void 0:g.NotificationManager).map((function(e){var t=null==g?void 0:g.NotificationManager[e],n=Object.keys(null==g?void 0:g.NotificationManager[e]);return i.createElement(u.Z,{container:!0,key:e,spacing:3},i.createElement(u.Z,{item:!0,sm:12},i.createElement(s.Z,{variant:"subtitle2",color:"secondary",className:_.subHeading},k(e))),n.map((function(e,n){var r;if(0===n)return null;var o="smsTemplateFrequency"!==e&&"emailTemplateFrequency"!==e||null===t[e]?t[e]:null==g?void 0:g.frequencyHashMap[null===(r=t[e])||void 0===r?void 0:r.frequencyId];return i.createElement(m.default,{key:e,title:e,value:o})})))})))))})))};function k(e,t,n){var r=e[t];return r&&"string"==typeof r?((null==r?void 0:r.split(","))||[]).map((function(e){var r;return null!==(r=n["".concat(t,"__").concat(e)])&&void 0!==r?r:e})).join(", "):n["".concat(t,"__").concat(r)]||r}var w=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[];for(var a in e)if(!r.includes(a)){var l=k(e,a,n);t[a]&&o.push(i.createElement(m.default,{key:a,title:t[a],value:l}))}return o},x=function(e,t,n,r,o){var a=[];if("3"===o)return Object.keys(e).forEach((function(n){for(var r=function(r){Object.keys(e[n][r]).forEach((function(o){"kpi"!==o&&a.push(i.createElement(m.default,{key:"".concat(n,"-Slab ").concat(r,"-").concat(o),title:"".concat(n," Slab ").concat(r+1," ").concat(t[o]),value:e[n][r][o],skipEmptyCheck:!1}))}))},o=0;o<e[n].length;++o)r(o)})),a;for(var l in e)for(var c in e[l]){var u,s,d=n["".concat(c,"__").concat(null===(u=e[l])||void 0===u?void 0:u[c])]||(null===(s=e[l])||void 0===s?void 0:s[c]),f=t[c]||c,p=l.split("_").length>1?"".concat(n["retailerTypes__".concat(l.split("_")[0])]," ").concat(l.split("_")[1],"  ").concat(f):"".concat(n["retailerTypes__".concat(l)]||l," ").concat(f);a.push("uid"!==f?i.createElement(m.default,{key:l,title:r.length?p:"".concat(l," ").concat(f),value:d,skipEmptyCheck:!0}):null)}return a}},37320:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,l,c=i(e),u=1;u<arguments.length;u++){for(var s in a=Object(arguments[u]))n.call(a,s)&&(c[s]=a[s]);if(t){l=t(a);for(var d=0;d<l.length;d++)r.call(a,l[d])&&(c[l[d]]=a[l[d]])}}return c}},11837:(e,t,n)=>{"use strict";n(37320);var r=n(69151),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,s=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(s=t.ref),t)l.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:s,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},52322:(e,t,n)=>{"use strict";e.exports=n(11837)},64566:(e,t,n)=>{"use strict";var r=n(13645),i=n(87908);t.Z=void 0,i(n(88901));var o=r(n(2108)),a=n(52322),l=(0,o.default)((0,a.jsx)("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=l},13645:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},87908:(e,t,n)=>{var r=n(54791).default;function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},54791:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},2108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(56009)}}]);