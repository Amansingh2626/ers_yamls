(self.webpackChunk_unified_reseller=self.webpackChunk_unified_reseller||[]).push([["src_components_reseller_ResellerSearchForm_tsx-webpack_sharing_consume_default_react_react-we-f0d55c","src_components_ConfirmationDialog_index_tsx"],{51057:(e,t,l)=>{"use strict";l.d(t,{Z:()=>s});var a=l(74315),n=l(2411),r=l(96545),i=l(23664),o=l(29609);const s=function(e){var t=e.children,l=e.isDescendants,s=void 0!==l&&l,d=e.resellerTypeId,u=e.onlyAllowedTypes,c=n.useState(!1),m=(0,a.Z)(c,2),p=m[0],v=m[1],f=(0,i.Z)().showErrorMessage,E=(0,o.useTranslation)().t,g=n.useState([]),h=(0,a.Z)(g,2),S=h[0],R=h[1],y=n.useCallback((function(){d&&(v(!0),(0,r.eW)(d,s,u).then((function(e){0===e.resultCode?R(e.types):f(e.resultDescription||E("noDataFoundError","Something wrong, No data found."))})).catch((function(e){return f(e)})).finally((function(){return v(!1)})))}),[d]);return n.useEffect((function(){y()}),[d]),n.createElement(n.Fragment,null,t({resellerTypes:S,loading:p}))}},12541:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var a=l(11746),n=l(2411),r=l(70773),i=l(29609),o=l(98069),s=l(51057),d=l(6277),u=l(38670),c=null;const m=function(e){var t,l,m,p,v,f,E=e.name,g=e.value,h=e.handleChange,S=e.resellerType,R=e.onlyAllowedTypes,y=e.label,T=e.classes,b=e.helperText,D=e.required,_=void 0!==D&&D,L=e.disabled,C=void 0!==L&&L,w=e.editView,A=void 0!==w&&w,I=e.isDescendants,O=void 0!==I&&I,N=e.errors,Z=void 0===N?{}:N,P=(0,i.useTranslation)().t,k=(0,u.useSelector)((function(e){return e.auth})).user;if(k&&null!==(t=k.info)&&void 0!==t&&t.resellerData&&(c=null===(v=k.info)||void 0===v||null===(f=v.resellerData)||void 0===f?void 0:f.resellerTypeId),S=null!==(l=S)&&void 0!==l?l:c,y=null!==(m=y)&&void 0!==m?m:P("childResellerType","Child Reseller type"),b=null!==(p=b)&&void 0!==p?p:P("selectChildResellerCode","Select Child Reseller type"),!S)return null;var F=[{id:"",name:P("pleaseSelect_","Please select",{fieldName:"reseller types"})}];return A&&g&&C&&F.push({id:g,name:g}),n.createElement(s.Z,{isDescendants:O,resellerTypeId:S,onlyAllowedTypes:R},(function(e){var t=e.resellerTypes,l=e.loading;return n.createElement(n.Fragment,null,l?n.createElement(o.Z,null):n.createElement(r.SeamlessDropDown,{id:"children-reseller-types-drop-down",required:_,disabled:C,name:E,fullWidth:!0,error:!!Z[E],value:g,label:y,helperText:b,onChange:h,className:T&&(0,d.default)(T.element),options:[].concat(F,(0,a.Z)(t)).map((function(e){return{value:e.id,key:"".concat(e.name)}}))}))}))}},54462:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var a=l(2411),n=l(79692),r=l(12420),i=l(70773),o=l(29609),s=l(38724),d=l(6277),u=l(4614),c=(0,n.Z)((function(e){return(0,r.Z)({root:{marginTop:e.spacing(5),width:"100%",padding:e.spacing(2)},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{}},fontHeavy:{fontWeight:e.typography.fontWeightBold},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},btnSpace:{marginRight:e.spacing(2)},content:{textAlign:"left",maxHeight:400,minWidth:550,overflowY:"scroll"},progress:{marginLeft:"1rem"}})}));const m=function(e){var t=e.open,l=e.onClose,n=e.onOk,r=e.dialogTitle,m=e.dialogDescription,p=e.children,v=e.maxWidth,f=void 0===v?"md":v,E=e.contentStyle,g=void 0===E?"":E,h=e.disableBackdropClick,S=void 0!==h&&h,R=e.loading,y=void 0!==R&&R,T=e.closeButtonText,b=void 0===T?null:T,D=e.okButtonText,_=void 0===D?null:D,L=c(),C=(0,o.useTranslation)().t;return a.createElement(i.SeamlessDialog,{id:"search-reseller-children-confirmation-dialog",open:t,onClose:l,className:L.dialogWrapper,maxWidth:f,fullWidth:!0,disableBackdropClick:S},a.createElement(i.SeamlessContainer,{title:r,description:m},a.createElement(a.Fragment,null,p&&a.createElement(s.Z,{id:"dailog-content-box",className:(0,d.default)(L.content,g)},p),a.createElement(i.SeamlessButton,{id:"close-button",type:"button",variant:"outlined",color:"primary",className:L.btnSpace,onClick:l},b||C("closeButton")),n&&a.createElement(i.SeamlessButton,{id:"ok-button",type:"button",disabled:y,variant:"contained",color:"primary",onClick:n},_||C("yesConfirmationButton"),y&&a.createElement(u.Z,{color:"inherit",size:14,thickness:6,className:L.progress})))))}},7299:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>U});var a=l(7560),n=l(51119),r=l(11746),i=l(74315),o=l(2411),s=l(9699),d=l(79692),u=l(12420),c=l(50835),m=l(70773),p=l(33553),v=l(4614),f=l(21324),E=l(5806),g=l(60905),h=l(86619),S=l(6277),R=l(27616),y=l(70660),T=l(8284),b=l(90436),D=l(64566),_=l(98770),L=l(9193),C=l(91955),w=l(29609),A=l(48049),I=l(38670),O=l(44104),N=l.n(O),Z=l(67801),P=l(96545),k=l(19721),F=l(77954);function W(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function x(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?W(Object(l),!0).forEach((function(t){(0,n.Z)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):W(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var M=(0,d.Z)((function(e){return(0,u.Z)({form:{display:"flex",flexDirection:"column",flexWrap:"wrap"},dropdown:{marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(3)},element:{margin:e.spacing(1)},input:{margin:e.spacing(1)},button:{},label:{margin:e.spacing(1)},root:{width:"100%",margin:e.spacing(1)},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,fontWeight:"bold"},progress:{marginLeft:"8px"},spacingfLeft:{marginLeft:e.spacing(.5)}})})),V=null,B=null,j=null;const U=function(e){var t,l,n,d=e.data,u=e.loading,O=e.metaData,W=void 0===O?{}:O,U=e.onFormSubmit,H=e.getTemplateHandler,Y=e.customerCare,q=void 0!==Y&&Y,z=M(),G=(0,w.useTranslation)().t,K=N()().checkPermission,$=(0,A.useHistory)(),X=(0,I.useSelector)((function(e){return e.auth})).user,J=o.useState("panel1"),Q=(0,i.Z)(J,2),ee=Q[0],te=Q[1],le=o.useState(!1),ae=(0,i.Z)(le,2),ne=ae[0],re=ae[1],ie=o.useState(!1),oe=(0,i.Z)(ie,2),se=oe[0],de=oe[1],ue=o.useState([]),ce=(0,i.Z)(ue,2),me=ce[0],pe=ce[1],ve=o.useState(!1),fe=(0,i.Z)(ve,2),Ee=fe[0],ge=fe[1],he=o.useState([]),Se=(0,i.Z)(he,2),Re=Se[0],ye=Se[1],Te=o.useState(""),be=(0,i.Z)(Te,2),De=be[0],_e=be[1],Le=o.useState(""),Ce=(0,i.Z)(Le,2),we=(Ce[0],Ce[1],o.useState([])),Ae=(0,i.Z)(we,2),Ie=Ae[0],Oe=Ae[1],Ne=(0,k.useSnackbar)().enqueueSnackbar,Ze=W.lifelineStatusFlag,Pe=void 0!==Ze&&Ze,ke=W.lifelineStates,Fe=void 0===ke?{}:ke,We=Object.keys(Fe),xe=null===(t=window)||void 0===t||null===(l=t.config)||void 0===l?void 0:l.resellerAdditionalConfig,Me=(null==xe?void 0:xe.hideDataForResellerDetail)||[],Ve=(null==xe?void 0:xe.isExternalCodeSearch)||!1,Be=xe.resellerSearchDomainBasedDropdowns||!1,je=window.config.report.resellerTypesForDefaultDomain||[],Ue=(0,o.useRef)(null),He=[{value:"",key:G("dropdownSelectPlaceholder")}].concat((0,r.Z)(We.map((function(e){return{value:e,key:G("".concat(e,"Balance"))}})))),Ye=[{value:"",key:G("dropdownSelectPlaceholder")}].concat((0,r.Z)(We.map((function(e){return{value:e,key:G("".concat(e,"Inventory"))}})))),qe={status:s.Z_()};Pe&&(qe={balanceStatus:s.Z_(),inventoryStatus:s.Z_()},delete d.status);var ze,Ge,Ke=s.Ry().shape({resellerData:s.Ry(x({resellerId:s.Z_(),resellerMSISDN:s.Z_(),resellerTypeId:s.Z_(),contractId:s.Z_(),isAutoTransfer:s.Rx()},qe)),additionalFields:s.IX().of(s.Ry().shape({name:s.Z_(),value:s.Z_()}))}),$e=(0,c.TA)({initialValues:d,validationSchema:Ke,onSubmit:function(e){return U&&lt(e)},enableReinitialize:!0}),Xe=$e.values,Je=$e.handleChange,Qe=$e.handleSubmit,et=$e.handleReset,tt=$e.setFieldValue,lt=function(e){U&&U(e,null,{},Je)};X&&null!==(n=X.info)&&void 0!==n&&n.resellerData&&(j=null===(ze=X.info)||void 0===ze?void 0:ze.resellerData,B=null===(Ge=j)||void 0===Ge?void 0:Ge.resellerTypeId),o.useEffect((function(){var e,t,l,a,n,r=null==X||null===(e=X.info)||void 0===e||null===(t=e.additionalFields)||void 0===t?void 0:t.filter((function(e){return"accessibleRegionNames"===(null==e?void 0:e.name)})),i=[];if(null===(l=r[0])||void 0===l||null===(a=l.value)||void 0===a||null===(n=a.split(","))||void 0===n||n.map((function(e){return i.push({key:e,value:e})})),i.length>0&&i.unshift({key:"Choose",value:" "}),Oe(i),Be){var o,s,d,u,c=[],m=null==X||null===(o=X.info)||void 0===o||null===(s=o.additionalFields)||void 0===s?void 0:s.filter((function(e){return"domainName"===(null==e?void 0:e.name)})),p=null==X||null===(d=X.info)||void 0===d||null===(u=d.additionalFields)||void 0===u?void 0:u.filter((function(e){return"domainCode"===(null==e?void 0:e.name)}));je.includes(X.resellerType)&&m.length>0&&p.length>0?(c.push({key:m[0].value,value:p[0].value}),pe(c),_e(p[0].value),Je({target:{value:p[0].value,name:"domainName"}})):(0,P.Nk)().then((function(e){0!==e.resultCode&&Ne(e.resultMessage,{variant:"error"}),(null==e?void 0:e.groups)&&(null==e||e.groups.map((function(e){null!=e&&e.description&&c.push({key:e.description,value:e.name})}))),c.unshift({key:"Choose",value:""}),pe(c)})).catch((function(e){Ne(e.message,{variant:"error"}),pe([])}))}}),[]),o.useEffect((function(){De&&(0,P.Fg)(De).then((function(e){var t,l;0!==e.resultCode&&Ne(e.resultMessage,{variant:"error"});var a=[];(null==e||null===(t=e.group)||void 0===t?void 0:t.members)&&(null==e||null===(l=e.group)||void 0===l||l.members.map((function(e){a.push({key:e.name,value:e.userId})}))),ye(a)})).catch((function(e){Ne(e.message,{variant:"error"}),ge(!1)})).finally((function(){return ge(!0)}))}),[De]),o.useEffect((function(){var e=Xe.resellerTypeId;""===e&&(V=null),Je({target:{name:"additionalFields",value:[]}}),Je({target:{name:"contractId",value:""}}),e&&H&&(de(!0),H(e,(function(e,t){V=t||null,de(!1)})))}),[Xe.resellerTypeId]);var at=o.useMemo((function(){return(0,C.em)(V).filter((function(e){var t,l=(null===(t=e.validation)||void 0===t?void 0:t.hideInSearchForm)||!1;return"additionalInformation"===e.fieldType&&!l}))}),[V]),nt=o.useMemo((function(){return(0,C.Mi)(at,{},!1,{defaultValue:!1})}),[at]);return o.createElement("div",{className:z.root},o.createElement(R.Z,{expanded:"panel1"===ee,onChange:("panel1",function(e,t){te(!!t&&"panel1")})},o.createElement(T.Z,{expandIcon:o.createElement(D.Z,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},o.createElement(b.Z,{className:z.heading},o.createElement("strong",null,G("advancedSearch")))),o.createElement(y.Z,null,o.createElement(p.Z,{display:"flex",className:z.root,flexDirection:"column"},o.createElement(p.Z,{display:"flex",flexDirection:"row",alignItems:"center"},!q&&o.createElement(m.SeamlessInput,{fullWidth:!0,className:(0,S.default)(z.input),name:"resellerId",value:Xe.resellerId,onChange:Je,label:G("resellerId","Dealer code")}),o.createElement(m.SeamlessInput,{fullWidth:!q,className:(0,S.default)(z.input),name:"resellerMSISDN",value:Xe.resellerMSISDN,onChange:Je,label:G("resellerMSISDN","Reseller MSISDN")}),!q&&o.createElement(m.SeamlessInput,{fullWidth:!0,className:(0,S.default)(z.input),name:"resellerName",value:Xe.resellerName,onChange:Je,label:G("resellerName","Reseller Name")}),Ve&&!q&&o.createElement(m.SeamlessInput,{fullWidth:!0,className:(0,S.default)(z.input),name:"externalCode",value:Xe.externalCode,onChange:Je,label:G("externalCode","External Code")}),!Pe&&!q&&o.createElement(m.SeamlessDropDown,{id:"status-drop-down",fullWidth:!0,className:(0,S.default)(z.dropdown),label:G("status"),helperText:"Please select status for the reseller",options:[{value:"ALL",key:"ALL"},{value:"Active",key:"Active"},{value:"Blocked",key:"Blocked"},{value:"Deactivated",key:"Deactivated"},{value:"Frozen",key:"Frozen"}],name:"status",value:Xe.status,onChange:Je})),o.createElement(p.Z,{display:"flex",flexDirection:"row",alignItems:"center"},Pe&&!q&&o.createElement(o.Fragment,null,o.createElement(m.SeamlessDropDown,{id:"status-drop-down",fullWidth:!0,className:(0,S.default)(z.dropdown),label:G("balanceStatus"),helperText:"Please select the balance status",options:He,name:"balanceStatus",value:Xe.balanceStatus,onChange:Je}),o.createElement(m.SeamlessDropDown,{id:"status-drop-down",fullWidth:!0,className:(0,S.default)(z.dropdown),label:G("inventoryStatus"),helperText:"Please select inventory status",options:Ye,name:"inventoryStatus",value:Xe.inventoryStatus,onChange:Je}))),o.createElement(g.Z,{container:!0,spacing:3},(null==Ie?void 0:Ie.length)>0&&o.createElement(g.Z,{item:!0,sm:3},o.createElement(m.SeamlessDropDown,{id:"region-dropdown",options:Ie||[],fullWidth:!0,className:(0,S.default)(z.dropdown),label:G("region"),name:"regionName",onChange:Je,value:Xe.regionName})),Be&&!q&&o.createElement(g.Z,{item:!0,sm:3},o.createElement(m.SeamlessDropDown,{id:"domain-name-dropdown",fullWidth:!0,className:(0,S.default)(z.dropdown),label:G("domainName"),helperText:G("domainNameHelper"),options:me,name:"domainName",value:De,onChange:function(e){_e(e.target.value);var t=Ue.current.getElementsByClassName("MuiAutocomplete-clearIndicator")[0];t&&t.click()}})),Be&&Ee&&!q&&o.createElement(g.Z,{item:!0,sm:3},o.createElement(F.ZP,{multiple:!0,limitTags:2,id:"domain-associates-dropdown",className:(0,S.default)(z.dropdown),options:Re,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.key},getOptionSelected:function(e,t){return e.value===t.value},onChange:function(e,t){var l=[];t.map((function(e){l.push(e.value)})),Je({target:{value:l.toString(),name:"domainType"}})},renderInput:function(e){return o.createElement(h.Z,(0,a.Z)({},e,{label:G("domainType"),placeholder:G("domainTypeHelper")}))},ref:Ue}))),o.createElement(p.Z,null,K(Z.Z.AutoTransfer)&&!q&&o.createElement(E.Z,{className:z.spacingfLeft,control:o.createElement(f.Z,{checked:Xe.isAutotransfer,onChange:function(e){tt("isAutotransfer",e.target.checked)},name:"isAutotransfer",inputProps:{"aria-label":"primary checkbox"}}),label:G("autotransfer")}),o.createElement(m.SeamlessButton,{onClick:function(){V=null,et(Xe),q?$.push("/home/customercare/resellers"):$.push("/home/reseller/resellers/children")},className:(0,S.default)(z.element,z.button),color:"secondary",variant:"outlined"},G("resetSearch","Reset Search")),!q&&o.createElement(m.SeamlessButton,{onClick:function(e){return re(!0)},className:(0,S.default)(z.element,z.button),color:"default",disabled:u,variant:"outlined"},o.createElement(_.Z,{fontSize:"small",style:{marginRight:10,marginLeft:-10}}),G("addMoreFilters","Add more filters")),o.createElement(m.SeamlessButton,{onClick:function(e){if("ALL"===Xe.status&&(Xe.status=void 0),De&&(null==Xe?void 0:Xe.additionalFields)&&(null==Xe||Xe.additionalFields.push({name:"domainCode",value:De})),q&&""===Xe.resellerMSISDN)return Ne("Please write reseller msisdn",{variant:"error"});Qe()},className:(0,S.default)(z.element,z.button),disabled:u,color:"primary",variant:"contained"},G("search","Search"),u&&o.createElement(v.Z,{color:"inherit",size:14,thickness:6,className:z.progress})))))),o.createElement(L.M,{open:ne,title:"Search Reseller by additional fields",description:"Following additional fields for ".concat(Xe.resellerTypeId),setOpen:re,data:V,resellerType:B,setMainFieldValue:function(e,t){return tt(e,t)},validationRequired:!1,isLoading:se,metaData:{resellerTypeId:Xe.resellerTypeId,contractId:Xe.contractId},additionalFields:nt,allWidgets:at,skipFields:Me,onFormSubmit:function(e){var t=[];for(var l in e)e[l]&&t.push({name:l,value:e[l]});Je({target:{value:t,name:"additionalFields"}}),re(!1)},loading:u}))}},9193:(e,t,l)=>{"use strict";l.d(t,{M:()=>Y});var a,n=l(11746),r=l(90929),i=l(51119),o=l(74315),s=l(2411),d=l(79692),u=l(12420),c=l(50835),m=l(70773),p=l(6277),v=l(23664),f=l(54462),E=(l(34111),l(60905)),g=l(67358),h=l(90436),S=l(61564),R=l(75958),y=l(19258),T=l(29609),b=l(91955),D=l(96545),_=l(12541),L=l(82043);function C(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function w(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?C(Object(l),!0).forEach((function(t){(0,i.Z)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):C(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var A=(0,d.Z)((function(e){return(0,u.Z)({element:{marginRight:e.spacing(1)},contentStyle:{width:"100%"},spacingTop:{marginTop:e.spacing(3)},spacingBottom:{marginBottom:e.spacing(2)},dividerSpacing:{marginBottom:e.spacing(3)}})})),I=(null===(a=window.config)||void 0===a?void 0:a.resellerAdditionalConfig)||{},O=[],N={},Z=[],P={},k={},F=[],W={},x=[],M=[],V={},B=[],j={},U=[],H={},Y=s.memo((function(e){var t=e.open,l=e.setOpen,a=e.editView,d=void 0!==a&&a,u=e.onFormSubmit,C=e.additionalFields,Y=(e.data,e.allWidgets),q=(e.loading,e.validationRequired),z=void 0===q||q,G=e.title,K=e.description,$=e.resellerType,X=e.isLoading,J=e.metaData,Q=void 0===J?{}:J,ee=e.setMainFieldValue,te=e.skipFields,le=void 0===te?[]:te,ae=(0,v.Z)(),ne=ae.showWarningMessage,re=ae.showErrorMessage,ie=A(),oe=s.useState({}),se=(0,o.Z)(oe,2),de=se[0],ue=(se[1],(0,T.useTranslation)().t),ce=s.useState({state:!1,id:null}),me=(0,o.Z)(ce,2),pe=me[0],ve=me[1];function fe(){Z=[],F=[],N={},P={},k={},W={},x=[],O=[],V={},M=[],j={},B=[],U=[],H={}}s.useEffect((function(){return fe(),function(){fe()}}),[]);var Ee=function(e){var t=e.id,l=e.validation.dataSource;if(l&&l.startsWith("${")&&l.endsWith("}")){x.push(t);var a=l.replace(/[^a-zA-Z ]/g,"");F.push(a),W[a]=t}var n=(0,b.ZE)(e.validation.dataSource),r="";if(n.length>0){Z.push(t);var i=(0,b.kH)(e.validation.dataSource,n,w({},Se));N[t]={fields:n,widget:e},!i.includes("/${")&&i&&(r=i)}x.push(t),Le(e,r)},ge=window.config.openCalendarWith||"year";s.useEffect((function(){if(Y.length>0)for(var e in Y){var t,l,a,n,r,i=Y[e],o=i.id;if(!le.includes(o)){if(i.defaultValue&&i.defaultValue.startsWith("${")&&i.defaultValue.endsWith("}")){var s,d=null===(s=i.defaultValue)||void 0===s?void 0:s.replace(/[^a-zA-Z ]/g,"");V[o]=d,M.push(d)}var u,c;null!==(t=i.validation)&&void 0!==t&&t.prefillDataWithKey&&(P[o]=i.validation.prefillDataWithKey),null!==(l=i.validation)&&void 0!==l&&l.hideIf&&""!==i.validation.hideIf&&(j[o]=null===(u=i.validation)||void 0===u?void 0:u.hideIf,B.push(o)),null!==(a=i.validation)&&void 0!==a&&a.regex&&""!==i.validation.regex&&(H[o]=null===(c=i.validation)||void 0===c?void 0:c.regex,U.push(o)),(null===(n=i.validation)||void 0===n?void 0:n.dataSource)&&""!==(null===(r=i.validation)||void 0===r?void 0:r.dataSource)&&Ee(i)}}}),[Y]);var he=(0,c.TA)({initialValues:C,onSubmit:function(e){return u&&u(e)},enableReinitialize:!0}),Se=he.values,Re=he.handleChange,ye=he.handleSubmit,Te=he.errors,be=he.validateForm,De=he.setFieldError,_e=he.setValues,Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=e.id,a=t||e.validation.dataSource,n=Object.keys(k)||[];n.includes(a)||(ve({state:!0,id:l}),(0,D.qu)(a).then((function(t){if(0!==(null==t?void 0:t.resultCode)){ve({state:!1,id:l});var n=t.resultMessage||t.resultDescription||"Unable to fetch data for: ".concat(e.placeholder);return De(l,n),re(t)}de[l]=[];var i=(null==t?void 0:t.values)||(null==t?void 0:t.data),o=e.validation.extraPayloadFields||[];if((null==i?void 0:i.length)>0){var s,u={},c=e.validation.parseFromDataSource||{};i.forEach((function(e){var t="object"===(0,r.Z)(e);de[l].push({value:t?e[null==c?void 0:c.value]:e,name:t?e[null==c?void 0:c.name]:e}),o.length>0&&t&&e[c.value]&&(u[e[c.value]]=o.map((function(t){return{name:t.name,value:e[t.value]}})))})),(null===(s=Object.keys(u))||void 0===s?void 0:s.length)>0&&(O.push(l),!x.includes(l)&&x.push(l)),C[l]&&d&&Ce(l,e,C[l]),ve({state:!1,id:l}),k[a]=de[l]}else re("".concat(l.charAt(0).toUpperCase()+l.slice(1),": ").concat(t.resultDescription)),ve({state:!1,id:l})})))},Ce=function(e,t,l){var a;if(Z.length>0&&l)for(var n in N){var r=N[n];if(r.fields.includes(e)&&r.widget.validation.dataSource){var o=w({},r.widget),s=(0,b.kH)(r.widget.validation.dataSource,r.fields,w(w({},Se),{},(0,i.Z)({},e,l)));!s.includes("/${")&&s&&Le(o,s)}}if(null!==(a=t.validation)&&void 0!==a&&a.anyAssociatedField){var d=t.validation.anyAssociatedField;ve({state:!0,id:e});var u="/dms/v1/template/dropdown/".concat(d,"?associatedFieldName=").concat(e,"&associatedFieldValue=").concat(l);(Object.keys(k)||[]).includes(u)||(0,D.qu)(u).then((function(t){if(x.push(d),de[d]=[],t.values&&0!==t.values.length)t.values.forEach((function(e){de[d].push({value:e,name:e})})),k[u]=de[d];else{var l=Y.find((function(e){return e.id===d}));de[d]=null==l?void 0:l.options,re("".concat(d.charAt(0).toUpperCase()+d.slice(1),": ").concat(t.resultDescription))}ve({state:!0,id:e})}))}};return G=G||ue("additionalFieldsDialogTitle","Reseller Additional Fields")||"Reseller Additional Fields",K=K||ue("additionalFieldsDialogDescription","Following additional fields for reseller can be submit along with reseller form")||"Following additional fields for reseller can be submit along with reseller form",s.createElement(f.default,{open:t,onClose:function(){return l(!1)},onOk:function(){be().then((function(e){var t=Object.values(e);t.length>0?ne(t[0]):ye()}))},okButtonText:"Done changes",maxWidth:"lg",contentStyle:ie.contentStyle,dialogTitle:G,dialogDescription:K,disableBackdropClick:!0},s.createElement(E.Z,{container:!0,className:ie.spacingTop},s.createElement(E.Z,{container:!0,spacing:3,className:ie.spacingBottom},s.createElement(E.Z,{item:!0,xs:12,sm:4},s.createElement(_.default,{name:"resellerTypeId",value:Q.resellerTypeId,handleChange:function(e){return ee("resellerTypeId",e.target.value)},resellerType:$,onlyAllowedTypes:I.onlyAllowedTypesForSearch||!1,label:ue("selectGroup","Please select group"),helperText:ue("pleaseSelectGroup"),required:!1})),!!Q.resellerTypeId&&s.createElement(E.Z,{item:!0,xs:12,sm:4},s.createElement(L.default,{name:"contractId",showAll:!0,resellerType:Q.resellerTypeId,helperText:ue("selectContractType"),value:Q.contractId,label:ue("contractId"),handleChange:function(e){return ee("contractId",e.target.value)},classes:ie})),s.createElement(E.Z,{item:!0,sm:12},X&&s.createElement(g.Z,null)))),s.createElement("hr",null),null!=Q&&Q.resellerTypeId&&Y?s.createElement(E.Z,{container:!0,className:ie.spacingTop},s.createElement(E.Z,{container:!0,spacing:3,className:ie.spacingBottom},!X&&Y.map((function(e,t){var l=null,a=e.id,i=e.type,o=e.placeholder||(0,b.WR)(e.id||""),u=Se[a]||"";if(B.length>0&&B.includes(a)){var c=j[a];if((0,b.DU)(c,Se))return null}if(["dropdown","radio"].includes(i)){var v,f=[{value:"",key:ue("pleaseSelect_",{fieldName:e.placeholder})}];de[a]&&(e.options=de[a]);var h=[].concat(f,(0,n.Z)((null===(v=e.options)||void 0===v?void 0:v.map((function(e){return{key:e.name,value:e.value}})))||[]));l=s.createElement(m.SeamlessDropDown,{id:"".concat(a,"-drop-down"),error:!!Te[a],disabled:d&&e.mutable,fullWidth:!0,required:e.required&&z,className:ie.element,label:o,helperText:ue("pleaseSelect_",{fieldName:o}),options:h,name:"".concat(a),value:"".concat(u),onChange:function(t){var l;null!=e&&null!==(l=e.validation)&&void 0!==l&&l.associatedFieldFilterUrl?function(e,t){var l,a,n,i=null==t||null===(l=t.validation)||void 0===l?void 0:l.anyAssociatedField,o=null==t||null===(a=t.validation)||void 0===a||null===(n=a.associatedFieldFilterUrl)||void 0===n?void 0:n.replace("${regionName}",e);ve({state:!0,id:t.id}),(0,D.qu)(o).then((function(e){var l=(null==e?void 0:e.values)||(null==e?void 0:e.data);if(l&&l.length>0){x.includes(i)||x.push(i),de[i]=[];var a=t.validation.parseFromDataSource||{};l.forEach((function(e){var t="object"===(0,r.Z)(e);de[i].push({value:t?e[null==a?void 0:a.value]:e,name:t?e[null==a?void 0:a.name]:e})}))}ve({state:!1,id:t.id})})).catch((function(e){ve({state:!1,id:t.id})}))}(t.target.value,e):Ce(a,e,t.target.value),function(e,t){if(!d&&M.length>0&&Object.values(V).includes(t.id)){var l=w({},Se);for(var a in V){var n=V[a];Se[n]&&(l[a]=Se[n]),n===t.id&&(l[a]=e)}Object.keys(l).length>0&&_e(l)}}(t.target.value,e),Re(t)}})}else if("date"===i)u=u||(new Date).toISOString(),l=s.createElement(S.M,{utils:y.Z},s.createElement(R.e,{error:!!Te[a],className:(0,p.default)(ie.element),views:["year","month","date"],openTo:ge,fullWidth:!0,autoOk:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"".concat(a,"-datepicker"),label:o,name:"".concat(a),value:u,onChange:function(e){return function(e,t,l){"Invalid Date"==e?De(t,ue("invalidDate","".concat(l," is not valid date"))):Re({target:{value:e,name:t}})}(e,a,o)},KeyboardButtonProps:{"aria-label":"change date"},disabled:d&&e.mutable}));else if(["text","number","email","password"].includes(i)){var T=["number","password"].includes(i)?"text":i;l=s.createElement(m.SeamlessInput,{id:"".concat(a,"-input"),key:"".concat(a,"-input"),error:!!Te[a],disabled:d&&e.mutable,type:T,fullWidth:!0,required:e.required&&z,className:ie.element,label:o,helperText:"Select the ".concat(o),name:"".concat(a),value:u,onChange:Re})}return le.includes(a)?null:l?s.createElement(E.Z,{item:!0,key:a,xs:12,sm:4},l,pe.state&&pe.id===a&&s.createElement(g.Z,null)):null})))):s.createElement(E.Z,{container:!0,className:ie.spacingTop},s.createElement(h.Z,{variant:"h6"}," ⚠️ ",ue("selectResellerTypeToAddMoreFilters"))))}))},67801:(e,t,l)=>{"use strict";l.d(t,{Z:()=>a});const a={CreateResellerType:"CREATE_RESELLER_TYPE",EditResellerType:"EDIT_RESELLER_TYPE",ViewResellerType:"VIEW_RESELLER_TYPE",DeleteResellerType:"DELETE_RESELLER_TYPE",ViewParentResellerType:"VIEW_PARENT_RESELLER_TYPE",ViewChildResellerType:"VIEW_CHILD_RESELLER_TYPE",CreatePasswordPolicy:"CREATE_PASSWORD_POLICY",ViewPasswordPolicy:"VIEW_PASSWORD_POLICY",EditPasswordPolicy:"EDIT_PASSWORD_POLICY",DeletePasswordPolicy:"DELETE_PASSWORD_POLICY",CreateRole:"CREATE_ROLE",ViewRole:"VIEW_ROLE",EditRole:"EDIT_ROLE",DeleteRole:"DELETE_ROLE",CreateReseller:"CREATE_RESELLER",ViewReseller:"VIEW_RESELLER",EditReseller:"EDIT_RESELLER",ChangeResellerType:"CHANGE_RESELLER_TYPE",GetResellerLastTransaction:"GET_RESELLER_LAST_TRANSACTION",ChangeParentReseller:"CHANGE_PARENT_RESELLER",ViewResellerChildren:"VIEW_CHILDREN_RESELLER",DeleteResellerUser:"DELETE_RESELLER_USER",UpdateResellerUser:"UPDATE_RESELLER_USER",AddResellerUser:"ADD_RESELLER_USER",advancedSearchReseller:"ADVANCED_SEARCH_RESELLER",activateReseller:"ACTIVATE_RESELLER",deactivateReseller:"DEACTIVATE_RESELLER",blockReseller:"BLOCK_RESELLER",unblockReseller:"UNBLOCK_RESELLER",freezeReseller:"FREEZE_RESELLER",unfreezeReseller:"UNFREEZE_RESELLER",resetWrongPasswordAttempts:"RESET_WRONG_PASSWORD_ATTEMPTS",resetPassword:"RESET_PASSWORD",expiredPassword:"EXPIRED_PASSWORD",changeBalanceStatus:"CHANGE_BALANCE_STATUS",changeInventoryStatus:"CHANGE_INVENTORY_STATUS",resellerOrgChart:"VIEW_HIERARCHY",CreateTemplateDropdown:"CREATE_RESELLER_TEMPLATE_DROPDOWN",ViewTemplateDropdown:"VIEW_RESELLER_TEMPLATE_DROPDOWN",EditTemplateDropdown:"EDIT_RESELLER_TEMPLATE_DROPDOWN",DeleteTemplateDropdown:"DELETE_RESELLER_TEMPLATE_DROPDOWN",ApproveAutotransfer:"APPROVE_AUTOTRANSFER",RejectAutotransfer:"REJECT_AUTOTRANSFER",UpdatePayLimit:"UPDATE_PAY_LIMIT",AutoTransfer:"AUTO_TRANSFER",ResellerAddressInfo:"RESELLER_ADDRESS_INFO",ResellerUserInfo:"RESELLER_USER_INFO",ResellerAccountInfo:"RESELLER_ACCOUNT_INFO",ResellerAdditionalInfo:"RESELLER_ADDITIONAL_INFO",ResellerWalletCard:"RESELLER_WALLET_CARD",ResellerContractInfo:"RESELLER_CONTRACT_INFO",LinkDelinkSubReseller:"LINK_DELINK_SUBRESELLER"}},53004:(e,t,l)=>{"use strict";l.d(t,{Z:()=>r});var a=l(82609),n=l.n(a)()((function(e){return e[1]}));n.push([e.id,".MuiDialogContent-root{\n    width: 100%;\n}\n.MuiPaper-root {\n    border: none !important;\n}\n.MuiStepper-root {\n    padding-bottom: 0;\n    padding-top: 0;\n}\n",""]);const r=n},34111:(e,t,l)=>{"use strict";var a=l(46062),n=l.n(a),r=l(53004);n()(r.Z,{attributes:{nonce:"c2VhbWxlc3M="},insert:"head",singleton:!1}),r.Z.locals}}]);