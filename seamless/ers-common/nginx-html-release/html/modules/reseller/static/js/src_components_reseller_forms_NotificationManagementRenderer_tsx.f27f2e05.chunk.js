(self.webpackChunk_unified_reseller=self.webpackChunk_unified_reseller||[]).push([["src_components_reseller_forms_NotificationManagementRenderer_tsx"],{51119:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},11746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(61357),o=n(70237);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},84496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(61416);const o=n.n(r)()},58752:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var r,o,a,s=n(84496),c=window.config,i=null!==(r=null==c?void 0:c.showActiveContracts)&&void 0!==r&&r,u=null!==(o=null==c||null===(a=c.resellerAdditionalConfig)||void 0===a?void 0:a.activeContractLimit)&&void 0!==o?o:0,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(e+=i?";contractStatus=1":"").includes("?")?"&":"?",n=u>0&&!e.includes("size=")?"".concat(t,"size=").concat(u):"";return e+=n,(0,s.Z)("/acms/v2/contracts".concat(e))}},24157:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(84496),o=function(e){return(0,r.Z)("/groupmanagementsystem/v1/group/member/findGroups?userId=".concat(e))}},96545:(e,t,n)=>{"use strict";n.d(t,{fZ:()=>r.fZ,sC:()=>r.sC,CQ:()=>r.CQ,hm:()=>r.hm,c1:()=>r.c1,pN:()=>r.pN,wv:()=>r.wv,OT:()=>r.OT,it:()=>r.it,eW:()=>r.eW,Fg:()=>r.Fg,Nk:()=>r.Nk,qu:()=>r.qu,Nb:()=>r.Nb,kS:()=>r.kS,GX:()=>r.GX,iA:()=>r.iA,OV:()=>r.OV,gH:()=>r.gH,E5:()=>r.E5,wm:()=>r.wm,TF:()=>r.TF,Ah:()=>r.Ah,HB:()=>r.HB,XD:()=>r.XD,FF:()=>r.FF,lX:()=>r.lX,Gh:()=>r.Gh,NF:()=>r.NF,cG:()=>o.cG,ZV:()=>o.ZV,cY:()=>o.cY,F3:()=>o.F3,b7:()=>o.b7,QX:()=>a.QX,lg:()=>a.lg,uP:()=>a.uP,G0:()=>a.G0,Iq:()=>a.Iq,ec:()=>s.ec,p9:()=>s.p9,ob:()=>s.ob,Kf:()=>c.K,t9:()=>i.t9,Sb:()=>i.Sb,wy:()=>i.wy,sQ:()=>i.ZV,g4:()=>i.g4,j8:()=>i.j8,WY:()=>i.WY,TJ:()=>u.T});var r=n(14674),o=n(31718),a=n(1111),s=n(95191),c=n(58752),i=n(35005),u=n(24157)},95191:(e,t,n)=>{"use strict";n.d(t,{ec:()=>o,ob:()=>a,Ww:()=>s,l4:()=>c,p9:()=>i});var r=n(84496),o=function(e){return(0,r.Z)("/dms/v1/password/policies",{method:"POST",body:e})},a=function(){return(0,r.Z)("/dms/v1/password/policies")},s=function(e){return(0,r.Z)("/dms/v1/password/policies/".concat(e))},c=function(e,t){return(0,r.Z)("/dms/v1/password/policies/".concat(e),{method:"PUT",body:t})},i=function(e){return(0,r.Z)("/dms/v1/password/policies/".concat(e),{method:"DELETE"})}},1111:(e,t,n)=>{"use strict";n.d(t,{fQ:()=>o,lg:()=>a,Iq:()=>s,uP:()=>c,G0:()=>i,Np:()=>u,QX:()=>l});var r=n(84496),o=function(e){return(0,r.Z)("/dms/v1/resellers/types/create",{method:"POST",body:e})},a=function(){return(0,r.Z)("/dms/v1/resellers/types/all")},s=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e,"/parents"))},c=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e,"/children"))},i=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e))},u=function(e){return(0,r.Z)("/dms/v1/resellers/types/update",{method:"PUT",body:e})},l=function(e){return(0,r.Z)("/dms/v1/resellers/types/".concat(e),{method:"DELETE"})}},14674:(e,t,n)=>{"use strict";n.d(t,{Nk:()=>u,Fg:()=>l,OV:()=>d,FF:()=>m,iA:()=>p,eW:()=>f,gH:()=>v,lX:()=>h,pN:()=>g,wv:()=>y,hm:()=>b,kS:()=>Z,uZ:()=>T,c0:()=>P,c1:()=>w,CQ:()=>S,E5:()=>O,NF:()=>E,qu:()=>D,fB:()=>A,OT:()=>C,HB:()=>N,XD:()=>R,wm:()=>F,it:()=>j,Gh:()=>G,sC:()=>B,fZ:()=>U,Ah:()=>X,v$:()=>_,GX:()=>x,Nb:()=>L,TF:()=>M});var r,o,a=n(84496),s=window.config||{},c=(null==s?void 0:s.defaultPerPageItems)||20,i=null!==(r=null==s||null===(o=s.resellerAdditionalConfig)||void 0===o?void 0:o.callIsBasicResellerInfoAPI)&&void 0!==r&&r,u=function(){return(0,a.Z)("/groupmanagementsystem/v1/group?status=active")},l=function(e){return(0,a.Z)("/groupmanagementsystem/v1/group/name/".concat(e))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=n||c,o=t||n?"?limit=".concat(r,"&offset=").concat(t):"";return(0,a.Z)("/dms/v1/resellers/resellerChildren/".concat(e).concat(o))},m=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=i?"searchResellerBasicInfoByAttribute":"searchResellersByAttribute";return r&&(o=r),(0,a.Z)("/dms/auth/".concat(o,"?limit=").concat(t,"&offSet=").concat(n),{method:"POST",body:e})},p=function(e){return(0,a.Z)("/dms/v1/resellers/types/".concat(e,"/parents"))},f=function(e,t,n){var r=n?"allowedTypes":t?"descendants":"children";return(0,a.Z)("/dms/v1/resellers/types/".concat(e,"/").concat(r))},v=function(e){return(0,a.Z)("/dms/auth/getResellerInfo",{method:"POST",body:e})},h=function(e){return(0,a.Z)("/dms/auth/updateReseller",{method:"POST",body:e})},g=function(e){return(0,a.Z)("/dms/auth/changeResellerType",{method:"POST",body:e})},y=function(e){return(0,a.Z)("/dms/auth/v1/resellerChangeState",{method:"POST",body:e})},b=function(e,t,n){return(0,a.Z)("/dms/v1/lifecycle/dealer/status/".concat(n,"/").concat(t),{method:"POST",body:e})},Z=function(){return(0,a.Z)("/lifecycle/reseller/status/fetch/labels")},T=function(e){return(0,a.Z)("/dms/auth/expirePassword",{method:"POST",body:e})},P=function(e){return(0,a.Z)("/dms/auth/forgetPassword",{method:"POST",body:e})},w=function(e){return(0,a.Z)("/dms/auth/changeParent?newResellerParentId=".concat(e.newResellerParentId,"&resellerId=").concat(e.resellerId),{method:"POST",body:e})},S=function(e){return(0,a.Z)("/dms/auth/generateId",{method:"POST",body:e})},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DMS";return(0,a.Z)("/template/v1/component/".concat(t,"/type/").concat(e))},E=function(e){return(0,a.Z)("/iprs/iprs-complete-check",{method:"POST",body:e})},D=function(e){return(0,a.Z)(e)},k=0,I=null,A=function(e){var t,n,r=new Headers;r.append("authorization",localStorage.getItem("token")||""),r.append("Accept-Language","en-US;en-IN;q=0.9,en-US;q=0.7,en-GB;q=0.6");var o={method:"POST",headers:r,body:e,redirect:"follow"},a="".concat(window.config.protocol,"://").concat(window.config.server,":").concat(window.config.port).concat("/api/dms/auth/addReseller"),s=null===(t=window)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.isAllowedTokenRefresh;return fetch(a,o).then((function(t){var n=t.headers.get("authorization");return n?localStorage.setItem("token",n):s&&k<=0&&localStorage.getItem("token")&&(I=e,q().then((function(e){k=0,I&&A(I).then((function(e){0===e.resultCode&&window.history.back()}))})).catch((function(e){++k}))),t.json()}))},q=function(){var e="".concat(window.config.protocol,"://").concat(window.config.server,":").concat(window.config.port).concat(window.config.service,"/refreshToken");return(0,a.Z)(e,{method:"POST"})},C=function(e){return(0,a.Z)("/dms/v1/customers/?nationalId=".concat(e))},N=function(e){return(0,a.Z)("/lifecycle/reseller/".concat(e,"/transactions"))},R=function(e){return(0,a.Z)("/dms/v1/resellers/updatePayLimit",{method:"PUT",body:e})},F=function(e){return(0,a.Z)("/dms/auth/userAlreadyExists",{method:"POST",body:e})},j=function(e){return(0,a.Z)("/dms/auth/deleteResellerUsers",{method:"DELETE",body:e})},G=function(e){return(0,a.Z)("/dms/auth/updateResellerUsers",{method:"PUT",body:e})},B=function(e){return(0,a.Z)("/dms/auth/addResellerUsers",{method:"POST",body:e})},U=function(e,t){return(0,a.Z)("/groupmanagementsystem/v1/group/".concat(e,"/member"),{method:"POST",body:t})},X=function(e,t){return(0,a.Z)("/groupmanagementsystem/v1/group/".concat(e,"/member?memberIds=").concat(t),{method:"DELETE"})},_=function(e,t,n){return(0,a.Z)("/dms/auth/bulkSearchResellersByAttribute?limit=".concat(t,"&offSet=").concat(n),{method:"POST",body:e})},x=function(){return(0,a.Z)("/nms/api/messageTemplateType/CUSTOM/messages?page=0&size=".concat(c,"&sort=id%3Aasc"))},L=function(){return(0,a.Z)("/scc/v1/frequencies")},M=function(e,t){return(0,a.Z)("/txe/reseller/".concat(e,"SubReseller"),{method:"POST",body:t})}},31718:(e,t,n)=>{"use strict";n.d(t,{cG:()=>o,F3:()=>a,cY:()=>s,b7:()=>c,ZV:()=>i});var r=n(84496),o=function(e){return(0,r.Z)("/dms/v1/roles/5",{method:"POST",body:e})},a=function(){return(0,r.Z)("/dms/v1/roles/")},s=function(e){return(0,r.Z)("/dms/v1/roles/".concat(5,"/").concat(e))},c=function(e,t){return(0,r.Z)("/dms/v1/roles/".concat(5,"/").concat(e),{method:"PUT",body:t})},i=function(e){return(0,r.Z)("/dms/v1/roles/".concat(5,"/").concat(e),{method:"DELETE"})}},35005:(e,t,n)=>{"use strict";n.d(t,{j8:()=>o,g4:()=>a,wy:()=>s,t9:()=>c,WY:()=>i,ZV:()=>u,Sb:()=>l});var r=n(84496),o=function(){return(0,r.Z)("/dms/v1/template/dropdown")},a=function(e){return(0,r.Z)("/dms/v1/template/dropdown/".concat(e))},s=function(){return(0,r.Z)("/dms/v1/template/dropdown/fields/all")},c=function(e){return(0,r.Z)("/dms/v1/template/dropdown",{method:"POST",body:e})},i=function(e,t){return(0,r.Z)("/dms/v1/template/dropdown/".concat(t),{method:"PUT",body:e})},u=function(e){return(0,r.Z)("/dms/v1/template/dropdown/byId/".concat(e),{method:"GET"})},l=function(e){return(0,r.Z)("/dms/v1/template/dropdown/".concat(e),{method:"DELETE"})}},99628:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(11746),o=n(51119),a=n(74315),s=n(2411),c=n(60905),i=n(90436),u=n(70773),l=n(79692),d=n(12420),m=n(6277),p=n(50835),f=n(19721),v=n(96545),h=n(24389),g=n(9699);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=(0,l.Z)((function(e){return(0,d.Z)({axis:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),backgroundColor:"#beeaff2b",margin:e.spacing(1),borderRadius:"2%",width:"95%"},topSpace:{marginTop:e.spacing(2)},shrink:{width:"95%"},pullRight:{float:"right"},element:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}})})),T={campaignPayoutDisbursment:{notificationEvent:"CAMPAIGN_PAYOUT_DISBURSEMENT",smsTemplate:"",smsTemplateFrequency:null,emailTemplate:"",emailTemplateFrequency:null}},P=g.Ry().shape({campaignPayoutDisbursment:g.Ry().shape({smsTemplate:g.Z_().required("SMS Template is required"),emailTemplate:g.Z_().required("Email Template is required")})});const w=function(e){var t,n,o,l,d,g,y=e.dataHandler,w=e.data,S=Z(),O=(0,f.useSnackbar)().enqueueSnackbar,E=s.useState([]),D=(0,a.Z)(E,2),k=D[0],I=D[1],A=s.useState([]),q=(0,a.Z)(A,2),C=q[0],N=q[1],R=s.useState([]),F=(0,a.Z)(R,2),j=(F[0],F[1]),G=s.useState({}),B=(0,a.Z)(G,2),U=B[0],X=B[1],_=(0,p.TA)({initialValues:b(b({},T),w),onSubmit:function(e){},validationSchema:P,validateOnBlur:!1,validateOnChange:!0,validateOnMount:!0,enableReinitialize:!0}),x=_.values,L=_.handleChange,M=_.errors;return s.useEffect((function(){var e=[],t=[],n=[],r={};(0,v.Nb)().then((function(e){var t;null==e||null===(t=e.frequencies)||void 0===t||t.forEach((function(e){n.push({key:null==e?void 0:e.frequencyName,value:null==e?void 0:e.frequencyId}),r[null==e?void 0:e.frequencyId]=null==e?void 0:e.frequencyName})),j(n),X(r)})).catch((function(e){O(e.resultDescription,{variant:e})})),(0,v.GX)().then((function(n){n.messages.forEach((function(n){var r,o,a,s;"SMS"===(null==n||null===(r=n.messageType)||void 0===r?void 0:r.messageType)&&"Active"===(null==n||null===(o=n.status)||void 0===o?void 0:o.status)&&e.push({key:null==n?void 0:n.messageTag,value:null==n?void 0:n.messageTag}),"EMAIL"===(null==n||null===(a=n.messageType)||void 0===a?void 0:a.messageType)&&"Active"===(null==n||null===(s=n.status)||void 0===s?void 0:s.status)&&t.push({key:null==n?void 0:n.messageTag,value:null==n?void 0:n.messageTag})})),I(e),N(t)})).catch((function(e){O(e.resultDescription,{variant:e})}))}),[]),(0,h.b)((function(){var e=Object.keys(M).length>0?M.campaignPayoutDisbursment:null;y(e,{values:x,frequencyHashMap:U})}),[x,U,M],2),s.createElement(s.Fragment,null,s.createElement(c.Z,{container:!0},s.createElement(c.Z,{item:!0,xs:6},s.createElement(c.Z,{container:!0,className:(0,m.default)(S.axis)},s.createElement(c.Z,{item:!0,xs:12},s.createElement(i.Z,{variant:"subtitle1",color:"primary"},"Campaign Payout Disbursement")),s.createElement(c.Z,{item:!0,xs:8},s.createElement(u.SeamlessDropDown,{name:"campaignPayoutDisbursment.smsTemplate",required:!0,fullWidth:!0,label:"SMS Template",className:S.topSpace,options:[{key:"Please select sms template",value:""}].concat((0,r.Z)(k)),variant:"standard",placeholder:"Please select sms template",helperText:null!==(t=M.campaignPayoutDisbursment)&&void 0!==t&&t.smsTemplate?null===(n=M.campaignPayoutDisbursment)||void 0===n?void 0:n.smsTemplate:"",value:x.campaignPayoutDisbursment.smsTemplate,error:!(null===(o=M.campaignPayoutDisbursment)||void 0===o||!o.smsTemplate),onChange:L})),s.createElement(c.Z,{item:!0,xs:8},s.createElement(u.SeamlessDropDown,{name:"campaignPayoutDisbursment.emailTemplate",required:!0,fullWidth:!0,label:"Email Template",className:S.topSpace,options:[{key:"Please select email template",value:""}].concat((0,r.Z)(C)),variant:"standard",helperText:null!==(l=M.campaignPayoutDisbursment)&&void 0!==l&&l.emailTemplate?null===(d=M.campaignPayoutDisbursment)||void 0===d?void 0:d.emailTemplate:"",placeholder:"Please select email template",value:x.campaignPayoutDisbursment.emailTemplate,error:!(null===(g=M.campaignPayoutDisbursment)||void 0===g||!g.emailTemplate),onChange:L}))))))}},24389:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(11746),o=n(2411),a=function(e,t,n){(0,o.useEffect)((function(){var t=setTimeout((function(){return e()}),n);return function(){return clearTimeout(t)}}),[].concat((0,r.Z)(t||[]),[n]))}}}]);