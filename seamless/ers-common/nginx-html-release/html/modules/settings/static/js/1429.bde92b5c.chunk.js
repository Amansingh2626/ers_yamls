(self.webpackChunk_unified_settings=self.webpackChunk_unified_settings||[]).push([[1429],{81429:(e,t,a)=>{"use strict";a.d(t,{C:()=>R,J:()=>w});var n,l,r,o=a(11746),i=a(74315),m=a(77277),u=a(4614),s=a(42494),c=a(84899),d=a(60905),p=a(70773),h=a(2411),g=a(79692),v=a(12420),f=a(63135),E=a(6277),y=a(77114),b=a(8526),Z=a(23664),T=a(61564),_=a(40823),k=a(19258),S=a(97848),x=a(48049),I=a(31168),C=a(13737),N=(0,g.Z)((function(e){return(0,v.Z)({button:{marginTop:10},description:{marginRight:e.spacing(1)},progress:{marginLeft:"8px"},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},elementField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),width:550},datePicker:{"& .MuiInputBase-root":{paddingLeft:e.spacing(1),height:"40px",backgroundColor:"rgb(245, 245, 245)!important",borderRadius:"5px"}},formLabel:{fontSize:"12px"},errorLabel:{color:e.palette.error.main},dateField:{margin:e.spacing(1),width:"100%",marginTop:e.spacing(2)},pickerPopover:{"& h3.MuiPickersToolbarText-toolbarTxt.MuiTypography-h3":{fontSize:"2.8rem"}},rowSpacing:{marginBottom:e.spacing(.5)},formStyle:{"& .MuiFormControl-marginNormal":{marginTop:e.spacing(.5)}},marginTop5:{marginTop:"10px",fontWeight:700,"& button":{marginRight:"10px",marginTop:"15px"}},toggle:{marginBottom:e.spacing(4),"& .Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"& .Mui-selected:hover":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText}}})})),q=[{key:"All",value:"ALL"},{key:"Portal",value:"PORTAL"},{key:"APP",value:"APP"}],P=[{key:"Select http method",value:" "},{key:"GET",value:"GET"},{key:"POST",value:"POST"},{key:"PUT",value:"PUT"},{key:"DELETE",value:"DELETE"},{key:"PATCH",value:"PATCH"},{key:"HEAD",value:"HEAD"},{key:"CONNECT",value:"CONNECT"},{key:"OPTIONS",value:"OPTIONS"}],M=(null===(n=window)||void 0===n||null===(l=n.config)||void 0===l||null===(r=l.settings)||void 0===r?void 0:r.contentTypeOptions)||[];const w=function(e){var t=e.data,a=e.onFormSubmit,n=(e.view,e.edit,e.loading),l=(0,x.useHistory)(),r=N(),g=(0,f.useTranslation)().t,v=h.useState("UI"),w=(0,i.Z)(v,2),D=w[0],R=w[1],F=h.useState([]),U=(0,i.Z)(F,2),L=U[0],O=U[1],W=(0,Z.Z)(),A=W.showErrorMessage,B=(W.showSuccessMessage,W.showWarningMessage,b.Ry().shape({module:b.Z_().required(g("valueIsRequired")).test("empty-check",g("valueIsRequired"),(function(e){return" "!==e})),otherModule:b.Z_().when("module",{is:function(e){return"other"===e},then:b.Z_().required(g("valueIsRequired"))}),module_feature:b.Z_().required(g("valueIsRequired")),component_name:b.Z_().required(g("valueIsRequired")).test("empty-check",g("valueIsRequired"),(function(e){return" "!==e})),otherComponent:b.Z_().when("component_name",{is:function(e){return"other"===e},then:b.Z_().required(g("valueIsRequired"))}),channels:b.Z_().required(g("valueIsRequired")),http_method:b.Z_().test("empty-check",g("valueIsRequired"),(function(e){return"UI"===D||" "!==e})),endpoint:"UI"===D?b.Z_():b.Z_().required(g("valueIsRequired")),content_type:b.Z_().test("empty-check",g("valueIsRequired"),(function(e){return"UI"===D||" "!==e})),description:b.Z_(),availableFrom:b.hT().required(g("valueIsRequired")),availableUntil:b.hT().required(g("valueIsRequired"))},[["component_name","module"]])),Y=(0,y.TA)({initialValues:t,onSubmit:function(e){return a&&a(e)},validationSchema:B,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0}),z=Y.values,H=Y.errors,G=Y.handleChange,K=Y.handleSubmit,V=Y.handleReset,j=Y.setFieldValue;return h.useEffect((function(){(0,S.hU)().then((function(e){var t=null==e?void 0:e.moduleList.map((function(e){return{key:e,value:e}}));O([{key:"Other",value:"other"}].concat((0,o.Z)(t)))})).catch((function(e){A(e.resultMessage),O([])}))}),[]),h.createElement(h.Fragment,null,h.createElement(I.Z,{color:"primary",size:"small",value:D,exclusive:!0,onChange:function(e,t){V(z),null!==t&&R(t)},className:r.toggle},h.createElement(C.Z,{value:"UI"},g("forUI")),h.createElement(C.Z,{value:"API"},g("forAPI"))),h.createElement(d.Z,{container:!0,spacing:3},h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},h.createElement(p.SeamlessDropDown,{required:!0,id:"module-drop-down",fullWidth:!0,className:(0,E.default)(r.element),label:g("module"),error:!!H.module,helperText:H.module,options:[{value:" ",key:"Select Module"}].concat((0,o.Z)(L)),name:"module",value:z.module,onChange:G})),"other"===z.module?h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},h.createElement(p.SeamlessInput,{id:"module-drop-down",fullWidth:!0,className:(0,E.default)(r.element),label:g("enterModuleName"),error:!!H.otherModule,helperText:H.otherModule,name:"otherModule",value:z.otherModule,onChange:G,required:!0})):null),h.createElement(d.Z,{container:!0,spacing:3},h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},h.createElement(p.SeamlessInput,{id:"component-text",fullWidth:!0,className:(0,E.default)(r.element),label:g("enterComponentName"),error:!!H.component_name,helperText:H.component_name,name:"component_name",value:z.component_name,onChange:G,required:!0}))),h.createElement(d.Z,{container:!0,spacing:3},h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},h.createElement(p.SeamlessInput,{fullWidth:!0,error:!!H.module_feature,helperText:H.module_feature,className:(0,E.default)(r.element),name:"module_feature",value:z.module_feature,onChange:function(e){"UI"===D?j("module_feature",e.target.value.toUpperCase()):G(e)},label:g("moduleFeature"),required:!0,inputProps:{style:{textTransform:"UI"===D?"uppercase":"none"}}})),h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},h.createElement(p.SeamlessDropDown,{required:!0,fullWidth:!0,options:q,error:!!H.channels,helperText:H.channels,className:(0,E.default)(r.element),name:"channels",value:z.channels,onChange:G,label:g("channel")}))),"API"===D&&h.createElement(d.Z,{container:!0,spacing:3},h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},h.createElement(p.SeamlessDropDown,{fullWidth:!0,options:P,error:!!H.http_method,helperText:H.http_method,className:(0,E.default)(r.element),required:!0,name:"http_method",value:z.http_method,onChange:G,label:g("httpMethod")})),h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},h.createElement(p.SeamlessDropDown,{required:!0,fullWidth:!0,options:[{value:" ",key:"Select Content type"}].concat((0,o.Z)(M)),error:!!H.content_type,helperText:H.content_type,className:(0,E.default)(r.element),name:"content_type",value:z.content_type,onChange:G,label:g("contentType")}))),"API"===D&&h.createElement(d.Z,{container:!0,spacing:3,className:r.rowSpacing},h.createElement(d.Z,{item:!0,xs:12,sm:6,md:6,lg:6},h.createElement(p.SeamlessInput,{required:!0,fullWidth:!0,multiline:!0,rows:2,error:!!H.endpoint,helperText:H.endpoint,name:"endpoint",onChange:G,label:g("endpoint"),value:z.endpoint,className:(0,E.default)(r.element)}))),h.createElement(d.Z,{container:!0,spacing:3,className:r.rowSpacing},h.createElement(d.Z,{item:!0,xs:12,sm:6,md:6},h.createElement(p.SeamlessInput,{fullWidth:!0,multiline:!0,rows:4,error:!!H.description,helperText:H.description,name:"description",onChange:G,label:g("Description"),value:z.description,className:(0,E.default)(r.element)}))),h.createElement(d.Z,{container:!0,spacing:3,className:r.rowSpacing},h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4,justify:"space-around"},h.createElement(s.Z,{variant:"filled",className:r.formStyle,fullWidth:!0},h.createElement(c.Z,{className:H.availableFrom?(0,E.default)(r.formLabel,r.errorLabel):r.formLabel},g("startDate")),h.createElement(T.M,{utils:k.Z},h.createElement(_.e,{className:(0,E.default)(r.dateField),fullWidth:!0,autoOk:!0,variant:"inline",format:"yyyy-MM-dd",margin:"normal",name:"availableFrom",value:z.availableFrom||null,onChange:function(e){G({target:{value:null==e?void 0:e.toISOString(),name:"availableFrom"}})},KeyboardButtonProps:{"aria-label":"change date"},placeholder:"YYYY-MM-DD",PopoverProps:{className:r.pickerPopover},error:!!H.availableFrom,helperText:H.availableFrom,minDate:new Date})))),h.createElement(d.Z,{item:!0,xs:12,sm:6,md:4},h.createElement(T.M,{utils:k.Z},h.createElement(s.Z,{variant:"filled",className:r.formStyle,fullWidth:!0},h.createElement(c.Z,{className:H.availableFrom?(0,E.default)(r.formLabel,r.errorLabel):r.formLabel},g("endDate")),h.createElement(_.e,{className:(0,E.default)(r.dateField),fullWidth:!0,autoOk:!0,variant:"inline",format:"yyyy-MM-dd",margin:"normal",name:"availableUntil",placeholder:"YYYY-MM-DD",value:z.availableUntil||null,onChange:function(e){G({target:{value:null==e?void 0:e.toISOString(),name:"availableUntil"}})},error:!!H.availableUntil,helperText:H.availableUntil,KeyboardButtonProps:{"aria-label":"change date"},PopoverProps:{className:r.pickerPopover},minDate:z.availableFrom}))))),h.createElement("div",{className:r.marginTop5},h.createElement(m.Z,{color:"primary",variant:"contained",disabled:n,onClick:function(){return K()}},g("save"),n&&h.createElement(u.Z,{color:"inherit",size:14,thickness:6,className:r.progress})),h.createElement(m.Z,{color:"secondary",variant:"outlined",onClick:function(){l.push("/home/settings/access-management/module-endpoints/list")}},g("cancel","Cancel"))))};var D=a(18896);const R=function(){var e=(0,f.useTranslation)().t;return h.createElement(p.SeamlessButton,{component:x.Link,to:"/home/settings/access-management/module-endpoints/create",variant:"contained",color:"primary",endIcon:h.createElement(D.Z,null)},e("createModuleEndpoint"))}}}]);