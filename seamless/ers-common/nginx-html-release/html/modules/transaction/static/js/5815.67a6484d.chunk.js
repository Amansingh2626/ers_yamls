(self.webpackChunk_unified_transaction=self.webpackChunk_unified_transaction||[]).push([[5815,9944,8950],{96545:(e,t,n)=>{"use strict";n.d(t,{HS:()=>a.HS,Jz:()=>a.Jz,hr:()=>a.hr,t5:()=>a.t5,JN:()=>a.JN,Kd:()=>a.Kd,gc:()=>a.gc,Fg:()=>a.Fg,Nk:()=>a.Nk,zm:()=>a.zm,JH:()=>a.JH,dE:()=>a.dE,lg:()=>a.lg,oH:()=>a.oH,ih:()=>a.ih,Z6:()=>a.Z6,N_:()=>a.N_,WD:()=>a.WD,Tk:()=>a.Tk,MP:()=>a.MP,gD:()=>a.gD,uB:()=>a.uB,Su:()=>a.Su,tL:()=>a.tL,gs:()=>a.gs,O5:()=>a.O5,EZ:()=>a.EZ});var a=n(99652)},99652:(e,t,n)=>{"use strict";n.d(t,{HS:()=>R,Jz:()=>g,hr:()=>h,t5:()=>T,JN:()=>u,Kd:()=>Z,gc:()=>S,Fg:()=>N,Nk:()=>x,zm:()=>b,JH:()=>C,dE:()=>I,lg:()=>k,oH:()=>d,ih:()=>M,Z6:()=>m,N_:()=>v,WD:()=>y,Tk:()=>c,MP:()=>o,gD:()=>i,uB:()=>s,Su:()=>l,tL:()=>w,gs:()=>f,O5:()=>p,EZ:()=>E});var a=n(61416);const r=n.n(a)();var o=function(e){return r("/txe/v1/requestTransfer",{method:"POST",body:e})},i=function(e,t){var n={method:"POST",body:e};return n.headers=new Headers,n.headers.append("Content-Type","application/json"),n.headers.append("ref-prefix",t),n.headers.append("validateOnly","false"),r("/txe/v1/requestTransfer",n)},l=function(e,t){var n={method:"POST",body:e};return n.headers=new Headers,n.headers.append("Content-Type","application/json"),n.headers.append("ref-prefix",t),n.headers.append("validateOnly","false"),r("/txe/v1/requestTopup",n)},s=function(e){return r("/txe/v1/requestTopup",{method:"POST",body:e})},c=function(e){return r("/txe/v1/requestTransactionReversal",{method:"POST",body:e})},u=function(e){return r("/bi-engine/fetch",{method:"POST",body:e})},m=function(){return r("/pms/v1/product/supplier/1",{method:"GET"})},d=function(e){return r("/txe/v1/searchArchivedTransaction/".concat(e),{method:"POST"})},p=function(e,t){var n={method:"POST",body:e};return n.headers=new Headers,n.headers.append("Content-Type","application/json"),n.headers.append("ref-prefix",t),n.headers.append("validateOnly","false"),r("/txe/v1/requestTransactionReversal",n)},f=function(e){return r("/txe/v1/requestTransactionReversal",{method:"POST",body:e})},g=function(e){return r("/txe/v1/approveTransaction",{method:"POST",body:e})},v=function(e){return r("/txe/v1/cancelTransaction",{method:"POST",body:e})},h=function(e,t){var n={method:"POST",body:e};return n.headers=new Headers,n.headers.append("Content-Type","application/json"),n.headers.append("ref-prefix",t),n.headers.append("validateOnly","false"),r("/txe/v1/approveTransaction",n)},y=function(e,t){var n={method:"POST",body:e};return n.headers=new Headers,n.headers.append("Content-Type","application/json"),n.headers.append("ref-prefix",t),n.headers.append("validateOnly","false"),r("/txe/v1/cancelTransaction",n)},b=function(){return r("/pms/v1/productCategory")},E=function(e,t){return r("/dms/auth/getResellerInfo",{method:"POST",body:{dealerID:{id:t,type:"RESELLERMSISDN"===e?"RESELLERMSISDN":"resellerId"},fetchAccountBalanceInformation:!1}})},Z=function(e){return r("/acms/v2/calculate-pricing",{method:"POST",body:e})},S=function(e){return r("/acms/v2/contracts/".concat(e))},T=function(e){return r("/txe/subscribers/v1/updateSubscriberServiceStatus",{method:"POST",body:e})},w=function(e){return r("/txe/subscribers/v1/resetSubscriberPassword",{method:"POST",body:e})},k=function(){return r("/dms/v1/resellers/types/all")},x=function(){return r("/groupmanagementsystem/v1/group?status=active")},N=function(e){return r("/groupmanagementsystem/v1/group/name/".concat(e))},I=function(e){return r("/txe/subscribers/v1/getProductsByMSISDN",{method:"POST",body:e})},M=function(e){return r("/acms/v2/fetch-product-range/".concat(e))},C=function(e){return r("/pms/v1/product/variant/search",{method:"POST",body:e})},R=function(e){return r("/txe/v1/requestTopup",{method:"POST",body:e})}},47246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var a=n(56470),r=n(74315),o=n(77162),i=n.n(o),l=n(2411),s=n(29609),c=n(6277),u=n(23664),m=n(79692),d=n(12420),p=n(60905),f=n(33553),g=n(90436),v=n(82938),h=n(77277),y=n(86689),b=n(41262),E=n(37603),Z=n(8526),S=n(46491),T=n(94106),w=n(18896),k=n(78429),x=n(90286),N=n.n(x),I=n(75748),M=n(31422),C=(0,m.Z)((function(e){return(0,d.Z)({switchContainer:{marginTop:"25px",float:"right"},margins:{marginTop:e.spacing(2)},ammountDesc:{marginLeft:"5px",marginTop:"25px"},button:{margin:e.spacing(1)},element:{margin:e.spacing(1)},spacingBottom:{marginBottom:e.spacing(2)},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},selectBox:{paddingLeft:"10px"},fieldArrayWrapper:{border:"1px solid #EDEDED",marginLeft:"0",marginTop:"10px",width:"100%",borderRadius:"10px",padding:"10px",background:"#F7F7F7"},textRight:{textAlign:"right"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{fontSize:14},rowSpacing:{marginLeft:e.spacing(1)},backdrop:{zIndex:e.zIndex.drawer+1,color:e.palette.primary.main}})}));const R=function(e){var t,n,o,m,d=e.data,x=e.onFormSubmit,R=(e.loading,e.isReset),B=e.checkIsBulk,P=e.disableButton,D=C(),O=(0,s.useTranslation)().t,A=null!==(t=null===(n=window)||void 0===n||null===(o=n.config)||void 0===o||null===(m=o.transaction)||void 0===m?void 0:m.uploadFileLimit)&&void 0!==t?t:50,_=(0,u.Z)(),F=_.showErrorMessage,U=_.showWarningMessage,z=(O("cash"),l.useState([])),L=(0,r.Z)(z,2),q=L[0],W=L[1],H=l.useState(!1),j=(0,r.Z)(H,2),V=j[0],J=j[1],K=l.useState(!1),X=(0,r.Z)(K,2),G=X[0],Q=X[1],Y=l.useState([{resellerId:"",recipientMobileNo:"",amount:"",paymentMethod:"cash",comment:"",batchId:"",isMobile:!1}]),$=(0,r.Z)(Y,2),ee=$[0],te=($[1],l.useState(!1)),ne=(0,r.Z)(te,2),ae=ne[0],re=ne[1],oe=Z.Ry().shape({airtimeSellBulk:Z.IX().of(Z.Ry().shape({recipientMobileNo:Z.Z_().when("resellerId",{is:function(e){return!e||0===e.length},then:Z.Z_().required(O("recipientMSISDNError")),otherwise:Z.Z_()}),resellerId:Z.Z_().when("recipientMobileNo",{is:function(e){return!e||0===e.length},then:Z.Z_().required(O("resellerIdError")),otherwise:Z.Z_()}),amount:Z.Z_().required(O("amountError")),paymentMethod:Z.Z_(),comment:Z.Z_().trim(),isMobile:Z.O7()},[["recipientMobileNo","resellerId"]]))}),ie=(0,T.cI)({mode:"onSubmit",defaultValues:ee,resolver:(0,S.X)(oe),reValidateMode:"onChange"}),le=ie.register,se=ie.errors,ce=(ie.unregister,ie.control),ue=ie.handleSubmit,me=ie.reset,de=ie.setValue,pe=ie.getValues,fe=ie.watch,ge=(0,T.Dq)({name:"data",control:ce}),ve=ge.fields,he=ge.append,ye=ge.remove,be=function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(!0),N().parse(t.target.files[0],{header:!0,skipEmptyLines:!0,complete:function(){var e=(0,a.Z)(i().mark((function e(t){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.data.length>0)){e.next=29;break}if(me(),n=Object.keys(null==t?void 0:t.data[0]).sort(),a=["amount","comment","paymentMethod","recipientMobileNo","resellerId","typeOfTransaction"],n.toString()===a.toString()){e.next=9;break}return F(O("incorrectFileFormat")),de("data",[d]),Q(!1),e.abrupt("return");case 9:if(!((r=t.data.filter((function(e){return"AIRTIME STOCK"===e.typeOfTransaction})).map((function(e){var t;return{isMobile:null==e||!e.resellerId,comment:null==e?void 0:e.comment,resellerId:null==e?void 0:e.resellerId,recipientMobileNo:null==e?void 0:e.recipientMobileNo,paymentMethod:null==e||null===(t=e.paymentMethod)||void 0===t?void 0:t.toLowerCase(),amount:null==e?void 0:e.amount}}))).length>A)){e.next=16;break}return me(),U(O("sizeExceeded")+A),de("data",[d]),Q(!1),e.abrupt("return");case 16:if(!(r.length>0)){e.next=23;break}return de("data",r),e.next=20,r.forEach((function(e,t){de("airtimeSellBulk[".concat(t,"]"),{comment:null==e?void 0:e.comment,amount:null==e?void 0:e.amount,paymentMethod:null==e?void 0:e.paymentMethod}),de("airtimeSellBulk[".concat(t,"].isMobile"),null==e?void 0:e.isMobile),de("airtimeSellBulk[".concat(t,"].resellerId"),null==e?void 0:e.resellerId),de("airtimeSellBulk[".concat(t,"].recipientMobileNo"),null==e?void 0:e.recipientMobileNo)}));case 20:Q(!1),e.next=27;break;case 23:me(),F(O("theFileHasNoAirtimeStockEntries")),de("data",[d]),Q(!1);case 27:e.next=33;break;case 29:me(),F(O("theFileHasNoEntries")),de("data",[d]),Q(!1);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.useEffect((function(){R&&(me(),de("data",[d]))}),[R]),l.useEffect((function(){he(d),de("data",[d])}),[]),l.createElement(l.Fragment,null,l.createElement(p.Z,{container:!0,spacing:2,className:D.spacingBottom},l.createElement(p.Z,{item:!0,xs:12},l.createElement("div",null,l.createElement(g.Z,{variant:"caption",style:{marginBottom:"0"}},O("Single")),l.createElement(v.Z,{checked:ae,value:ae,color:"primary",onChange:function(e){re(e.target.checked),B(e.target.checked),me(),de("data",[d])},name:"validFrom"}),l.createElement(g.Z,{variant:"caption"},O("Bulk")),ae?l.createElement(l.Fragment,null,l.createElement(p.Z,{item:!0,style:{float:"right"},lg:10,md:10,xs:12},l.createElement("input",{accept:".csv",type:"file",style:{display:"none"},onChange:function(e){be(e)},onClick:function(e){e.target.value=null},id:"file"}),l.createElement("label",{htmlFor:"file"},l.createElement(h.Z,{variant:"outlined",color:"primary",component:"span",className:D.margins,style:{float:"right"}},l.createElement(I.Z,null)," Upload File")),l.createElement("div",{style:{marginLeft:"9px"}},l.createElement(y.Z,{onClick:function(){return"/files/sample_airtimeStock.csv","sample_airtime_stock_import.csv",(e=document.createElement("a")).setAttribute("href","/files/sample_airtimeStock.csv"),e.setAttribute("download","sample_airtime_stock_import.csv"),document.body.appendChild(e),void e.click();var e}},O("downloadSampleFile"))))):null)),G&&l.createElement(b.Z,{className:D.backdrop,open:!0},l.createElement("h2",null,O("fileImportInProgress"))),ve.map((function(e,t){return l.createElement(l.Fragment,{key:t},ae&&l.createElement(p.Z,{className:D.rowSpacing,key:t},l.createElement(g.Z,{className:D.fieldHeading},O("transactionNo")+" ".concat(t+1))),l.createElement(k.Z,{data:e,index:t,key:e.id,control:ce,errors:se,register:le,isBulk:ae,removeIndex:ye,getValues:pe,setValue:de,watch:fe}))})),ae&&l.createElement(p.Z,{container:!0,spacing:2},l.createElement(p.Z,{item:!0,xs:3},l.createElement(E.SeamlessButton,{variant:"outlined",type:"button",className:D.button,startIcon:l.createElement(w.Z,null),onClick:function(){return he(d)}},O("addNew")))),l.createElement(p.Z,{container:!0,spacing:2},l.createElement(f.Z,null,l.createElement(E.SeamlessButton,{className:(0,c.default)(D.element,D.btnSpacing,D.button),onClick:ue((function(e){W(null==e?void 0:e.airtimeSellBulk),J(!0)})),color:"primary",variant:"contained",disabled:P},O("Sell Airtime Stock")),l.createElement(E.SeamlessButton,{onClick:function(){me(d),de("data",[d])},className:(0,c.default)(D.element,D.button),color:"primary",variant:"outlined"},O("resetButton"))))),l.createElement(M.Z,{isAirtimeStock:!0,open:V,data:q,title:O("airtimeStockPreview"),isBulk:ae,onClose:function(){return J(!1)},onSubmit:function(){J(!1),x&&x({airtimeSellBulk:q})}}))}},31422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var a=n(77277),r=n(8629),o=n(49429),i=n(38724),l=n(79249),s=n(85256),c=n(60905),u=n(24276),m=n(61837),d=n(15223),p=n(90436),f=n(2411),g=n(79692),v=n(12420),h=n(29609),y=n(11312),b=(0,g.Z)((function(e){var t,n;return(0,v.Z)({dialog:{"&. MuiDialog-paperWidthSm":{maxWidth:"300px"}},closeIcon:{float:"right","@media print":{display:"none"}},rowSpacing:{marginBottom:e.spacing(.5),marginTop:e.spacing(1)},rowSpacing2:{marginBottom:e.spacing(.5),marginTop:e.spacing(1),textAlign:"center"},dialogHeader:{fontSize:18,fontWeight:"bold",align:"left",backgroundColor:e.palette.primary.main,color:null==e||null===(t=e.palette)||void 0===t||null===(n=t.common)||void 0===n?void 0:n.white},fieldHeading:{fontWeight:1500,textTransform:"capitalize",fontSize:20},title:{marginTop:e.spacing(2)},divider:{width:"100%",marginTop:e.spacing(.5)},cancelAction:{textAlign:"right"},updateAction:{textAlign:"left"}})}));const E=function(e){var t=e.data,n=e.open,g=e.title,v=e.isBulk,E=e.onClose,Z=e.onSubmit,S=e.isAirtimeStock,T=void 0!==S&&S,w=b(),k=(0,h.useTranslation)().t;return f.createElement(r.Z,{open:n,maxWidth:"sm",fullWidth:!0,scroll:"paper",onClose:E,"aria-labelledby":"product-variant-dialog",className:w.dialog},f.createElement(l.Z,{className:w.dialogHeader,color:"primary",disableTypography:!0},f.createElement(c.Z,{container:!0},f.createElement(c.Z,{item:!0,lg:6,xs:6,className:w.title},g||k("preview")),f.createElement(c.Z,{item:!0,lg:6,xs:6},f.createElement(d.Z,{style:{justifyContent:"flex-end"}},f.createElement(m.Z,{edge:"end",className:w.closeIcon,color:"inherit",onClick:E,"aria-label":"close"},f.createElement(u.Z,null,"close")))))),f.createElement(i.Z,null,f.createElement(c.Z,{container:!0,className:w.title},null==t?void 0:t.map((function(e,t){return f.createElement(f.Fragment,{key:t},v&&f.createElement(c.Z,{item:!0},f.createElement(c.Z,{className:w.rowSpacing2,key:t},f.createElement(p.Z,{className:w.fieldHeading},k("transactionNo")+" ".concat(t+1)))),f.createElement(c.Z,{container:!0,spacing:2,key:t,className:w.rowSpacing},T&&null!=e&&e.resellerId?f.createElement(y.Z,{title:k("resellerId"),value:null==e?void 0:e.resellerId,headingProps:{xs:6,sm:6,lg:4,md:4},valueProps:{xs:6,sm:6,lg:6,md:6}}):null,null!=e&&e.recipientMobileNo?f.createElement(y.Z,{title:k("recipientMobileNo"),value:null==e?void 0:e.recipientMobileNo,headingProps:{xs:6,sm:6,lg:4,md:4},valueProps:{xs:6,sm:6,lg:6,md:6}}):null,!T&&null!=e&&e.anonymousId?f.createElement(y.Z,{title:k("anonymousId"),value:null==e?void 0:e.anonymousId,headingProps:{xs:6,sm:6,lg:4,md:4},valueProps:{xs:6,sm:6,lg:6,md:6}}):null,f.createElement(y.Z,{title:k("amount"),value:null==e?void 0:e.amount,headingProps:{xs:6,sm:6,lg:4,md:4},valueProps:{xs:6,sm:6,lg:6,md:6}}),f.createElement(y.Z,{title:k("paymentMethod"),value:null==e?void 0:e.paymentMethod,headingProps:{xs:6,sm:6,lg:4,md:4},valueProps:{xs:6,sm:6,lg:6,md:6}}),null!=e&&e.comment?f.createElement(y.Z,{title:k("comment"),value:null==e?void 0:e.comment,headingProps:{xs:6,sm:6,lg:4,md:4},valueProps:{xs:6,sm:6,lg:6,md:6}}):null,f.createElement(s.Z,{className:w.divider})))})))),f.createElement(o.Z,null,f.createElement(c.Z,{container:!0,spacing:4,style:{margin:"10px"}},f.createElement(c.Z,{item:!0,xs:12,sm:6,md:6,className:w.cancelAction},f.createElement(a.Z,{color:"primary",variant:"outlined",onClick:E},k("cancel"))),f.createElement(c.Z,{item:!0,xs:12,sm:6,md:6,className:w.updateAction},f.createElement(a.Z,{color:"primary",variant:"contained",onClick:Z},k("confirm"))))))}},11903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var a=n(74315),r=n(2411),o=n(79692),i=n(12420),l=n(23664),s=n(33553),c=n(77277),u=n(60905),m=n(29609),d=n(96545),p=n(37603),f=n(77114),g=n(8526),v=n(6277),h=(0,o.Z)((function(e){return(0,i.Z)({button:{marginTop:10,"& .MuiButton-label":{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit",textTransform:"none"}},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)}})}));const y=function(e){e.onFormSubmit;var t=(0,m.useTranslation)().t,n=h(),o=r.useState(!1),i=(0,a.Z)(o,2),y=i[0],b=i[1],E=(0,l.Z)(),Z=E.showErrorMessage,S=E.showSuccessMessage,T=g.Ry().shape({subscriberId:g.Z_().typeError(t("mustBeNumber")).matches(/^[0-9]+$/,t("mustBeNumber")).required(t("valueIsRequired"))}),w=(0,f.TA)({initialValues:{serviceId:"P2P_SERVICE",subscriberId:""},onSubmit:function(e,t){return C&&C(t)},validationSchema:T,validateOnChange:!1,enableReinitialize:!0}),k=w.values,x=w.errors,N=w.handleChange,I=w.handleSubmit,M=w.handleReset,C=function(e){b(!0),(0,d.tL)(k).then((function(e){0==e.resultCode?S(t("passwordResetSuccessful")):Z(t("anErrorOccurred"))})).catch((function(e){Z(e)})).finally((function(){b(!1),M(e)}))};return r.createElement(s.Z,null,r.createElement(u.Z,{container:!0,spacing:3},r.createElement(u.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(p.SeamlessInput,{fullWidth:!0,error:!!x.subscriberId,helperText:x.subscriberId,className:(0,v.default)(n.element),name:"subscriberId",value:k.subscriberId,onChange:function(e){return N(e)},label:t("subscriberMsisdn"),required:!0}))),r.createElement(u.Z,{item:!0,xs:12,spacing:3},r.createElement(c.Z,{type:"submit",onClick:function(e){I()},className:(0,v.default)(n.element,n.button),color:"primary",variant:"contained",disabled:y},t("submitButton")),r.createElement(c.Z,{type:"button",onClick:function(e){M(e)},className:(0,v.default)(n.element,n.button),color:"secondary",variant:"contained"},t("cancel"))))}},24950:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var a=n(7560),r=n(51119),o=n(74315),i=n(2411),l=n(79692),s=n(12420),c=n(37603),u=n(8629),m=n(49429),d=n(38724),p=n(79249),f=n(60905),g=n(29609),v=n(96545),h=n(41744),y=n.n(h),b=n(23664),E=n(90929),Z=n(77277),S=n(38592),T=n(80030),w=n(60552),k=n(53770),x=n(30922),N=n(48049),I=n(81463),M=n(66054),C=n(44104),R=n.n(C),B=n(27490);const P=function(e){var t=e.loading,n=e.isHierarchy,a=e.totalCount,r=e.transactionList,o=(e.timeOrder,e.setTimeOrder),l=e.page,s=e.perPage,c=e.onPageChange,u=e.onPageSizeChange,m=e.pending,d=void 0!==m&&m,p=e.onApproveOrReject,f=e.customerCare,v=void 0!==f&&f,h=(0,g.useTranslation)().t,b=R()().checkPermission,C=[{field:"actions",headerName:h("actions"),sortable:!1,filterable:!1,renderCell:function(e){var t,a,r;return i.createElement("div",null,i.createElement(S.Z,{size:"small",color:"primary",variant:"text"},d?null:i.createElement(T.ZP,{title:"View"},i.createElement(Z.Z,{component:N.Link,to:n?"/home/transaction/hierarchy/".concat(null==e||null===(t=e.row)||void 0===t?void 0:t.ersReference):v?"/home/customercare/transaction/search/".concat(null==e||null===(a=e.row)||void 0===a?void 0:a.ersReference):"/home/transaction/search/".concat(null==e||null===(r=e.row)||void 0===r?void 0:r.ersReference)},i.createElement(w.Z,{fontSize:"small"}))),b(B.R.APPROVE_TRANSACTION)&&d?i.createElement(T.ZP,{title:"Approve"},i.createElement(Z.Z,{onClick:function(){var t;return p("approve",null==e||null===(t=e.row)||void 0===t?void 0:t.ersReference)}},i.createElement(k.Z,{fontSize:"small",style:{color:I.Z[400]}}))):null,b(B.R.REJECT_TRANSACTION)&&d?i.createElement(T.ZP,{title:"Reject"},i.createElement(Z.Z,{onClick:function(){var t;return p("reject",null==e||null===(t=e.row)||void 0===t?void 0:t.ersReference)}},i.createElement(x.Z,{fontSize:"small",style:{color:M.Z[400]}}))):null))},flex:1},{field:"ersReference",headerName:h("transactionReference"),width:200,filterable:!0,sortable:!1},{field:"OriginalErsReference",headerName:h("OriginalErsReference"),width:200,filterable:!0,sortable:!1,valueFormatter:function(e){var t,n,a,r,o;return void 0===(null==e||null===(t=e.row)||void 0===t?void 0:t.originalErsReference)?"null"===(null==e||null===(a=e.row)||void 0===a?void 0:a.OriginalErsReference)||""===(null==e||null===(r=e.row)||void 0===r?void 0:r.OriginalErsReference)?"-":null==e||null===(o=e.row)||void 0===o?void 0:o.OriginalErsReference:(null==e||null===(n=e.row)||void 0===n?void 0:n.originalErsReference)||"-"}},{field:"batchId",headerName:h("batchId"),width:200,filterable:!0,sortable:!1,valueFormatter:function(e){return"NA"===e.row.batchId||"null"===e.row.batchId?"-":e.row.batchId}},{field:"senderResellerTypeName",headerName:h("senderResellerType"),width:200,filterable:!0,sortable:!1,valueFormatter:function(e){return void 0===(0,E.Z)(e.row.senderResellerTypeName)||"null"===e.row.senderResellerTypeName||""===e.row.senderResellerTypeName||void 0===(0,E.Z)(e.row.senderResellerType)||"null"===e.row.senderResellerType||""===e.row.senderResellerType?"-":e.row.senderResellerType?e.row.senderResellerType:e.row.senderResellerTypeName}},{field:"receiverResellerTypeName",headerName:h("receiverResellerType"),width:200,filterable:!0,sortable:!1,valueFormatter:function(e){return void 0===(0,E.Z)(e.row.receiverResellerTypeName)||"null"===e.row.receiverResellerTypeName||""===e.row.receiverResellerTypeName||void 0===(0,E.Z)(e.row.receiverResellerType)||"null"===e.row.receiverResellerType||""===e.row.receiverResellerType?"-":e.row.receiverResellerType?e.row.receiverResellerType:e.row.receiverResellerTypeName}},{field:"timestamp",headerName:h("timestamp"),width:200,filterable:!0,sortable:!d,valueFormatter:function(e){var t=e.row.timestamp;return t.split("T")[0]+" "+t.split("T")[1].slice(0,8)}},{field:"senderResellerId",headerName:h("senderResellerId"),width:200,filterable:!0,sortable:!1},{field:"senderMSISDN",headerName:h("senderMsisdn"),width:200,filterable:!0,sortable:!1},{field:"receiverResellerId",headerName:h("receiverResellerId"),width:200,filterable:!0,sortable:!1},{field:"receiverMSISDN",headerName:h("receiverMsisdn"),width:200,filterable:!0,sortable:!1},{field:"transactionProfile",headerName:h("transactionType"),width:200,filterable:!0,sortable:!1},{field:"productSKU",headerName:h("product"),width:200,filterable:!0,sortable:!1},{field:"transactionAmount",headerName:h("amount"),width:200,filterable:!0,sortable:!1},{field:"resultMessage",headerName:h("status"),width:200,filterable:!0,sortable:!1}],P=i.useCallback((function(e){var t=e.sortModel[0].sort;o(t)}),[]);return i.createElement(y(),{onPageSizeChange:function(e){u(e.pageSize)},onPageChange:function(e){c(e.page)},pagination:!0,paginationMode:"server",page:l,pageSize:s,rowCount:a,rows:r,loading:t,columns:C,getRowId:function(e){return null==e?void 0:e.id},columnBuffer:3,sortingMode:"server",onSortModelChange:P})};var D=n(21602);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=(0,l.Z)((function(e){var t,n;return(0,s.Z)({root:{width:"100%",marginBottom:e.spacing(2)},rowSpacing2:{marginTop:e.spacing(3)},rowSpacing:{marginBottom:e.spacing(.5)},fullWidth:{width:"100%"},progress:{marginLeft:"8px"},dateField:{marginTop:e.spacing(2),"& .MuiInput-underline:before":{borderBottomWidth:"2px"}},blurBackDrop:{backdropFilter:"blur(2px)",backgroundColor:"rgba(0, 0, 0, 0.2)"},dialogHeader:{fontSize:18,fontWeight:"bold",align:"left",backgroundColor:e.palette.primary.main,color:null==e||null===(t=e.palette)||void 0===t||null===(n=t.common)||void 0===n?void 0:n.white}})}));const F=function(){var e,t,n,r,l=_(),s=(0,g.useTranslation)().t,y=i.useState(!1),E=(0,o.Z)(y,2),Z=E[0],S=E[1],T=i.useState(0),w=(0,o.Z)(T,2),k=w[0],x=w[1],N=i.useState([]),I=(0,o.Z)(N,2),M=I[0],C=I[1],R=(0,b.Z)(),B=R.showErrorMessage,O=R.showSuccessMessage,F=(R.showInfoMessage,R.showWarningMessage),U=i.useState(""),z=(0,o.Z)(U,2),L=z[0],q=z[1],W=i.useState(""),H=(0,o.Z)(W,2),j=H[0],V=H[1],J=i.useState(""),K=(0,o.Z)(J,2),X=K[0],G=K[1],Q=i.useState("desc"),Y=(0,o.Z)(Q,2),$=Y[0],ee=Y[1],te=i.useState(!1),ne=(0,o.Z)(te,2),ae=ne[0],re=ne[1],oe=(0,D.Z)(),ie=(null===(e=window.config)||void 0===e||null===(t=e.transaction)||void 0===t?void 0:t.pendingTransactionAdminResellerTypeId)||[],le=(null===(n=window.config)||void 0===n||null===(r=n.transaction)||void 0===r?void 0:r.pendingTransactionAdminRoleId)||[],se=(0,h.useServerTable)({page:0,perPage:20,order:"asc",orderBy:"timestamp",filter:{}}),ce=function(e,t){var n,a,r,o,i,l="pending_transactions",s=null===(n=oe.info)||void 0===n||null===(a=n.users)||void 0===a?void 0:a.filter((function(e){return(null==e?void 0:e.userId)===(null==oe?void 0:oe.userId)}));(ie.includes("ALL")||ie.includes(null===(r=oe.info)||void 0===r||null===(o=r.resellerData)||void 0===o?void 0:o.resellerTypeId))&&s&&le.includes(null==s||null===(i=s[0])||void 0===i?void 0:i.roleId)&&(l="pending_transactions_admin");var c={request:{size:e,page:t,resellerId:oe.requestedPrincipalId,reportName:l}};S(!0),(0,v.JN)(c).then((function(e){if(0==(null==e?void 0:e.resultCode))if(null!=e&&e.list){x(null==e?void 0:e.totalRecordCount);var t=null==e?void 0:e.list.map((function(e,t){return A(A({},e),{},{id:t})}));C(t)}else C([]),x(0);else C([]),x(0),F(null==e?void 0:e.resultDescription)})).catch((function(e){C([]),x(0),B(null==e?void 0:e.resultDescription)})).finally((function(){se.perPage!==e&&se.onPageSizeChange(e),se.page!==t&&se.onPageChange(t)})),S(!1)};return i.useEffect((function(){ce(se.perPage,se.page)}),[se.page,se.perPage,$]),i.createElement(i.Fragment,null,i.createElement("div",{style:{height:700,width:"100%"}},i.createElement(P,(0,a.Z)({loading:Z,totalCount:k,transactionList:M,timeOrder:$,setTimeOrder:ee},se,{pending:!0,onApproveOrReject:function(e,t){q(e),V(t),re(!0)}}))),i.createElement(u.Z,{open:ae,keepMounted:!0,maxWidth:"sm",fullWidth:!0,onClose:function(){re(!1)},BackdropProps:{classes:{root:l.blurBackDrop}}},i.createElement(p.Z,{className:l.dialogHeader,color:"primary",disableTypography:!0},s("approve"===L?"approveTransaction":"rejectTransaction")),i.createElement(d.Z,null,i.createElement(f.Z,{item:!0,xs:12,sm:9,md:8,lg:8},i.createElement(c.SeamlessInput,{multiline:!0,rows:4,required:!0,fullWidth:!0,value:X,onChange:function(e){var t;return G(null==e||null===(t=e.target)||void 0===t?void 0:t.value)},label:s("comment")}))),i.createElement(m.Z,null,i.createElement(c.SeamlessButton,{variant:"outlined",color:"primary",onClick:function(){re(!1),G("")}},s("cancel")),i.createElement(c.SeamlessButton,{variant:"contained",color:"primary",onClick:function(){var e;e={ersReference:j,comment:X,reasonCode:0},"approve"===L?(0,v.Jz)(e).then((function(e){0==(null==e?void 0:e.resultCode)||203===(null==e?void 0:e.resultCode)?O(null==e?void 0:e.resultMessage):B(null==e?void 0:e.resultMessage)})).catch((function(e){return B(null==e?void 0:e.resultMessage)})).finally((function(){re(!1),G(""),ce(20,0)})):"reject"===L&&(0,v.N_)(e).then((function(e){100==(null==e?void 0:e.resultCode)?O(null==e?void 0:e.resultMessage):B(null==e?void 0:e.resultMessage)})).catch((function(e){return B(null==e?void 0:e.resultMessage)})).finally((function(){re(!1),G(""),ce(20,0)}))},disabled:""===X},s("approve"===L?"approve":"reject")))))}},11312:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(7560),r=n(2411),o=n(29609),i=n(60905),l=n(86689),s=n(90436),c=n(79692),u=n(12420),m=n(48049),d=(0,c.Z)((function(e){return(0,u.Z)({fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{textTransform:"capitalize",fontSize:14}})}));const p=function(e){var t=e.headingProps,n=void 0===t?{xs:12,sm:3}:t,c=e.valueProps,u=void 0===c?{xs:12,sm:3}:c,p=e.title,f=e.value,g=e.isLink,v=void 0!==g&&g,h=e.LinkRoute,y=void 0===h?"":h,b=((0,o.useTranslation)().t,d()),E=(0,m.useHistory)();return r.createElement(r.Fragment,null,r.createElement(i.Z,(0,a.Z)({item:!0},n),r.createElement(s.Z,{className:b.fieldHeading},p)),r.createElement(i.Z,(0,a.Z)({item:!0},u),v?r.createElement(l.Z,{component:"button",className:b.fieldValue,variant:"body2",onClick:function(){E.push("".concat(y,"/").concat(f))}},f):r.createElement(s.Z,{className:b.fieldValue},f)))}},10174:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var a=n(11746),r=n(74315),o=n(77277),i=n(4614),l=n(60905),s=n(37603),c=n(2411),u=n(79692),m=n(12420),d=n(29609),p=n(6277),f=n(77114),g=n(8526),v=n(96545),h=n(23664),y=n(38670),b=n(48049),E=(0,u.Z)((function(e){return(0,m.Z)({button:{marginTop:10},element:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},dateField:{margin:e.spacing(1),width:"100%"},elementField:{marginRight:e.spacing(1),marginBottom:e.spacing(1),width:550}})}));const Z=function(e){var t=e.data,n=(e.onFormSubmit,E()),u=(0,d.useTranslation)().t,m=c.useState(!1),Z=(0,r.Z)(m,2),S=Z[0],T=Z[1],w=(0,h.Z)(),k=w.showErrorMessage,x=w.showSuccessMessage,N=(0,b.useHistory)(),I=g.Ry().shape({amount:g.Rx().required(u("valueIsRequired")).positive(u("amountPositive")).typeError(u("o2cAmountError")),productCategory:g.Z_().required(u("valueIsRequired")),topUpPrincipalId:g.Z_().required(u("valueIsRequired"))}),M=(0,f.TA)({initialValues:t,onSubmit:function(e){return K(e)},validationSchema:I,enableReinitialize:!0}),C=M.values,R=M.errors,B=M.handleChange,P=(M.handleBlur,M.handleSubmit),D=M.handleReset,O=c.useState([]),A=(0,r.Z)(O,2),_=A[0],F=A[1];c.useEffect((function(){T(!0),(0,v.zm)().then((function(e){return F(e.productCategories)})).catch((function(e){return k(e)})).finally((function(){return T(!1)}))}),[]);var U=_.map((function(e){return e.name})),z=window.config.transaction.paymentOptions||"",L=(0,y.useSelector)((function(e){return null==e?void 0:e.auth}),y.shallowEqual),q=window.config.currency||"",W=window.config.language||"",H=window.config.transaction.externalRequestType||"",j=window.config.transaction.accountTypeIdMapping||"",V=window.config.transaction.c2sSale||"",J=window.config.transaction.REQUEST_GATEWAY_CODE||"",K=c.useCallback((function(e){T(!0);var t={seller:{type:"RESELLERMSISDN",id:L.user.targetMSISDN,accountTypeId:"RESELLER"},topUpPrincipalId:{type:"SUBSCRIBERMSISDN",id:e.topUpPrincipalId,accountTypeId:j.filter((function(t){return t.key===e.productCategory}))[0].value||"AIRTIME"},product:{amount:{value:e.amount,currency:q}},transactionProperties:{map:{preferredLanguage:W,paymentMethod:e.paymentMethod,comments:e.comments,productCategory:e.productCategory,externalRequestType:H.filter((function(t){return t.value===e.productCategory}))[0].key,REQUEST_GATEWAY_CODE:J}}};(0,v.Su)(t,V).then((function(e){0===e.resultCode?(x(e.resultMessage),N.push("/home/transaction/subscriberTopup")):k(e.resultMessage)})).catch((function(e){return k(e)})).finally((function(){T(!1)}))}),[]);return c.createElement(c.Fragment,null,c.createElement(l.Z,{container:!0,spacing:3},c.createElement(l.Z,{item:!0,xs:12,sm:6,md:3},c.createElement(s.SeamlessDropDown,{id:"status-drop-down",fullWidth:!0,className:(0,p.default)(n.element),label:u("productCategory"),helperText:R.productCategory,options:[{key:u("pleaseChoose","Please Choose"),value:" "}].concat((0,a.Z)(U.map((function(e){return{value:e,key:e}})))),name:"productCategory",value:C.productCategory,onChange:B,error:!!R.productCategory,required:!0})),c.createElement(l.Z,{item:!0,xs:12,sm:6,md:3},c.createElement(s.SeamlessInput,{fullWidth:!0,error:!!R.topUpPrincipalId,helperText:R.topUpPrincipalId,className:(0,p.default)(n.element),name:"topUpPrincipalId",value:C.topUpPrincipalId,onChange:B,label:u("recipientMobileNo"),required:!0}))),c.createElement(l.Z,{container:!0,spacing:3},c.createElement(l.Z,{item:!0,xs:12,sm:6,md:3},c.createElement(s.SeamlessInput,{type:"number",fullWidth:!0,error:!!R.amount,helperText:R.amount,className:(0,p.default)(n.element),name:"amount",value:C.amount,onChange:B,label:u("amount"),required:!0})),c.createElement(l.Z,{item:!0,xs:12,sm:6,md:3},c.createElement(s.SeamlessDropDown,{id:"status-drop-down",fullWidth:!0,className:(0,p.default)(n.element),label:u("paymentMethod"),helperText:R.paymentMethod,options:z,name:"paymentMethod",value:C.paymentMethod,onChange:B,error:!!R.paymentMethod}))),c.createElement(l.Z,{container:!0},c.createElement(l.Z,{item:!0,xs:12,sm:6,md:6},c.createElement(s.SeamlessInput,{fullWidth:!0,multiline:!0,rows:10,rowsMax:8,className:(0,p.default)(n.element),name:"comments",value:C.comments,onChange:B,label:u("comments")}))),c.createElement(l.Z,{item:!0,xs:12},c.createElement(o.Z,{type:"button",onClick:function(e){P()},className:(0,p.default)(n.element,n.button),color:"primary",variant:"contained",disabled:S},u("sellTopUP"),S&&c.createElement(i.Z,{color:"inherit",size:14,thickness:6,style:{marginLeft:"8px"}})),c.createElement(o.Z,{type:"button",onClick:D,className:(0,p.default)(n.element,n.button),color:"primary",variant:"outlined"},u("resetButton"))))}},56562:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var a=n(7560),r=n(11746),o=n(55238),i=n(56470),l=n(74315),s=n(77162),c=n.n(s),u=n(2411),m=n(33553),d=n(60905),p=n(90436),f=n(82938),g=n(80030),v=n(24276),h=n(77277),y=n(41262),b=n(37603),E=n(6277),Z=n(79692),S=n(12420),T=n(61837),w=n(94106),k=n(29609),x=n(8526),N=n(18896),I=n(46491),M=n(31422),C=n(90286),R=n.n(C),B=n(75748),P=n(86689),D=n(23664),O=(0,Z.Z)((function(e){return(0,S.Z)({spacingTop:{marginTop:e.spacing(3)},input:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},inputComment:{marginLeft:e.spacing(1),width:"66%"},btnSpacing:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},fullWidth:{width:"100%"},margins:{marginTop:e.spacing(2)},selectBox:{paddingLeft:"10px"},button:{margin:e.spacing(1)},element:{margin:e.spacing(1)},spacingBottom:{marginBottom:e.spacing(2)},ammountDesc:{marginLeft:"5px",marginTop:"25px"},fieldArrayWrapper:{border:"1px solid #EDEDED",marginLeft:"0",marginTop:"10px",width:"100%",borderRadius:"10px",padding:"10px",background:"#F7F7F7"},textRight:{textAlign:"right"},fieldHeading:{fontWeight:"bold",textTransform:"capitalize",fontSize:14},fieldValue:{fontSize:14},rowSpacing:{marginLeft:e.spacing(1)},backdrop:{zIndex:e.zIndex.drawer+1,color:e.palette.primary.main}})}));const A=function(e){var t,n,s,Z,S=e.data,C=e.onFormSubmit,A=(e.loading,e.isReset),_=e.checkIsTopUp,F=e.disableTopUpButton,U=e.isPostpaid,z=void 0!==U&&U,L=O(),q=(0,k.useTranslation)().t,W=null!==(t=null===(n=window)||void 0===n||null===(s=n.config)||void 0===s||null===(Z=s.transaction)||void 0===Z?void 0:Z.uploadFileLimit)&&void 0!==t?t:50,H=(0,D.Z)(),j=H.showErrorMessage,V=H.showWarningMessage,J=[{key:q("cash"),value:"cash"}],K=u.useState([]),X=(0,l.Z)(K,2),G=X[0],Q=X[1],Y=u.useState(!1),$=(0,l.Z)(Y,2),ee=$[0],te=$[1],ne=u.useState([{recipientMobileNo:"",amount:"",paymentMethod:"cash",comment:"",batchId:"",anonymousId:"",isAnonymous:!1}]),ae=(0,l.Z)(ne,2),re=ae[0],oe=(ae[1],u.useState(!1)),ie=(0,l.Z)(oe,2),le=ie[0],se=ie[1],ce=u.useState(!1),ue=(0,l.Z)(ce,2),me=ue[0],de=ue[1],pe=u.useState(["+","-"]),fe=(0,l.Z)(pe,1)[0],ge=x.Ry().shape({isTopUpBulkData:x.IX().of(x.Ry().shape({recipientMobileNo:x.Z_().when("anonymousId",{is:function(e){return!e||0===e.length},then:x.Z_().required(q("recipientMobileNoError")).matches(/^((\\+[6-9]{1,4}[ \\-]*)|(\\([0-9]{2,5}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,q("recipientMobile")),otherwise:x.Z_()}),amount:x.Z_().required(q("amountError")).matches(/^[0-9]/,q("recipientAmount")),paymentMethod:x.Z_(),comment:x.Z_(),anonymousId:x.Z_().when("recipientMobileNo",{is:function(e){return!e||0===e.length},then:x.Z_().required(q("anonymousError")),otherwise:x.Z_()}),isAnonymous:x.O7()},[["recipientMobileNo","anonymousId"]]))}),ve=(0,w.cI)({mode:"onSubmit",defaultValues:re,resolver:(0,I.X)(ge),reValidateMode:"onChange"}),he=ve.register,ye=ve.errors,be=ve.getValues,Ee=ve.control,Ze=ve.handleSubmit,Se=ve.reset,Te=(ve.setError,ve.setValue),we=ve.watch,ke=(0,w.Dq)({name:"data",control:Ee}),xe=ke.fields,Ne=ke.append,Ie=ke.remove;u.useEffect((function(){A&&(Se(),Te("data",[S]))}),[A]),u.useEffect((function(){Ne(S),Te("data",[S])}),[]);var Me=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(!0),R().parse(t.target.files[0],{header:!0,skipEmptyLines:!0,complete:function(){var e=(0,i.Z)(c().mark((function e(t){var n,a,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.data.length>0)){e.next=28;break}if(Se(S),n=Object.keys(null==t?void 0:t.data[0]).sort(),a=["amount","anonymousId","comment","paymentMethod","recipientMobileNo","typeOfTransaction"],n.toString()===a.toString()){e.next=9;break}return j(q("incorrectFileFormat")),Te("data",[S]),te(!1),e.abrupt("return");case 9:if(!((r=t.data.filter((function(e){return z?"POSTPAID"===e.typeOfTransaction:"TOPUP"===e.typeOfTransaction})).map((function(e){var t;return{isAnonymous:!e.recipientMobileNo,comment:e.comment,anonymousId:e.anonymousId,recipientMobileNo:e.recipientMobileNo,paymentMethod:null==e||null===(t=e.paymentMethod)||void 0===t?void 0:t.toLowerCase(),amount:e.amount}}))).length>W)){e.next=16;break}return Se(),V(q("sizeExceeded")+W),Te("data",[S]),te(!1),e.abrupt("return");case 16:if(!(r.length>0)){e.next=23;break}return Te("data",r),e.next=20,r.forEach((function(e,t){Te("isTopUpBulkData[".concat(t,"]"),{comment:null==e?void 0:e.comment,amount:null==e?void 0:e.amount,paymentMethod:null==e?void 0:e.paymentMethod}),Te("isTopUpBulkData[".concat(t,"].isAnonymous"),null==e?void 0:e.isAnonymous),Te("isTopUpBulkData[".concat(t,"].anonymousId"),null==e?void 0:e.anonymousId),Te("isTopUpBulkData[".concat(t,"].recipientMobileNo"),null==e?void 0:e.recipientMobileNo)}));case 20:te(!1),e.next=26;break;case 23:te(!1),j(q("theFileHasNoAirtimeStockEntries")),Se(S),Te("data",[S]);case 26:e.next=31;break;case 28:te(!1),j(q("theFileHasNoEntries")),Se(S),Te("data",[S]);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click()};return u.createElement(u.Fragment,null,u.createElement(d.Z,{container:!0,spacing:2,className:L.spacingBottom},u.createElement(d.Z,{item:!0,xs:12},u.createElement("div",null,u.createElement(p.Z,{variant:"caption",style:{marginBottom:"0"}},q("Single")),u.createElement(f.Z,{checked:me,value:me,color:"primary",onChange:function(e){de(e.target.checked),_(e.target.checked),Se(),Te("data",[S])},name:"validFrom"}),u.createElement(p.Z,{variant:"caption"},q("Bulk")),me?u.createElement(u.Fragment,null,u.createElement(d.Z,{item:!0,style:{float:"right"},lg:10,md:10,xs:12},u.createElement("input",{accept:".csv",type:"file",style:{display:"none"},onChange:function(e){Me(e)},onClick:function(e){e.target.value=null},id:"file"}),u.createElement("label",{htmlFor:"file"},u.createElement(h.Z,{variant:"outlined",color:"primary",component:"span",className:L.margins,style:{float:"right",marginBottom:5}},u.createElement(B.Z,null)," Upload File")),u.createElement("div",{style:{marginLeft:"9px"}},u.createElement(P.Z,{onClick:function(){z?Ce("/files/sample_postpaid.csv","sample_postpaid_import.csv"):Ce("/files/sample_topup.csv","sample_topup_import.csv")}},q("downloadSampleFile"))))):null)),ee&&u.createElement(y.Z,{className:L.backdrop,open:!0},u.createElement("h2",null,q("fileImportInProgress"))),xe.map((function(e,t){var n,i,l,s,c,h,y,Z,S;return u.createElement(u.Fragment,{key:t},me&&u.createElement(d.Z,{className:L.rowSpacing,key:t},u.createElement(p.Z,{className:L.fieldHeading},q("transactionNo")+" ".concat(t+1))),u.createElement(d.Z,{container:!0,key:e.id,spacing:2,className:(0,E.default)(L.spacingBottom,L.fieldArrayWrapper)},u.createElement(d.Z,{item:!0,xs:12},u.createElement("div",null,u.createElement(p.Z,{variant:"caption",style:{marginBottom:"0"}},q("Mobile No.")),u.createElement(f.Z,{color:"primary",checked:!!be("isTopUpBulkData[".concat(t,"].isAnonymous")),name:"isTopUpBulkData[".concat(t,"].isAnonymous"),onChange:function(e){Te("isTopUpBulkData[".concat(t,"].anonymousId"),""),Te("isTopUpBulkData[".concat(t,"].recipientMobileNo"),""),Te("isTopUpBulkData[".concat(t,"].isAnonymous"),null==e?void 0:e.target.checked)},inputRef:he()}),u.createElement(p.Z,{variant:"caption"},q("Anonymous ID")))),u.createElement(d.Z,{item:!0,xs:4},we("isTopUpBulkData[".concat(t,"].isAnonymous"))?u.createElement(b.SeamlessInput,{required:!0,fullWidth:!0,name:"isTopUpBulkData[".concat(t,"].anonymousId"),error:!(null==ye||!ye.isTopUpBulkData||null==ye||null===(n=ye.isTopUpBulkData[t])||void 0===n||!n.anonymousId),className:(0,E.default)(L.element),helperText:null!=ye&&ye.isTopUpBulkData?null==ye||null===(i=ye.isTopUpBulkData[t])||void 0===i||null===(l=i.anonymousId)||void 0===l?void 0:l.message:"",onChange:function(e){Te("isTopUpBulkData[".concat(t,"].anonymousId"),e.target.value)},label:q("anonymousId"),inputRef:he()}):null,we("isTopUpBulkData[".concat(t,"].isAnonymous"))?null:u.createElement(b.SeamlessInput,{required:!0,fullWidth:!0,name:"isTopUpBulkData[".concat(t,"].recipientMobileNo"),error:!(null==ye||!ye.isTopUpBulkData||null==ye||null===(s=ye.isTopUpBulkData[t])||void 0===s||!s.recipientMobileNo),className:(0,E.default)(L.element),helperText:null!=ye&&ye.isTopUpBulkData?null==ye||null===(c=ye.isTopUpBulkData[t])||void 0===c||null===(h=c.recipientMobileNo)||void 0===h?void 0:h.message:"",onChange:function(e){Te("isTopUpBulkData[".concat(t,"].recipientMobileNo"),e.target.value)},label:q("recipientMobileNo"),inputRef:he()})),u.createElement(d.Z,{item:!0,xs:4},u.createElement(b.SeamlessInput,{required:!0,fullWidth:!0,type:"number",name:"isTopUpBulkData[".concat(t,"].amount"),error:!(null==ye||!ye.isTopUpBulkData||null==ye||null===(y=ye.isTopUpBulkData[t])||void 0===y||!y.amount),helperText:null!=ye&&ye.isTopUpBulkData?null==ye||null===(Z=ye.isTopUpBulkData[t])||void 0===Z||null===(S=Z.amount)||void 0===S?void 0:S.message:"",className:(0,E.default)(L.element),label:q("amount"),inputRef:he({required:!0}),onKeyDown:function(e){return fe.includes(e.key)&&e.preventDefault()}})),u.createElement(d.Z,{item:!0,xs:4},u.createElement(m.Z,{className:(0,E.default)(L.selectBox)},u.createElement(w.Qr,{control:Ee,name:"isTopUpBulkData[".concat(t,"].paymentMethod"),defaultValue:J[0].value?J[0].value:"",render:function(e){var t=e.onChange,n=e.ref,i=(0,o.Z)(e,["onChange","ref"]);return u.createElement(b.SeamlessDropDown,(0,a.Z)({fullWidth:!0,className:(0,E.default)(L.input),label:q("paymentMethodTitle"),options:(0,r.Z)(J.map((function(e){return{value:e.value,key:e.key}}))),onChange:function(e){var n=e.target.value;t(n)},inputRef:n},i))}}))),u.createElement(d.Z,{item:!0,xs:6},u.createElement(b.SeamlessInput,{name:"isTopUpBulkData[".concat(t,"].comment"),fullWidth:!0,className:(0,E.default)(L.inputComment),rows:4,rowsMax:4,label:q("comments"),inputRef:he({required:!1})})),me&&t>0&&u.createElement(d.Z,{item:!0,xs:6,className:(0,E.default)(L.textRight)},u.createElement(g.ZP,{title:q("delete")},u.createElement(T.Z,{onClick:function(){Ie(t)},size:"small",color:"primary"},u.createElement(v.Z,null,"delete"))))))})),me&&u.createElement(d.Z,{container:!0,spacing:2},u.createElement(d.Z,{item:!0,xs:3},u.createElement(b.SeamlessButton,{variant:"outlined",type:"button",className:L.button,startIcon:u.createElement(N.Z,null),onClick:function(){return Ne(S)}},q("addNew")))),u.createElement(d.Z,{container:!0,spacing:2},u.createElement(m.Z,null,u.createElement(b.SeamlessButton,{onClick:Ze((function(e){Q(null==e?void 0:e.isTopUpBulkData),se(!0)})),className:(0,E.default)(L.element,L.btnSpacing,L.button),color:"primary",variant:"contained",disabled:F},q(z?"sellPostpaidTopup":"sellTopup")),u.createElement(b.SeamlessButton,{onClick:function(){Se(S),Te("data",[S])},className:(0,E.default)(L.element,L.button),color:"primary",variant:"outlined"},q("resetButton"))))),u.createElement(M.Z,{open:le,data:G,isBulk:me,title:q(z?"airtimePostpaidPreview":"topupPreview"),onClose:function(){return se(!1)},onSubmit:function(){se(!1),C&&C({isTopUpBulkData:G}),Se(S),Te("data",[S])}}))}},21602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(38670);const r=function(){return(0,a.useSelector)((function(e){return e.auth}),a.shallowEqual).user}},64423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var a=n(2411),r=n(94818),o={serviceId:"P2P_SERVICE",subscriberId:"",operationId:"lock"};const i=function(){return a.createElement("div",{style:{marginTop:"20px",marginLeft:"10px"}},a.createElement(r.bT,{data:o}))}},23664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(13248),r=n(29609);const o=function(){var e=(0,a.useSnackbar)().enqueueSnackbar,t=(0,r.useTranslation)().t;function n(e){var n=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(n=e[t])})),n}return{showSuccessMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"warning"})}}}}}]);