(self.webpackChunk_unified_wallet=self.webpackChunk_unified_wallet||[]).push([[7857],{4579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2411),a=n.n(r),o=n(8670);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const i=function(e){var t,n,r=(t=a().useState(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],c=r[1],u=(0,o.useSelector)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.rbac}),o.shallowEqual);return a().useEffect((function(){var t,n=(null===(t=u.features.find((function(t){return t.module===e})))||void 0===t?void 0:t.features)||[];c(n)}),[u]),i}},7835:(e,t,n)=>{"use strict";n.d(t,{u:()=>B});var r=n(2411),a=n(4104),o=n.n(a),l=n(3553),i=n(7556),c=n(905),u=n(436),s=n(7277),m=n(8629),f=n(8724),d=n(9429),p=n(9692),g=n(2420),y=n(6277),h=n(9676),v=n(6743),b=n(7603),S=n(1416);const w=n.n(S)();var E="/sfc",k=n(8670),x=n(9345),Z=n(3248),A=n(9609);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const T=function(e){var t,n,a,o,S,I,T=e.walletName,M=e.wallterType,N=e.nameColor,B=e.backgroundImage,D=(0,p.Z)((function(e){return(0,g.Z)({boxSize:{width:300,height:200,marginLeft:"20px"},typo:{fontSize:"20px",marginTop:"15px",color:N},moneyValue:{fontSize:"30px"},paper:{backgroundImage:"url(".concat(B,")"),backgroundSize:"contain",backgroundPosition:"bottom",backgroundRepeat:"no-repeat"},dialogWrapper:{textAlign:"center","& .MuiDialog-container":{width:"100%"},"& .MuiDialogContent-root":{marginRight:"auto",marginLeft:"auto"}},btnSpace:{marginRight:e.spacing(2)},element:{marginTop:e.spacing(2),marginRight:e.spacing(2)},modalContentSpacing:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}})}))(),O=C(r.useState(!1),2),z=O[0],W=O[1],L=C(r.useState(!1),2),P=L[0],j=L[1],_=C(r.useState(),2),R=_[0],q=_[1],F=C(r.useState(""),2),U=F[0],V=F[1],$=function(){var e=(0,Z.useSnackbar)().enqueueSnackbar,t=(0,A.useTranslation)().t;function n(e){var n=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(n=e[t])})),n}return{showSuccessMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?n(t):t,{variant:"warning"})}}}(),K=($.showSuccessMessage,$.showErrorMessage),Y=(0,A.useTranslation)().t,G=window.config,H=null==G||null===(t=G.wallet)||void 0===t?void 0:t.currencySymbol,J=function(){W(!1)},Q=(0,k.useSelector)((function(e){return e.auth})).user;return Q&&null!==(n=Q.info)&&void 0!==n&&n.resellerData&&(a=null===(S=Q.info.resellerData)||void 0===S?void 0:S.resellerId,o=null===(I=Q.info.resellerData)||void 0===I?void 0:I.resellerMSISDN),r.useEffect((function(){var e;"money-wallet"===M&&(j(!0),(e={dealerCode:a},w("".concat(E,"/fetch-dealer-balance"),{method:"POST",body:e})).then((function(e){return q(null==e?void 0:e.accountBalance)})).catch((function(e){return K(e)})).finally((function(){return j(!1)})))}),[M]),r.createElement(r.Fragment,null,P?r.createElement(x.Z,{animation:"wave",className:(0,y.default)(D.boxSize)}):r.createElement(l.Z,{display:"flex",className:(0,y.default)(D.boxSize)},r.createElement(i.Z,{className:(0,y.default)(D.paper)},r.createElement(c.Z,{container:!0,style:{marginLeft:"10px"}},r.createElement(c.Z,{item:!0,xs:10},r.createElement(u.Z,{className:(0,y.default)(D.typo)},T)),r.createElement(c.Z,{item:!0,xs:2,style:{transform:"rotate(-90deg)"}},r.createElement(h.Z,null)),"airtime-wallet"===M&&r.createElement(c.Z,{item:!0,xs:12},r.createElement(s.Z,{color:"primary",style:{fontSize:"10px"},onClick:function(){return W(!0)}},"Check Balance")),r.createElement(c.Z,{item:!0,xs:12},r.createElement(u.Z,{className:(0,y.default)(D.moneyValue)},R?"".concat(H," ").concat(R):"-"))))),r.createElement(m.Z,{open:z,onClose:J,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"sm"},r.createElement(f.Z,null,r.createElement(c.Z,{style:{textAlign:"center"}},r.createElement(v.Z,{fontSize:"large"})),r.createElement(b.SeamlessInput,{id:"sender-pin",type:"password",label:Y("enterPin"),helperText:Y("pinError"),required:!0,fullWidth:!0,onChange:function(e){return V(e.target.value)}})),r.createElement(d.Z,null,r.createElement(b.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:(0,y.default)(D.btnSpace),onClick:function(){var e;U?(j(!0),(e={sender:{id:a,additionalFields:[{name:"senderMSISDN",value:o},{name:"senderPin",value:U}]}},w("".concat(E,"/pretups-fetch-balance"),{method:"POST",body:e})).then((function(e){return q(null==e?void 0:e.accountBalance)})).catch((function(e){return K(e)})).finally((function(){W(!1),j(!1)}))):K(Y("pinError"))}},Y("ok")),r.createElement(b.SeamlessButton,{type:"button",variant:"outlined",color:"primary",className:(0,y.default)(D.btnSpace),onClick:J},Y("closeButton")))))},M=n.p+"images/airtimeBackground.png",N=n.p+"images/moneyBackground.png",B=function(){var e=o()().checkPermission,t=(0,A.useTranslation)().t;return r.createElement(l.Z,{display:"flex",flexDirection:"row"},e("AIRTIME_WALLET")&&r.createElement(T,{walletName:t("airtimeWallet"),wallterType:"airtime-wallet",nameColor:"blue",backgroundImage:M}),e("MONEY_WALLET")&&r.createElement(T,{walletName:t("moneyWallet"),wallterType:"money-wallet",nameColor:"orange",backgroundImage:N}))}}}]);