(self.webpackChunk_unified_portal=self.webpackChunk_unified_portal||[]).push([["src_components_Upload_index_tsx","src_utils_snackbarHandlers_ts"],{84496:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getLang:()=>k,default:()=>x,rebuild:()=>C});var n,o,a,c,i,s,u=r(51119),l=r(94518),d=r(34367),f=r.n(d),p=r(7931),g=r(80424),v=r(76931),h=r.n(v),y=r(73562);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var b=(null===(n=window)||void 0===n?void 0:n.config).unAuthConfig,m=null===(o=null==b?void 0:b.logoutOnUnAuth)||void 0===o||o,O=function(e){var t=e.get("authorization"),r=e.get("password-expired");if(t){g.Z.dispatch((0,p.Fr)(t));try{localStorage.setItem("token",t)}catch(e){}}"true"===r&&g.Z.dispatch((0,p.an)(h().t("passwordExpireMessage","Your password has been expired. Please contact administrator.")))},P=function(){try{return localStorage.getItem("token")}catch(e){return null}},S=null===(a=window)||void 0===a||null===(c=a.config)||void 0===c?void 0:c.httpTimeout,j=(null===(i=window)||void 0===i||null===(s=i.config)||void 0===s?void 0:s.timeoutMessage)||"UI Timeout",Z=S?parseInt(S,10):1e4,k=function(){var e=function(){var e="";try{e=localStorage.getItem("i18nextLng")}catch(t){e=l.ZP.language}return e}()||"en",t="en,en-IN;q=0.9,en-US;q=0.8,en-GB;q=0.7,de;q=0.6".split(",");return t[0]!==e&&(t.shift(),t.unshift(e)),t.join(",")};window.getLang=k;var E=0,I=function(){var e=k(),t={client:"".concat(l.ZP.protocol,"://").concat(l.ZP.server,":").concat(l.ZP.port).concat(l.ZP.service,"/api"),auth:P,onDeAuthentication:function(e,t){m||t.includes("logout")||t.includes("/api/access/v1/features/resellerType/operator")||t.includes("/api/dms/auth/getResellerInfo")||t.includes("/api/oms/v2/order-payment-types")||t.includes("/api/bi-engine/v1/metadata?channel=web")?g.Z.dispatch((0,p.kS)()):l.ZP.isAllowedTokenRefresh&&E<=0&&P()?(0,y.Bm)().then((function(e){E=0})).catch((function(e){++E,g.Z.dispatch((0,p.kS)())})):t.includes("login-backend")||g.Z.dispatch((0,p.Hs)(t))},onServerError:function(){return console.log("server error")},onNetworkError:function(){return console.log("on network error")},timeout:Z,timeoutMessage:j,saveToken:O,getDefaultHeaders:function(){return new Headers({Accept:"application/json","Content-Type":"application/json","Accept-Language":e,validateOnly:"false"})}};return f()(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t))},D=I();const x=D;var C=function(){D=I()}},73562:(e,t,r)=>{"use strict";r.d(t,{Bm:()=>c,cT:()=>i});var n=r(94518),o=r(84496),a="".concat(n.ZP.protocol,"://").concat(n.ZP.server,":").concat(n.ZP.port).concat(n.ZP.service),c=function(){return(0,o.default)("".concat(a,"/refreshToken"),{method:"POST"})},i=function(e,t){var r="/osm/v1/resource/".concat(t);return(0,o.default)(r,{method:"POST",body:e},!0)}},61982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(74315),o=r(22459),a=r(33553),c=r(67358),i=r(24276),s=r(90436),u=r(79692),l=r(12420),d=r(73562),f=(r(84496),r(94518));"".concat(f.ZP.protocol,"://").concat(f.ZP.server,":").concat(f.ZP.port).concat(f.ZP.service);var p=r(56311),g=r(62310),v=(0,u.Z)((function(e){return(0,l.Z)({uploadIcon:{fontSize:50},box:{color:e.palette.grey[600],transition:"all 0.2s ease-in","&:hover":{background:e.palette.grey[100],color:e.palette.secondary.main}},button:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",width:"100%"}})}));const h=function(e){var t=e.name,r=e.label,u=(e.value,e.onChange),l=e.resourceType,f=e.disabled,h=e.type,y=void 0===h?"OSM":h,w=e.fileInputCondition,b=void 0===w?"image/*, application/pdf, .xlsx, .ods, .doc, .docx, .csv":w,m=o.useState(!1),O=(0,n.Z)(m,2),P=O[0],S=O[1],j=(0,g.default)().showErrorMessage,Z=v(),k=(0,p.useSelector)((function(e){return e.auth.user})).userId;return o.createElement(o.Fragment,null,o.createElement("input",{name:"file",accept:b,id:t.replaceAll(".","-"),type:"file",hidden:!0,onChange:function(e){var r;"OSM"===y&&null!=e&&null!==(r=e.target)&&void 0!==r&&r.value?function(e){if(e.target.files&&e.target.files.length>0){var r=(new Date).toISOString().replace(/[-:.]/g,"")+(""+Math.random()).substring(2,8),n=(e.target.files?e.target.files[0]:"").name.split(".").pop();S(!0);var o=new FormData;o.append("files",e.target.files[0],r+"."+n),o.append("uploadedBy",k),o.append("uploadedFor",k),o.append("resourceOwner",k),o.append("data",JSON.stringify(e.target.files[0])),(0,d.cT)(o,l).then((function(e){return e.resourceData[0].resourceId})).then((function(r){u({target:{value:r,name:t,file:e.target.files[0]}})})).catch((function(e){return j(e)})).finally((function(){return S(!1)}))}}(e):u(e)},onClick:function(e){e.target.value=null},disabled:f}),o.createElement("label",{htmlFor:t},o.createElement("span",{id:"seamless-unified-upload",className:Z.button},o.createElement(a.Z,{className:Z.box,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",pr:2,pl:2,borderRadius:6,borderColor:"grey.200",border:2},o.createElement(i.Z,{className:Z.uploadIcon,fontSize:"large",color:"inherit"},"file_upload"),o.createElement(s.Z,{gutterBottom:!0,variant:"caption"},r)))),P?o.createElement(c.Z,{color:"secondary",style:{height:10}}):null)}},98028:(e,t,r)=>{"use strict";r.d(t,{Fr:()=>v,kS:()=>h,an:()=>y,Hs:()=>w,ZP:()=>b});var n,o=r(51119),a=r(94801);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={token:null,error:null,user:null,roles:[],featureGroup:{},rbac:{},forgotPasswordValues:{},passwordExpired:!1},u=JSON.parse(localStorage.getItem("auth")),l=u||s,d=(null===(n=window)||void 0===n?void 0:n.config).unAuthConfig,f=(null==d?void 0:d.unauthorizedMessage)||"Unauthorized Access",p=(0,a.createSlice)({name:"auth",initialState:l,reducers:{login:function(e,t){e.user=t.payload},rbacSuccess:function(e,t){e.rbac=t.payload},logout:function(e){return e.token&&(localStorage.clear(),window.location.reload()),s},unauthorized:function(e,t){var r=""!==window.location.port?":"+window.location.port:"",n=window.location.protocol+"//"+window.location.hostname+r;return window.alert(f+"\nAPI :"+t.payload),window.location.href=n,s},forceChangePassword:function(e,t){return i(i({},e),{},{passwordExpired:t.payload})},clearChangePassword:function(e,t){return i(i({},e),{},{passwordExpired:!1})},loginError:function(e,t){e.error=t.payload},forgotPasswordValues:function(e,t){e.forgotPasswordValues=t.payload},saveToken:function(e,t){e.token=t.payload},resellerInfoSuccess:function(e,t){e.user=i(i({},e.user),{},{info:t.payload})}}}),g=p.actions,v=(g.resellerInfoSuccess,g.saveToken),h=(g.login,g.loginError,g.logout),y=(g.rbacSuccess,g.forgotPasswordValues,g.forceChangePassword),w=(g.clearChangePassword,g.unauthorized);const b=p.reducer},7931:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>u,an:()=>n.an,kS:()=>n.kS,Fr:()=>n.Fr,Hs:()=>n.Hs});var n=r(98028),o=r(94801),a=(0,o.createAction)("notify"),c={show:!1,body:null},i=(0,o.createSlice)({name:"notification",initialState:c,reducers:{removeNotification:function(e){e.show=!1,e.body=c.body}},extraReducers:function(e){e.addCase(a,(function(e,t){e.show=!0,e.body=t.payload}))}});i.actions.removeNotification;const s=i.reducer;const u={auth:n.ZP,notification:s}},80424:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(51119),o=r(94801),a=r(7931),c=r(12436),i=r.n(c);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=(0,o.configureStore)({reducer:a.ZP,devTools:!0});l.asyncReducers={},l.injectReducer=function(e,t){l.asyncReducers[e]=t;var r=(0,o.combineReducers)(u(u({},a.ZP),l.asyncReducers));l.replaceReducer(r)},l.subscribe(i()((function(){var e,t=null===(e=l.getState())||void 0===e?void 0:e.auth;t&&t.token&&t.user&&localStorage.setItem("auth",JSON.stringify(t))}),300));const d=l},75007:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=(0,r(76866).iE)({language:"en",protocol:"http",server:"",port:"",resourceManagerPort:"3000",service:"/topupservice",isAllowedTokenRefresh:!0,locale:"/locales/{{lng}}/{{ns}}.json",modules:["inventory","kyc","admin"]})},94518:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>n.default});var n=r(75007);r(76931),r(49472),r(5126),r(60790),r(65087)},62310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(54967),o=r(49472);const a=function(){var e=(0,n.useSnackbar)().enqueueSnackbar,t=(0,o.useTranslation)().t;function r(e){var r=t("anErrorOccurred");return["resultMessage","message","resultDescription"].forEach((function(t){e.hasOwnProperty(t)&&(r=e[t])})),r}return{showSuccessMessage:function(t){e("string"!=typeof t?r(t):t,{variant:"success"})},showErrorMessage:function(t){e("string"!=typeof t?r(t):t,{variant:"error"})},showInfoMessage:function(t){e("string"!=typeof t?r(t):t,{variant:"info"})},showWarningMessage:function(t){e("string"!=typeof t?r(t):t,{variant:"warning"})}}}}}]);